import{c as f,r as j,j as e,X as E,A as R,L,u as P,a as I,S as O,b as V}from"./index-C8ZGZ-EL.js";import{C as F,f as B,u as H}from"./useApplications-WqTJkzH3.js";import{T as U,f as _,a as J,g as z,P as D,S as G}from"./dateUtils-BzyIUV7p.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],K=f("arrow-up-down",Y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],T=f("building",X);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q=f("chevron-down",Q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z=f("chevron-up",W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$=f("dollar-sign",ee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],te=f("external-link",se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],le=f("funnel",ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ne=f("grid-3x3",re);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ce=f("link",ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],oe=f("list",de);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xe=f("search",me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pe=f("square-pen",he),je=({application:s,onEdit:m,onDelete:u,onClick:b})=>{const[c,t]=j.useState(!1),p=r=>{r.target.closest(".action-button")||(t(!c),b?.(s))},N=r=>{r.stopPropagation(),m(s)},l=r=>{r.stopPropagation(),window.confirm("Are you sure you want to delete this application?")&&u(s.id)},x=r=>({Applied:"bg-blue-100 text-blue-800","Phone Call":"bg-purple-100 text-purple-800","1st Interview":"bg-purple-100 text-purple-800","2nd Interview":"bg-purple-100 text-purple-800",Offer:"bg-green-100 text-green-800","Rejected after Applying":"bg-red-100 text-red-800","Rejected after Phone Call":"bg-red-100 text-red-800","Rejected after 1st Interview":"bg-red-100 text-red-800","Rejected after 2nd Interview":"bg-red-100 text-red-800",Ghosted:"bg-gray-100 text-gray-800"})[r]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:`application-card ${c?"application-card-expanded":""}`,onClick:p,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:s.title}),e.jsx("p",{className:"text-gray-600 font-medium",children:s.company})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(s.status)}`,children:s.status}),e.jsx("button",{onClick:N,className:"action-button p-1 text-gray-400 hover:text-gray-600 rounded",title:"Edit application",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:l,className:"action-button p-1 text-gray-400 hover:text-red-600 rounded",title:"Delete application",children:e.jsx(U,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:_(s.dateApplied)})]}),s.salary&&e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:B(s.salary)}),e.jsxs("span",{className:"ml-1 text-xs",children:["(",s.salaryType,")"]})]}),s.jobLink&&e.jsxs("a",{href:s.jobLink,target:"_blank",rel:"noopener noreferrer",className:"action-button flex items-center text-blue-600 hover:text-blue-800",onClick:r=>r.stopPropagation(),children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"View Job"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:J(s.updatedAt)}),e.jsx("button",{className:"flex items-center text-xs text-gray-500 hover:text-gray-700",onClick:r=>{r.stopPropagation(),t(!c)},children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-1",children:"Less"}),e.jsx(Z,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-1",children:"More"}),e.jsx(q,{className:"w-4 h-4"})]})})]}),c&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[s.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:s.notes})]}),s.benefits&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Benefits"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:s.benefits})]}),s.selectionCriteria&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Selection Criteria"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:s.selectionCriteria})]}),s.interviewNotes&&s.interviewNotes.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:["Interview Notes (",s.interviewNotes.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[s.interviewNotes.slice(0,2).map(r=>e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("span",{className:"text-xs font-medium text-gray-700 capitalize",children:[r.type," - ",_(r.date)]})}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:r.notes})]},r.id)),s.interviewNotes.length>2&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",s.interviewNotes.length-2," more interview notes"]})]})]})]})]})},ue=({filters:s,onFiltersChange:m,companies:u,isOpen:b,onToggle:c})=>{const[t,p]=j.useState(s);j.useEffect(()=>{p(s)},[s]);const N=(a,n)=>{const d=n?[...t.status||[],a]:(t.status||[]).filter(w=>w!==a),g={...t,status:d.length>0?d:void 0};p(g),m(g)},l=(a,n)=>{const d=n?[...t.companies||[],a]:(t.companies||[]).filter(w=>w!==a),g={...t,companies:d.length>0?d:void 0};p(g),m(g)},x=a=>{let n;a==="custom"?n=t.dateRange||z("month"):n=z(a);const d={...t,dateRange:n};p(d),m(d)},r=(a,n)=>{const d={start:a==="start"?n:t.dateRange?.start||"",end:a==="end"?n:t.dateRange?.end||""},g={...t,dateRange:d};p(g),m(g)},y=a=>{const n=a.target.value||void 0,d={...t,searchTerm:n};p(d),m(d)},i=()=>{const a={};p(a),m(a)},h=!!(t.status?.length||t.companies?.length||t.dateRange||t.searchTerm);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:c,className:`btn ${b?"btn-primary":"btn-secondary"} flex items-center relative`,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Filters",h&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]}),b&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-80 z-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&e.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:e.jsx(E,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(xe,{className:"w-4 h-4 inline mr-2"}),"Search"]}),e.jsx("input",{type:"text",className:"input",placeholder:"Search jobs or companies...",value:t.searchTerm||"",onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Status"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:R.map(a=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 mr-2",checked:t.status?.includes(a)||!1,onChange:n=>N(a,n.target.checked)}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},a))})]}),u.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(T,{className:"w-4 h-4 inline mr-2"}),"Companies"]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:u.map(a=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 mr-2",checked:t.companies?.includes(a)||!1,onChange:n=>l(a,n.target.checked)}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(F,{className:"w-4 h-4 inline mr-2"}),"Date Range"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"week",label:"Last 7 days"},{key:"month",label:"Last 30 days"},{key:"quarter",label:"Last 90 days"},{key:"year",label:"Last year"}].map(({key:a,label:n})=>e.jsx("button",{onClick:()=>x(a),className:"text-sm py-1 px-2 rounded border border-gray-300 hover:bg-gray-50 text-left",children:n},a))}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"From"}),e.jsx("input",{type:"date",className:"input text-xs",value:t.dateRange?.start||"",onChange:a=>r("start",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"To"}),e.jsx("input",{type:"date",className:"input text-xs",value:t.dateRange?.end||"",onChange:a=>r("end",a.target.value)})]})]})})]})]})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:c})]})},ge=({applications:s,loading:m,error:u,onCreateNew:b,onEdit:c,onDelete:t,filters:p,onFiltersChange:N,filteredApplications:l})=>{const[x,r]=j.useState("grid"),[y,i]=j.useState(!1),[h,a]=j.useState("updatedAt"),[n,d]=j.useState("desc"),[g,w]=j.useState(!1),M=j.useMemo(()=>[...new Set(s.map(k=>k.company))].sort(),[s]),A=j.useMemo(()=>[...l].sort((o,k)=>{let C=o[h],S=k[h];return(h==="dateApplied"||h==="updatedAt")&&(C=new Date(C).getTime(),S=new Date(S).getTime()),typeof C=="string"&&(C=C.toLowerCase(),S=S.toLowerCase()),C<S?n==="asc"?-1:1:C>S?n==="asc"?1:-1:0}),[l,h,n]),v=o=>{o===h?d(k=>k==="asc"?"desc":"asc"):(a(o),d("desc")),w(!1)};return m&&s.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(L,{size:"lg"})}):u?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-600 mb-4",children:[e.jsx("p",{className:"text-lg font-medium",children:"Error loading applications"}),e.jsx("p",{className:"text-sm",children:u})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Applications"}),e.jsxs("p",{className:"text-gray-600",children:[s.length," total • ",l.length," filtered"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>w(!g),className:"btn btn-secondary flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sort: "}),e.jsx("span",{className:"sm:hidden",children:"Sort"}),e.jsx(q,{className:"w-4 h-4 ml-1"})]}),g&&e.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-48 z-50",children:[{field:"updatedAt",label:"Last Updated"},{field:"dateApplied",label:"Date Applied"},{field:"company",label:"Company"},{field:"title",label:"Job Title"},{field:"status",label:"Status"}].map(({field:o,label:k})=>e.jsxs("button",{onClick:()=>v(o),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${h===o?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[k,h===o&&e.jsx("span",{className:"ml-2",children:n==="asc"?"↑":"↓"})]},o))})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded",children:[e.jsx("button",{onClick:()=>r("grid"),className:`p-2 ${x==="grid"?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,title:"Grid view",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r("list"),className:`p-2 ${x==="list"?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,title:"List view",children:e.jsx(oe,{className:"w-4 h-4"})})]}),e.jsx(ue,{filters:p,onFiltersChange:N,companies:M,isOpen:y,onToggle:()=>i(!y)}),e.jsxs("button",{onClick:b,className:"btn btn-primary flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Application"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),A.length===0?e.jsx("div",{className:"text-center py-12",children:s.length===0?e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-medium text-gray-900 mb-2",children:"No applications yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start tracking your job applications by adding your first one."}),e.jsxs("button",{onClick:b,className:"btn btn-primary flex items-center mx-auto",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Add Your First Application"]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-medium text-gray-900 mb-2",children:"No applications match your filters"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or clearing the filters."}),e.jsx("button",{onClick:()=>N({}),className:"btn btn-secondary",children:"Clear Filters"})]})}):e.jsx("div",{className:x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(o=>e.jsx(je,{application:o,onEdit:c,onDelete:t},o.id))}),m&&s.length>0&&e.jsxs("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg p-3 flex items-center space-x-2",children:[e.jsx(L,{size:"sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Syncing..."})]}),(g||y)&&e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>{w(!1),i(!1)}})]})},ye=({application:s,isOpen:m,onClose:u,onSubmit:b,loading:c=!1})=>{const{register:t,handleSubmit:p,reset:N,formState:{errors:l,isSubmitting:x}}=P({resolver:I(V),defaultValues:{salaryType:"Seek Estimate"}});j.useEffect(()=>{if(m)if(s){const i=s.dateApplied.includes("T")?s.dateApplied.split("T")[0]:s.dateApplied;N({title:s.title,company:s.company,jobLink:s.jobLink||"",dateApplied:i,status:s.status,salary:s.salary||"",salaryType:s.salaryType,benefits:s.benefits||"",notes:s.notes||"",selectionCriteria:s.selectionCriteria||""})}else N({title:"",company:"",jobLink:"",dateApplied:new Date().toISOString().split("T")[0],status:"Applied",salary:"",salaryType:"Seek Estimate",benefits:"",notes:"",selectionCriteria:""})},[s,m,N]);const r=async i=>{try{await b(i),u()}catch(h){console.error("Form submission error:",h)}},y=i=>{i.target===i.currentTarget&&u()};return m?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:y,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Application":"Add New Application"}),e.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x||c,children:e.jsx(E,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:p(r),className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(T,{className:"w-4 h-4 inline mr-2"}),"Job Title *"]}),e.jsx("input",{...t("title"),type:"text",className:"input",placeholder:"e.g., Software Engineer"}),l.title&&e.jsx("p",{className:"form-error",children:l.title.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(T,{className:"w-4 h-4 inline mr-2"}),"Company *"]}),e.jsx("input",{...t("company"),type:"text",className:"input",placeholder:"e.g., Tech Corp"}),l.company&&e.jsx("p",{className:"form-error",children:l.company.message})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(ce,{className:"w-4 h-4 inline mr-2"}),"Job Posting URL"]}),e.jsx("input",{...t("jobLink"),type:"url",className:"input",placeholder:"https://company.com/jobs/123"}),l.jobLink&&e.jsx("p",{className:"form-error",children:l.jobLink.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx(F,{className:"w-4 h-4 inline mr-2"}),"Date Applied *"]}),e.jsx("input",{...t("dateApplied"),type:"date",className:"input"}),l.dateApplied&&e.jsx("p",{className:"form-error",children:l.dateApplied.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Status"}),e.jsx("select",{...t("status"),className:"input",children:R.map(i=>e.jsx("option",{value:i,children:i},i))}),l.status&&e.jsx("p",{className:"form-error",children:l.status.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Salary"]}),e.jsx("input",{...t("salary"),type:"text",className:"input",placeholder:"e.g., 80000"}),l.salary&&e.jsx("p",{className:"form-error",children:l.salary.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Salary Type"}),e.jsx("select",{...t("salaryType"),className:"input",children:O.map(i=>e.jsx("option",{value:i,children:i},i))}),l.salaryType&&e.jsx("p",{className:"form-error",children:l.salaryType.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Benefits"}),e.jsx("textarea",{...t("benefits"),className:"input min-h-[80px] resize-y",placeholder:"Health insurance, 401k, remote work...",rows:3}),l.benefits&&e.jsx("p",{className:"form-error",children:l.benefits.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Notes"}),e.jsx("textarea",{...t("notes"),className:"input min-h-[100px] resize-y",placeholder:"Additional notes about this application...",rows:4}),l.notes&&e.jsx("p",{className:"form-error",children:l.notes.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Selection Criteria"}),e.jsx("textarea",{...t("selectionCriteria"),className:"input min-h-[120px] resize-y",placeholder:"Key requirements and how you meet them...",rows:5}),l.selectionCriteria&&e.jsx("p",{className:"form-error",children:l.selectionCriteria.message})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:u,className:"btn btn-secondary",disabled:x||c,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:x||c,children:x||c?e.jsx(L,{size:"sm"}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),s?"Update":"Save"]})})]})]})]})}):null},ve=()=>{const{applications:s,filteredApplications:m,loading:u,error:b,create:c,update:t,remove:p,filter:N}=H(),[l,x]=j.useState(!1),[r,y]=j.useState(),[i,h]=j.useState(!1),[a,n]=j.useState({}),d=()=>{y(void 0),x(!0)},g=v=>{y(v),x(!0)},w=async v=>{try{await p(v)}catch(o){console.error("Error deleting application:",o)}},M=async v=>{try{h(!0),r?await t(r.id,v):await c(v),x(!1),y(void 0)}catch(o){throw console.error("Error saving application:",o),o}finally{h(!1)}},A=v=>{n(v),N(v)};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(ge,{applications:s,filteredApplications:m,loading:u,error:b,onCreateNew:d,onEdit:g,onDelete:w,filters:a,onFiltersChange:A}),e.jsx(ye,{application:r,isOpen:l,onClose:()=>{x(!1),y(void 0)},onSubmit:M,loading:i})]})};export{ve as default};
