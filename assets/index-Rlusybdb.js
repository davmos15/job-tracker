const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ApplicationsPage-CZv0tYjc.js","assets/useApplications-BbNhPtYx.js","assets/StatsPage-CqD5FBRg.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function hR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cp={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function fR(){if(Z0)return du;Z0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return du.Fragment=e,du.jsx=n,du.jsxs=n,du}var K0;function dR(){return K0||(K0=1,cp.exports=fR()),cp.exports}var F=dR(),hp={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function mR(){if(Q0)return ze;Q0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function H(V,oe,pe){this.props=V,this.context=oe,this.refs=z,this.updater=pe||O}H.prototype.isReactComponent={},H.prototype.setState=function(V,oe){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,oe,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function X(V,oe,pe){this.props=V,this.context=oe,this.refs=z,this.updater=pe||O}var ne=X.prototype=new Q;ne.constructor=X,x(ne,H.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function D(V,oe,pe,ue,Re,Ue){return pe=Ue.ref,{$$typeof:t,type:V,key:oe,ref:pe!==void 0?pe:null,props:Ue}}function S(V,oe){return D(V.type,oe,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function k(V){var oe={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return oe[pe]})}var L=/\/+/g;function P(V,oe){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):oe.toString(36)}function R(){}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(oe){V.status==="pending"&&(V.status="fulfilled",V.value=oe)},function(oe){V.status==="pending"&&(V.status="rejected",V.reason=oe)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function je(V,oe,pe,ue,Re){var Ue=typeof V;(Ue==="undefined"||Ue==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(Ue){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case t:case e:xe=!0;break;case v:return xe=V._init,je(xe(V._payload),oe,pe,ue,Re)}}if(xe)return Re=Re(V),xe=ue===""?"."+P(V,0):ue,fe(Re)?(pe="",xe!=null&&(pe=xe.replace(L,"$&/")+"/"),je(Re,oe,pe,"",function(On){return On})):Re!=null&&(I(Re)&&(Re=S(Re,pe+(Re.key==null||V&&V.key===Re.key?"":(""+Re.key).replace(L,"$&/")+"/")+xe)),oe.push(Re)),1;xe=0;var Rt=ue===""?".":ue+":";if(fe(V))for(var it=0;it<V.length;it++)ue=V[it],Ue=Rt+P(ue,it),xe+=je(ue,oe,pe,Ue,Re);else if(it=T(V),typeof it=="function")for(V=it.call(V),it=0;!(ue=V.next()).done;)ue=ue.value,Ue=Rt+P(ue,it++),xe+=je(ue,oe,pe,Ue,Re);else if(Ue==="object"){if(typeof V.then=="function")return je(Le(V),oe,pe,ue,Re);throw oe=String(V),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(V,oe,pe){if(V==null)return V;var ue=[],Re=0;return je(V,ue,"","",function(Ue){return oe.call(pe,Ue,Re++)}),ue}function ce(V){if(V._status===-1){var oe=V._result;oe=oe(),oe.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=oe)}if(V._status===1)return V._result.default;throw V._result}var Ae=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function He(){}return ze.Children={map:K,forEach:function(V,oe,pe){K(V,function(){oe.apply(this,arguments)},pe)},count:function(V){var oe=0;return K(V,function(){oe++}),oe},toArray:function(V){return K(V,function(oe){return oe})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ze.Component=H,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=X,ze.StrictMode=i,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,ze.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ie.H.useMemoCache(V)}},ze.cache=function(V){return function(){return V.apply(null,arguments)}},ze.cloneElement=function(V,oe,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=x({},V.props),Re=V.key,Ue=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(Ue=void 0),oe.key!==void 0&&(Re=""+oe.key),oe)!ye.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(ue[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)ue.children=pe;else if(1<xe){for(var Rt=Array(xe),it=0;it<xe;it++)Rt[it]=arguments[it+2];ue.children=Rt}return D(V.type,Re,void 0,void 0,Ue,ue)},ze.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ze.createElement=function(V,oe,pe){var ue,Re={},Ue=null;if(oe!=null)for(ue in oe.key!==void 0&&(Ue=""+oe.key),oe)ye.call(oe,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Re[ue]=oe[ue]);var xe=arguments.length-2;if(xe===1)Re.children=pe;else if(1<xe){for(var Rt=Array(xe),it=0;it<xe;it++)Rt[it]=arguments[it+2];Re.children=Rt}if(V&&V.defaultProps)for(ue in xe=V.defaultProps,xe)Re[ue]===void 0&&(Re[ue]=xe[ue]);return D(V,Ue,void 0,void 0,null,Re)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(V){return{$$typeof:d,render:V}},ze.isValidElement=I,ze.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ce}},ze.memo=function(V,oe){return{$$typeof:g,type:V,compare:oe===void 0?null:oe}},ze.startTransition=function(V){var oe=ie.T,pe={};ie.T=pe;try{var ue=V(),Re=ie.S;Re!==null&&Re(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(He,Ae)}catch(Ue){Ae(Ue)}finally{ie.T=oe}},ze.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},ze.use=function(V){return ie.H.use(V)},ze.useActionState=function(V,oe,pe){return ie.H.useActionState(V,oe,pe)},ze.useCallback=function(V,oe){return ie.H.useCallback(V,oe)},ze.useContext=function(V){return ie.H.useContext(V)},ze.useDebugValue=function(){},ze.useDeferredValue=function(V,oe){return ie.H.useDeferredValue(V,oe)},ze.useEffect=function(V,oe,pe){var ue=ie.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(V,oe)},ze.useId=function(){return ie.H.useId()},ze.useImperativeHandle=function(V,oe,pe){return ie.H.useImperativeHandle(V,oe,pe)},ze.useInsertionEffect=function(V,oe){return ie.H.useInsertionEffect(V,oe)},ze.useLayoutEffect=function(V,oe){return ie.H.useLayoutEffect(V,oe)},ze.useMemo=function(V,oe){return ie.H.useMemo(V,oe)},ze.useOptimistic=function(V,oe){return ie.H.useOptimistic(V,oe)},ze.useReducer=function(V,oe,pe){return ie.H.useReducer(V,oe,pe)},ze.useRef=function(V){return ie.H.useRef(V)},ze.useState=function(V){return ie.H.useState(V)},ze.useSyncExternalStore=function(V,oe,pe){return ie.H.useSyncExternalStore(V,oe,pe)},ze.useTransition=function(){return ie.H.useTransition()},ze.version="19.1.0",ze}var Y0;function mg(){return Y0||(Y0=1,hp.exports=mR()),hp.exports}var W=mg();const Xt=hR(W);var fp={exports:{}},mu={},dp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function pR(){return X0||(X0=1,function(t){function e(K,ce){var Ae=K.length;K.push(ce);e:for(;0<Ae;){var He=Ae-1>>>1,V=K[He];if(0<a(V,ce))K[He]=ce,K[Ae]=V,Ae=He;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ce=K[0],Ae=K.pop();if(Ae!==ce){K[0]=Ae;e:for(var He=0,V=K.length,oe=V>>>1;He<oe;){var pe=2*(He+1)-1,ue=K[pe],Re=pe+1,Ue=K[Re];if(0>a(ue,Ae))Re<V&&0>a(Ue,ue)?(K[He]=Ue,K[Re]=Ae,He=Re):(K[He]=ue,K[pe]=Ae,He=pe);else if(Re<V&&0>a(Ue,Ae))K[He]=Ue,K[Re]=Ae,He=Re;else break e}}return ce}function a(K,ce){var Ae=K.sortIndex-ce.sortIndex;return Ae!==0?Ae:K.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,w=null,T=3,O=!1,x=!1,z=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(K){for(var ce=n(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=K)i(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function ie(K){if(z=!1,fe(K),!x)if(n(p)!==null)x=!0,ye||(ye=!0,P());else{var ce=n(g);ce!==null&&je(ie,ce.startTime-K)}}var ye=!1,D=-1,S=5,I=-1;function k(){return H?!0:!(t.unstable_now()-I<S)}function L(){if(H=!1,ye){var K=t.unstable_now();I=K;var ce=!0;try{e:{x=!1,z&&(z=!1,X(D),D=-1),O=!0;var Ae=T;try{t:{for(fe(K),w=n(p);w!==null&&!(w.expirationTime>K&&k());){var He=w.callback;if(typeof He=="function"){w.callback=null,T=w.priorityLevel;var V=He(w.expirationTime<=K);if(K=t.unstable_now(),typeof V=="function"){w.callback=V,fe(K),ce=!0;break t}w===n(p)&&i(p),fe(K)}else i(p);w=n(p)}if(w!==null)ce=!0;else{var oe=n(g);oe!==null&&je(ie,oe.startTime-K),ce=!1}}break e}finally{w=null,T=Ae,O=!1}ce=void 0}}finally{ce?P():ye=!1}}}var P;if(typeof ne=="function")P=function(){ne(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Le=R.port2;R.port1.onmessage=L,P=function(){Le.postMessage(null)}}else P=function(){Q(L,0)};function je(K,ce){D=Q(function(){K(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(K){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var Ae=T;T=ce;try{return K()}finally{T=Ae}},t.unstable_requestPaint=function(){H=!0},t.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Ae=T;T=K;try{return ce()}finally{T=Ae}},t.unstable_scheduleCallback=function(K,ce,Ae){var He=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?He+Ae:He):Ae=He,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Ae+V,K={id:v++,callback:ce,priorityLevel:K,startTime:Ae,expirationTime:V,sortIndex:-1},Ae>He?(K.sortIndex=Ae,e(g,K),n(p)===null&&K===n(g)&&(z?(X(D),D=-1):z=!0,je(ie,Ae-He))):(K.sortIndex=V,e(p,K),x||O||(x=!0,ye||(ye=!0,P()))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var ce=T;return function(){var Ae=T;T=ce;try{return K.apply(this,arguments)}finally{T=Ae}}}}(mp)),mp}var W0;function gR(){return W0||(W0=1,dp.exports=pR()),dp.exports}var pp={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function yR(){if(J0)return yn;J0=1;var t=mg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},yn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:O}):v==="script"&&i.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},yn.requestFormReset=function(p){i.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var eE;function _R(){if(eE)return pp.exports;eE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=yR(),pp.exports}var tE;function vR(){if(tE)return mu;tE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=gR(),e=mg(),n=_R();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=m;break}if(A===u){E=!0,u=f,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=f;break}if(A===u){E=!0,u=m,o=f;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function Le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case ie:return"Suspense";case ye:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case fe:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}var je=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},He=[],V=-1;function oe(r){return{current:r}}function pe(r){0>V||(r.current=He[V],He[V]=null,V--)}function ue(r,s){V++,He[V]=r.current,r.current=s}var Re=oe(null),Ue=oe(null),xe=oe(null),Rt=oe(null);function it(r,s){switch(ue(xe,s),ue(Ue,r),ue(Re,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?T0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=T0(s),r=w0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Re),ue(Re,r)}function On(){pe(Re),pe(Ue),pe(xe)}function Xn(r){r.memoizedState!==null&&ue(Rt,r);var s=Re.current,o=w0(s,r.type);s!==o&&(ue(Ue,r),ue(Re,o))}function dr(r){Ue.current===r&&(pe(Re),pe(Ue)),Rt.current===r&&(pe(Rt),lu._currentValue=Ae)}var Cr=Object.prototype.hasOwnProperty,li=t.unstable_scheduleCallback,Dr=t.unstable_cancelCallback,Wi=t.unstable_shouldYield,qa=t.unstable_requestPaint,xn=t.unstable_now,gc=t.unstable_getCurrentPriorityLevel,Ji=t.unstable_ImmediatePriority,N=t.unstable_UserBlockingPriority,$=t.unstable_NormalPriority,J=t.unstable_LowPriority,_e=t.unstable_IdlePriority,me=t.log,he=t.unstable_setDisableYieldValue,ge=null,be=null;function Be(r){if(typeof me=="function"&&he(r),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(ge,r)}catch{}}var st=Math.clz32?Math.clz32:ci,ui=Math.log,Wn=Math.LN2;function ci(r){return r>>>=0,r===0?32:31-(ui(r)/Wn|0)|0}var mr=256,pr=4194304;function jn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hi(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=jn(u):(E&=A,E!==0?f=jn(E):o||(o=A&~r,o!==0&&(f=jn(o))))):(A=u&~m,A!==0?f=jn(A):E!==0?f=jn(E):o||(o=u&~r,o!==0&&(f=jn(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function fi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function es(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ul(){var r=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),r}function cl(){var r=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),r}function di(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function mi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function hl(r,s,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,C=r.expirationTimes,q=r.hiddenUpdates;for(o=E&~o;0<o;){var ee=31-st(o),se=1<<ee;A[ee]=0,C[ee]=-1;var G=q[ee];if(G!==null)for(q[ee]=null,ee=0;ee<G.length;ee++){var Z=G[ee];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Nr(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function Nr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-st(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function fl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-st(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function ts(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ha(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ns(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:B0(r.type))}function yc(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var _t=Math.random().toString(36).slice(2),Gt="__reactFiber$"+_t,Mt="__reactProps$"+_t,Jn="__reactContainer$"+_t,dl="__reactEvents$"+_t,dd="__reactListeners$"+_t,rs="__reactHandles$"+_t,_c="__reactResources$"+_t,Xs="__reactMarker$"+_t;function is(r){delete r[Gt],delete r[Mt],delete r[dl],delete r[dd],delete r[rs]}function pi(r){var s=r[Gt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Jn]||o[Gt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=R0(r);r!==null;){if(o=r[Gt])return o;r=R0(r)}return s}r=o,o=r.parentNode}return null}function Or(r){if(r=r[Gt]||r[Jn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function xr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function An(r){var s=r[_c];return s||(s=r[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(r){r[Xs]=!0}var ml=new Set,$a={};function gr(r,s){gi(r,s),gi(r+"Capture",s)}function gi(r,s){for($a[r]=s,r=0;r<s.length;r++)ml.add(s[r])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Ws={};function Tc(r){return Cr.call(Ws,r)?!0:Cr.call(Ec,r)?!1:vc.test(r)?Ws[r]=!0:(Ec[r]=!0,!1)}function ss(r,s,o){if(Tc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function kr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ln(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Js,wc;function yi(r){if(Js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Js=s&&s[1]||"",wc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+r+wc}var Ga=!1;function Za(r,s){if(!r||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var G=Z}Reflect.construct(r,[],se)}else{try{se.call()}catch(Z){G=Z}r.call(se.prototype)}}else{try{throw Error()}catch(Z){G=Z}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&G&&typeof Z.stack=="string")return[Z.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var C=E.split(`
`),q=A.split(`
`);for(f=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===C.length||f===q.length)for(u=C.length-1,f=q.length-1;1<=u&&0<=f&&C[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(C[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||C[u]!==q[f]){var ee=`
`+C[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yi(o):""}function pl(r){switch(r.tag){case 26:case 27:case 5:return yi(r.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Za(r.type,!1);case 11:return Za(r.type.render,!1);case 1:return Za(r.type,!0);case 31:return yi("Activity");default:return""}}function Ka(r){try{var s="";do s+=pl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function md(r){var s=gl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qa(r){r._valueTracker||(r._valueTracker=md(r))}function yl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=gl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ea(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pd=/[\n"\\]/g;function Lt(r){return r.replace(pd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bn(r,s,o,u,f,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?as(r,E,bn(s)):o!=null?as(r,E,bn(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+bn(A):r.removeAttribute("name")}function ta(r,s,o,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function as(r,s,o){s==="number"&&ea(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _i(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function lt(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function na(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(je(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function er(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ra.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function _l(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Ac(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Ac(r,m,s[m])}function vl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(r){return yd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ei=null,Ti=null;function El(r){var s=Or(r);if(s&&(r=s.stateNode)){var o=r[Mt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Bn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Mt]||null;if(!f)throw Error(i(90));Bn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&yl(u)}break e;case"textarea":lt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_i(r,!!o.multiple,s,!1)}}}var Vr=!1;function bc(r,s,o){if(Vr)return r(s,o);Vr=!0;try{var u=r(s);return u}finally{if(Vr=!1,(Ei!==null||Ti!==null)&&(yh(),Ei&&(s=Ei,r=Ti,Ti=Ei=null,El(s),r)))for(s=0;s<r.length;s++)El(r[s])}}function ia(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Mt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(yr)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){nr=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{nr=!1}var Pr=null,os=null,wi=null;function Tl(){if(wi)return wi;var r,s=os,o=s.length,u,f="value"in Pr?Pr.value:Pr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return wi=f.slice(r,1<u?1-u:void 0)}function Mr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function wl(){return!1}function Jt(r){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lr:wl,this.isPropagationStopped=wl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Jt(nt),aa=v({},nt,{view:0,detail:0}),Sc=Jt(aa),Wa,Ja,Ur,oa=v({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ur&&(Ur&&r.type==="mousemove"?(Wa=r.screenX-Ur.screenX,Ja=r.screenY-Ur.screenY):Ja=Wa=0,Ur=r),Wa)},movementY:function(r){return"movementY"in r?r.movementY:Ja}}),rr=Jt(oa),Rc=v({},oa,{dataTransfer:0}),_d=Jt(Rc),la=v({},aa,{relatedTarget:0}),eo=Jt(la),Al=v({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Jt(Al),Ic=v({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),no=Jt(Ic),vd=v({},nt,{data:0}),bl=Jt(vd),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Dc[r])?!!s[r]:!1}function ca(){return Sl}var Nc=v({},aa,{key:function(r){if(r.key){var s=ua[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Cc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ro=Jt(Nc),Oc=v({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Jt(Oc),Ai=v({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),xc=Jt(Ai),kc=v({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=Jt(kc),Pc=v({},oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Jt(Pc),Sn=v({},nt,{newState:0,oldState:0}),Mc=Jt(Sn),Lc=[9,13,27,32],zr=yr&&"CompositionEvent"in window,h=null;yr&&"documentMode"in document&&(h=document.documentMode);var y=yr&&"TextEvent"in window&&!h,_=yr&&(!zr||h&&8<h&&11>=h),b=" ",j=!1;function Y(r,s){switch(r){case"keyup":return Lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function Zt(r,s){switch(r){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(j=!0,b);case"textInput":return r=s.data,r===b&&j?null:r;default:return null}}function Xe(r,s){if(Ye)return r==="compositionend"||!zr&&Y(r,s)?(r=Tl(),wi=os=Pr=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function bi(r,s,o,u){Ei?Ti?Ti.push(u):Ti=[u]:Ei=u,s=Ah(s,"onChange"),0<s.length&&(o=new Xa("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var un=null,jr=null;function Il(r){g0(r,0)}function Uc(r){var s=xr(r);if(yl(s))return r}function Ly(r,s){if(r==="change")return s}var Uy=!1;if(yr){var Ed;if(yr){var Td="oninput"in document;if(!Td){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),Td=typeof zy.oninput=="function"}Ed=Td}else Ed=!1;Uy=Ed&&(!document.documentMode||9<document.documentMode)}function jy(){un&&(un.detachEvent("onpropertychange",By),jr=un=null)}function By(r){if(r.propertyName==="value"&&Uc(jr)){var s=[];bi(s,jr,r,tr(r)),bc(Il,s)}}function BS(r,s,o){r==="focusin"?(jy(),un=s,jr=o,un.attachEvent("onpropertychange",By)):r==="focusout"&&jy()}function FS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uc(jr)}function qS(r,s){if(r==="click")return Uc(s)}function HS(r,s){if(r==="input"||r==="change")return Uc(s)}function $S(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:$S;function Cl(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Cr.call(s,f)||!Fn(r[f],s[f]))return!1}return!0}function Fy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qy(r,s){var o=Fy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Fy(o)}}function Hy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Hy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function $y(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ea(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ea(r.document)}return s}function wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var GS=yr&&"documentMode"in document&&11>=document.documentMode,so=null,Ad=null,Dl=null,bd=!1;function Gy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bd||so==null||so!==ea(u)||(u=so,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Cl(Dl,u)||(Dl=u,u=Ah(Ad,"onSelect"),0<u.length&&(s=new Xa("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=so)))}function ha(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ao={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Sd={},Zy={};yr&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function fa(r){if(Sd[r])return Sd[r];if(!ao[r])return r;var s=ao[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Zy)return Sd[r]=s[o];return r}var Ky=fa("animationend"),Qy=fa("animationiteration"),Yy=fa("animationstart"),ZS=fa("transitionrun"),KS=fa("transitionstart"),QS=fa("transitioncancel"),Xy=fa("transitionend"),Wy=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function _r(r,s){Wy.set(r,s),gr(s,[r])}var Jy=new WeakMap;function ir(r,s){if(typeof r=="object"&&r!==null){var o=Jy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ka(s)},Jy.set(r,s),s)}return{value:r,source:s,stack:Ka(s)}}var sr=[],oo=0,Id=0;function zc(){for(var r=oo,s=Id=oo=0;s<r;){var o=sr[s];sr[s++]=null;var u=sr[s];sr[s++]=null;var f=sr[s];sr[s++]=null;var m=sr[s];if(sr[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&e_(o,f,m)}}function jc(r,s,o,u){sr[oo++]=r,sr[oo++]=s,sr[oo++]=o,sr[oo++]=u,Id|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Cd(r,s,o,u){return jc(r,s,o,u),Bc(r)}function lo(r,s){return jc(r,null,null,s),Bc(r)}function e_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&s!==null&&(f=31-st(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function Bc(r){if(50<eu)throw eu=0,Vm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var uo={};function YS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,o,u){return new YS(r,s,o,u)}function Dd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,s){var o=r.alternate;return o===null?(o=qn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function t_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Fc(r,s,o,u,f,m){var E=0;if(u=r,typeof r=="function")Dd(r)&&(E=1);else if(typeof r=="string")E=W1(r,o,Re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=qn(31,o,s,f),r.elementType=I,r.lanes=m,r;case x:return da(o.children,f,m,s);case z:E=8,f|=24;break;case H:return r=qn(12,o,s,f|2),r.elementType=H,r.lanes=m,r;case ie:return r=qn(13,o,s,f),r.elementType=ie,r.lanes=m,r;case ye:return r=qn(19,o,s,f),r.elementType=ye,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:case ne:E=10;break e;case X:E=9;break e;case fe:E=11;break e;case D:E=14;break e;case S:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=qn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function da(r,s,o,u){return r=qn(7,r,u,s),r.lanes=o,r}function Nd(r,s,o){return r=qn(6,r,null,s),r.lanes=o,r}function Od(r,s,o){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var co=[],ho=0,qc=null,Hc=0,ar=[],or=0,ma=null,Ri=1,Ii="";function pa(r,s){co[ho++]=Hc,co[ho++]=qc,qc=r,Hc=s}function n_(r,s,o){ar[or++]=Ri,ar[or++]=Ii,ar[or++]=ma,ma=r;var u=Ri;r=Ii;var f=32-st(u)-1;u&=~(1<<f),o+=1;var m=32-st(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ri=1<<32-st(s)+f|o<<f|u,Ii=m+r}else Ri=1<<m|o<<f|u,Ii=r}function xd(r){r.return!==null&&(pa(r,1),n_(r,1,0))}function kd(r){for(;r===qc;)qc=co[--ho],co[ho]=null,Hc=co[--ho],co[ho]=null;for(;r===ma;)ma=ar[--or],ar[or]=null,Ii=ar[--or],ar[or]=null,Ri=ar[--or],ar[or]=null}var Rn=null,It=null,tt=!1,ga=null,Br=!1,Vd=Error(i(519));function ya(r){var s=Error(i(418,""));throw xl(ir(s,r)),Vd}function r_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Gt]=r,s[Mt]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<nu.length;o++)Ze(nu[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),ta(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Qa(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),na(s,u.value,u.defaultValue,u.children),Qa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||E0(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=bh),s=!0):s=!1,s||ya(r)}function i_(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Rn=Rn.return}}function Nl(r){if(r!==Rn)return!1;if(!tt)return i_(r),tt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ym(r.type,r.memoizedProps)),o=!o),o&&It&&ya(r),i_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){It=Er(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}It=null}}else s===27?(s=It,As(r.type)?(r=ep,ep=null,It=r):It=s):It=Rn?Er(r.stateNode.nextSibling):null;return!0}function Ol(){It=Rn=null,tt=!1}function s_(){var r=ga;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),ga=null),r}function xl(r){ga===null?ga=[r]:ga.push(r)}var Pd=oe(null),_a=null,Ci=null;function ls(r,s,o){ue(Pd,s._currentValue),s._currentValue=o}function Di(r){r._currentValue=Pd.current,pe(Pd)}function Md(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Ld(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var C=0;C<s.length;C++)if(A.context===s[C]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Md(m.return,o,r),u||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Md(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function kl(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=f.type;Fn(f.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(f===Rt.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(lu):r=[lu])}f=f.return}r!==null&&Ld(s,r,o,u),s.flags|=262144}function $c(r){for(r=r.firstContext;r!==null;){if(!Fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){_a=r,Ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return a_(_a,r)}function Gc(r,s){return _a===null&&va(r),a_(r,s)}function a_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ci===null){if(r===null)throw Error(i(308));Ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ci=Ci.next=s;return o}var XS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},WS=t.unstable_scheduleCallback,JS=t.unstable_NormalPriority,Qt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new XS,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&WS(JS,function(){r.controller.abort()})}var Pl=null,zd=0,fo=0,mo=null;function e1(r,s){if(Pl===null){var o=Pl=[];zd=0,fo=Bm(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return zd++,s.then(o_,o_),s}function o_(){if(--zd===0&&Pl!==null){mo!==null&&(mo.status="fulfilled");var r=Pl;Pl=null,fo=0,mo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function t1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var l_=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&e1(r,s),l_!==null&&l_(r,s)};var Ea=oe(null);function jd(){var r=Ea.current;return r!==null?r:mt.pooledCache}function Zc(r,s){s===null?ue(Ea,Ea.current):ue(Ea,s.pool)}function u_(){var r=jd();return r===null?null:{parent:Qt._currentValue,pool:r}}var Ml=Error(i(460)),c_=Error(i(474)),Kc=Error(i(542)),Bd={then:function(){}};function h_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qc(){}function f_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Qc,Qc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,m_(r),r;default:if(typeof s.status=="string")s.then(Qc,Qc);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,m_(r),r}throw Ll=s,Ml}}var Ll=null;function d_(){if(Ll===null)throw Error(i(459));var r=Ll;return Ll=null,r}function m_(r){if(r===Ml||r===Kc)throw Error(i(483))}var us=!1;function Fd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function cs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Bc(r),e_(r,null,o),s}return jc(r,u,s,o),Bc(r)}function Ul(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,fl(r,o)}}function Hd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var $d=!1;function zl(){if($d){var r=mo;if(r!==null)throw r}}function jl(r,s,o,u){$d=!1;var f=r.updateQueue;us=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,q=C.next;C.next=null,E===null?m=q:E.next=q,E=C;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==E&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=C))}if(m!==null){var se=f.baseState;E=0,ee=q=C=null,A=m;do{var G=A.lane&-536870913,Z=G!==A.lane;if(Z?(We&G)===G:(u&G)===G){G!==0&&G===fo&&($d=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ke=r,Ce=A;G=s;var ht=o;switch(Ce.tag){case 1:if(ke=Ce.payload,typeof ke=="function"){se=ke.call(ht,se,G);break e}se=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ce.payload,G=typeof ke=="function"?ke.call(ht,se,G):ke,G==null)break e;se=v({},se,G);break e;case 2:us=!0}}G=A.callback,G!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[G]:Z.push(G))}else Z={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=Z,C=se):ee=ee.next=Z,E|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ee===null&&(C=se),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),vs|=E,r.lanes=E,r.memoizedState=se}}function p_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function g_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)p_(o[r],s)}var po=oe(null),Yc=oe(0);function y_(r,s){r=Mi,ue(Yc,r),ue(po,s),Mi=r|s.baseLanes}function Gd(){ue(Yc,Mi),ue(po,po.current)}function Zd(){Mi=Yc.current,pe(po),pe(Yc)}var fs=0,Fe=null,ut=null,Ut=null,Xc=!1,go=!1,Ta=!1,Wc=0,Bl=0,yo=null,n1=0;function xt(){throw Error(i(321))}function Kd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Fn(r[o],s[o]))return!1;return!0}function Qd(r,s,o,u,f,m){return fs=m,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?ev:tv,Ta=!1,m=o(u,f),Ta=!1,go&&(m=v_(s,o,u,f)),__(r),m}function __(r){K.H=ih;var s=ut!==null&&ut.next!==null;if(fs=0,Ut=ut=Fe=null,Xc=!1,Bl=0,yo=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&$c(r)&&(tn=!0))}function v_(r,s,o,u){Fe=r;var f=0;do{if(go&&(yo=null),Bl=0,go=!1,25<=f)throw Error(i(301));if(f+=1,Ut=ut=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=u1,m=s(o,u)}while(go);return m}function r1(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?Fl(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Fe.flags|=1024),s}function Yd(){var r=Wc!==0;return Wc=0,r}function Xd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Wd(r){if(Xc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xc=!1}fs=0,Ut=ut=Fe=null,go=!1,Bl=Wc=0,yo=null}function kn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Fe.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function zt(){if(ut===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=Ut===null?Fe.memoizedState:Ut.next;if(s!==null)Ut=s,ut=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?Fe.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function Jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(r){var s=Bl;return Bl+=1,yo===null&&(yo=[]),r=f_(yo,r,s),s=Fe,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?ev:tv),r}function Jc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fl(r);if(r.$$typeof===ne)return gn(r)}throw Error(i(438,String(r)))}function em(r){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Jd(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=k;return s.index++,o}function Ni(r,s){return typeof s=="function"?s(r):s}function eh(r){var s=zt();return tm(s,ut,r)}function tm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var A=E=null,C=null,q=s,ee=!1;do{var se=q.lane&-536870913;if(se!==q.lane?(We&se)===se:(fs&se)===se){var G=q.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),se===fo&&(ee=!0);else if((fs&G)===G){q=q.next,G===fo&&(ee=!0);continue}else se={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(A=C=se,E=m):C=C.next=se,Fe.lanes|=G,vs|=G;se=q.action,Ta&&o(m,se),m=q.hasEagerState?q.eagerState:o(m,se)}else G={lane:se,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(A=C=G,E=m):C=C.next=G,Fe.lanes|=se,vs|=se;q=q.next}while(q!==null&&q!==s);if(C===null?E=m:C.next=A,!Fn(m,r.memoizedState)&&(tn=!0,ee&&(o=mo,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=C,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function nm(r){var s=zt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);Fn(m,s.memoizedState)||(tn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function E_(r,s,o){var u=Fe,f=zt(),m=tt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Fn((ut||f).memoizedState,o);E&&(f.memoizedState=o,tn=!0),f=f.queue;var A=A_.bind(null,u,f,r);if(ql(2048,8,A,[r]),f.getSnapshot!==s||E||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,_o(9,th(),w_.bind(null,u,f,o,s),null),mt===null)throw Error(i(349));m||(fs&124)!==0||T_(u,s,o)}return o}function T_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=Jd(),Fe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function w_(r,s,o,u){s.value=o,s.getSnapshot=u,b_(s)&&S_(r)}function A_(r,s,o){return o(function(){b_(s)&&S_(r)})}function b_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Fn(r,o)}catch{return!0}}function S_(r){var s=lo(r,2);s!==null&&Kn(s,r,2)}function rm(r){var s=kn();if(typeof r=="function"){var o=r;if(r=o(),Ta){Be(!0);try{o()}finally{Be(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},s}function R_(r,s,o,u){return r.baseState=o,tm(r,ut,typeof u=="function"?u:Ni)}function i1(r,s,o,u,f){if(rh(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};K.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,I_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function I_(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=K.T,E={};K.T=E;try{var A=o(f,u),C=K.S;C!==null&&C(E,A),C_(r,s,A)}catch(q){im(r,s,q)}finally{K.T=m}}else try{m=o(f,u),C_(r,s,m)}catch(q){im(r,s,q)}}function C_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){D_(r,s,u)},function(u){return im(r,s,u)}):D_(r,s,o)}function D_(r,s,o){s.status="fulfilled",s.value=o,N_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,I_(r,o)))}function im(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,N_(s),s=s.next;while(s!==u)}r.action=null}function N_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function O_(r,s){return s}function x_(r,s){if(tt){var o=mt.formState;if(o!==null){e:{var u=Fe;if(tt){if(It){t:{for(var f=It,m=Br;f.nodeType!==8;){if(!m){f=null;break t}if(f=Er(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){It=Er(f.nextSibling),u=f.data==="F!";break e}}ya(u)}u=!1}u&&(s=o[0])}}return o=kn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:s},o.queue=u,o=X_.bind(null,Fe,u),u.dispatch=o,u=rm(!1),m=um.bind(null,Fe,!1,u.queue),u=kn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=i1.bind(null,Fe,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function k_(r){var s=zt();return V_(s,ut,r)}function V_(r,s,o){if(s=tm(r,s,O_)[0],r=eh(Ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Fl(s)}catch(E){throw E===Ml?Kc:E}else u=s;s=zt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Fe.flags|=2048,_o(9,th(),s1.bind(null,f,o),null)),[u,m,r]}function s1(r,s){r.action=s}function P_(r){var s=zt(),o=ut;if(o!==null)return V_(s,o,r);zt(),s=s.memoizedState,o=zt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function _o(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Jd(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function th(){return{destroy:void 0,resource:void 0}}function M_(){return zt().memoizedState}function nh(r,s,o,u){var f=kn();u=u===void 0?null:u,Fe.flags|=r,f.memoizedState=_o(1|s,th(),o,u)}function ql(r,s,o,u){var f=zt();u=u===void 0?null:u;var m=f.memoizedState.inst;ut!==null&&u!==null&&Kd(u,ut.memoizedState.deps)?f.memoizedState=_o(s,m,o,u):(Fe.flags|=r,f.memoizedState=_o(1|s,m,o,u))}function L_(r,s){nh(8390656,8,r,s)}function U_(r,s){ql(2048,8,r,s)}function z_(r,s){return ql(4,2,r,s)}function j_(r,s){return ql(4,4,r,s)}function B_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function F_(r,s,o){o=o!=null?o.concat([r]):null,ql(4,4,B_.bind(null,s,r),o)}function sm(){}function q_(r,s){var o=zt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Kd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function H_(r,s){var o=zt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Kd(s,u[1]))return u[0];if(u=r(),Ta){Be(!0);try{r()}finally{Be(!1)}}return o.memoizedState=[u,s],u}function am(r,s,o){return o===void 0||(fs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Zv(),Fe.lanes|=r,vs|=r,o)}function $_(r,s,o,u){return Fn(o,s)?o:po.current!==null?(r=am(r,o,u),Fn(r,s)||(tn=!0),r):(fs&42)===0?(tn=!0,r.memoizedState=o):(r=Zv(),Fe.lanes|=r,vs|=r,s)}function G_(r,s,o,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=K.T,A={};K.T=A,um(r,!1,s,o);try{var C=f(),q=K.S;if(q!==null&&q(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ee=t1(C,u);Hl(r,s,ee,Zn(r))}else Hl(r,s,u,Zn(r))}catch(se){Hl(r,s,{then:function(){},status:"rejected",reason:se},Zn())}finally{ce.p=m,K.T=E}}function a1(){}function om(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=Z_(r).queue;G_(r,f,s,Ae,o===null?a1:function(){return K_(r),o(u)})}function Z_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function K_(r){var s=Z_(r).next.queue;Hl(r,s,{},Zn())}function lm(){return gn(lu)}function Q_(){return zt().memoizedState}function Y_(){return zt().memoizedState}function o1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Zn();r=cs(o);var u=hs(s,r,o);u!==null&&(Kn(u,s,o),Ul(u,s,o)),s={cache:Ud()},r.payload=s;return}s=s.return}}function l1(r,s,o){var u=Zn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},rh(r)?W_(s,o):(o=Cd(r,s,o,u),o!==null&&(Kn(o,r,u),J_(o,s,u)))}function X_(r,s,o){var u=Zn();Hl(r,s,o,u)}function Hl(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(r))W_(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,A=m(E,o);if(f.hasEagerState=!0,f.eagerState=A,Fn(A,E))return jc(r,s,f,0),mt===null&&zc(),!1}catch{}finally{}if(o=Cd(r,s,f,u),o!==null)return Kn(o,r,u),J_(o,s,u),!0}return!1}function um(r,s,o,u){if(u={lane:2,revertLane:Bm(),action:u,hasEagerState:!1,eagerState:null,next:null},rh(r)){if(s)throw Error(i(479))}else s=Cd(r,o,u,2),s!==null&&Kn(s,r,2)}function rh(r){var s=r.alternate;return r===Fe||s!==null&&s===Fe}function W_(r,s){go=Xc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function J_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,fl(r,o)}}var ih={readContext:gn,use:Jc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},ev={readContext:gn,use:Jc,useCallback:function(r,s){return kn().memoizedState=[r,s===void 0?null:s],r},useContext:gn,useEffect:L_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,nh(4194308,4,B_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return nh(4194308,4,r,s)},useInsertionEffect:function(r,s){nh(4,2,r,s)},useMemo:function(r,s){var o=kn();s=s===void 0?null:s;var u=r();if(Ta){Be(!0);try{r()}finally{Be(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=kn();if(o!==void 0){var f=o(s);if(Ta){Be(!0);try{o(s)}finally{Be(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=l1.bind(null,Fe,r),[u.memoizedState,r]},useRef:function(r){var s=kn();return r={current:r},s.memoizedState=r},useState:function(r){r=rm(r);var s=r.queue,o=X_.bind(null,Fe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:sm,useDeferredValue:function(r,s){var o=kn();return am(o,r,s)},useTransition:function(){var r=rm(!1);return r=G_.bind(null,Fe,r.queue,!0,!1),kn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Fe,f=kn();if(tt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),mt===null)throw Error(i(349));(We&124)!==0||T_(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,L_(A_.bind(null,u,m,r),[r]),u.flags|=2048,_o(9,th(),w_.bind(null,u,m,o,s),null),o},useId:function(){var r=kn(),s=mt.identifierPrefix;if(tt){var o=Ii,u=Ri;o=(u&~(1<<32-st(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Wc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=n1++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:lm,useFormState:x_,useActionState:x_,useOptimistic:function(r){var s=kn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=um.bind(null,Fe,!0,o),o.dispatch=s,[r,s]},useMemoCache:em,useCacheRefresh:function(){return kn().memoizedState=o1.bind(null,Fe)}},tv={readContext:gn,use:Jc,useCallback:q_,useContext:gn,useEffect:U_,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:j_,useMemo:H_,useReducer:eh,useRef:M_,useState:function(){return eh(Ni)},useDebugValue:sm,useDeferredValue:function(r,s){var o=zt();return $_(o,ut.memoizedState,r,s)},useTransition:function(){var r=eh(Ni)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:Fl(r),s]},useSyncExternalStore:E_,useId:Q_,useHostTransitionStatus:lm,useFormState:k_,useActionState:k_,useOptimistic:function(r,s){var o=zt();return R_(o,ut,r,s)},useMemoCache:em,useCacheRefresh:Y_},u1={readContext:gn,use:Jc,useCallback:q_,useContext:gn,useEffect:U_,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:j_,useMemo:H_,useReducer:nm,useRef:M_,useState:function(){return nm(Ni)},useDebugValue:sm,useDeferredValue:function(r,s){var o=zt();return ut===null?am(o,r,s):$_(o,ut.memoizedState,r,s)},useTransition:function(){var r=nm(Ni)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:Fl(r),s]},useSyncExternalStore:E_,useId:Q_,useHostTransitionStatus:lm,useFormState:P_,useActionState:P_,useOptimistic:function(r,s){var o=zt();return ut!==null?R_(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:em,useCacheRefresh:Y_},vo=null,$l=0;function sh(r){var s=$l;return $l+=1,vo===null&&(vo=[]),f_(vo,r,s)}function Gl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ah(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function nv(r){var s=r._init;return s(r._payload)}function rv(r){function s(U,M){if(r){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function o(U,M){if(!r)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Si(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function E(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function A(U,M,B,re){return M===null||M.tag!==6?(M=Nd(B,U.mode,re),M.return=U,M):(M=f(M,B),M.return=U,M)}function C(U,M,B,re){var Te=B.type;return Te===x?ee(U,M,B.props.children,re,B.key):M!==null&&(M.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&nv(Te)===M.type)?(M=f(M,B.props),Gl(M,B),M.return=U,M):(M=Fc(B.type,B.key,B.props,null,U.mode,re),Gl(M,B),M.return=U,M)}function q(U,M,B,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Od(B,U.mode,re),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function ee(U,M,B,re,Te){return M===null||M.tag!==7?(M=da(B,U.mode,re,Te),M.return=U,M):(M=f(M,B),M.return=U,M)}function se(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return B=Fc(M.type,M.key,M.props,null,U.mode,B),Gl(B,M),B.return=U,B;case O:return M=Od(M,U.mode,B),M.return=U,M;case S:var re=M._init;return M=re(M._payload),se(U,M,B)}if(je(M)||P(M))return M=da(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return se(U,sh(M),B);if(M.$$typeof===ne)return se(U,Gc(U,M),B);ah(U,M)}return null}function G(U,M,B,re){var Te=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Te!==null?null:A(U,M,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===Te?C(U,M,B,re):null;case O:return B.key===Te?q(U,M,B,re):null;case S:return Te=B._init,B=Te(B._payload),G(U,M,B,re)}if(je(B)||P(B))return Te!==null?null:ee(U,M,B,re,null);if(typeof B.then=="function")return G(U,M,sh(B),re);if(B.$$typeof===ne)return G(U,M,Gc(U,B),re);ah(U,B)}return null}function Z(U,M,B,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return U=U.get(B)||null,A(M,U,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return U=U.get(re.key===null?B:re.key)||null,C(M,U,re,Te);case O:return U=U.get(re.key===null?B:re.key)||null,q(M,U,re,Te);case S:var $e=re._init;return re=$e(re._payload),Z(U,M,B,re,Te)}if(je(re)||P(re))return U=U.get(B)||null,ee(M,U,re,Te,null);if(typeof re.then=="function")return Z(U,M,B,sh(re),Te);if(re.$$typeof===ne)return Z(U,M,B,Gc(M,re),Te);ah(M,re)}return null}function ke(U,M,B,re){for(var Te=null,$e=null,Se=M,De=M=0,rn=null;Se!==null&&De<B.length;De++){Se.index>De?(rn=Se,Se=null):rn=Se.sibling;var et=G(U,Se,B[De],re);if(et===null){Se===null&&(Se=rn);break}r&&Se&&et.alternate===null&&s(U,Se),M=m(et,M,De),$e===null?Te=et:$e.sibling=et,$e=et,Se=rn}if(De===B.length)return o(U,Se),tt&&pa(U,De),Te;if(Se===null){for(;De<B.length;De++)Se=se(U,B[De],re),Se!==null&&(M=m(Se,M,De),$e===null?Te=Se:$e.sibling=Se,$e=Se);return tt&&pa(U,De),Te}for(Se=u(Se);De<B.length;De++)rn=Z(Se,U,De,B[De],re),rn!==null&&(r&&rn.alternate!==null&&Se.delete(rn.key===null?De:rn.key),M=m(rn,M,De),$e===null?Te=rn:$e.sibling=rn,$e=rn);return r&&Se.forEach(function(Cs){return s(U,Cs)}),tt&&pa(U,De),Te}function Ce(U,M,B,re){if(B==null)throw Error(i(151));for(var Te=null,$e=null,Se=M,De=M=0,rn=null,et=B.next();Se!==null&&!et.done;De++,et=B.next()){Se.index>De?(rn=Se,Se=null):rn=Se.sibling;var Cs=G(U,Se,et.value,re);if(Cs===null){Se===null&&(Se=rn);break}r&&Se&&Cs.alternate===null&&s(U,Se),M=m(Cs,M,De),$e===null?Te=Cs:$e.sibling=Cs,$e=Cs,Se=rn}if(et.done)return o(U,Se),tt&&pa(U,De),Te;if(Se===null){for(;!et.done;De++,et=B.next())et=se(U,et.value,re),et!==null&&(M=m(et,M,De),$e===null?Te=et:$e.sibling=et,$e=et);return tt&&pa(U,De),Te}for(Se=u(Se);!et.done;De++,et=B.next())et=Z(Se,U,De,et.value,re),et!==null&&(r&&et.alternate!==null&&Se.delete(et.key===null?De:et.key),M=m(et,M,De),$e===null?Te=et:$e.sibling=et,$e=et);return r&&Se.forEach(function(cR){return s(U,cR)}),tt&&pa(U,De),Te}function ht(U,M,B,re){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:e:{for(var Te=B.key;M!==null;){if(M.key===Te){if(Te=B.type,Te===x){if(M.tag===7){o(U,M.sibling),re=f(M,B.props.children),re.return=U,U=re;break e}}else if(M.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&nv(Te)===M.type){o(U,M.sibling),re=f(M,B.props),Gl(re,B),re.return=U,U=re;break e}o(U,M);break}else s(U,M);M=M.sibling}B.type===x?(re=da(B.props.children,U.mode,re,B.key),re.return=U,U=re):(re=Fc(B.type,B.key,B.props,null,U.mode,re),Gl(re,B),re.return=U,U=re)}return E(U);case O:e:{for(Te=B.key;M!==null;){if(M.key===Te)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){o(U,M.sibling),re=f(M,B.children||[]),re.return=U,U=re;break e}else{o(U,M);break}else s(U,M);M=M.sibling}re=Od(B,U.mode,re),re.return=U,U=re}return E(U);case S:return Te=B._init,B=Te(B._payload),ht(U,M,B,re)}if(je(B))return ke(U,M,B,re);if(P(B)){if(Te=P(B),typeof Te!="function")throw Error(i(150));return B=Te.call(B),Ce(U,M,B,re)}if(typeof B.then=="function")return ht(U,M,sh(B),re);if(B.$$typeof===ne)return ht(U,M,Gc(U,B),re);ah(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(o(U,M.sibling),re=f(M,B),re.return=U,U=re):(o(U,M),re=Nd(B,U.mode,re),re.return=U,U=re),E(U)):o(U,M)}return function(U,M,B,re){try{$l=0;var Te=ht(U,M,B,re);return vo=null,Te}catch(Se){if(Se===Ml||Se===Kc)throw Se;var $e=qn(29,Se,null,U.mode);return $e.lanes=re,$e.return=U,$e}finally{}}}var Eo=rv(!0),iv=rv(!1),lr=oe(null),Fr=null;function ds(r){var s=r.alternate;ue(Yt,Yt.current&1),ue(lr,r),Fr===null&&(s===null||po.current!==null||s.memoizedState!==null)&&(Fr=r)}function sv(r){if(r.tag===22){if(ue(Yt,Yt.current),ue(lr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else ms()}function ms(){ue(Yt,Yt.current),ue(lr,lr.current)}function Oi(r){pe(lr),Fr===r&&(Fr=null),pe(Yt)}var Yt=oe(0);function oh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Jm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Zn(),f=cs(u);f.payload=s,o!=null&&(f.callback=o),s=hs(r,f,u),s!==null&&(Kn(s,r,u),Ul(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Zn(),f=cs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=hs(r,f,u),s!==null&&(Kn(s,r,u),Ul(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Zn(),u=cs(o);u.tag=2,s!=null&&(u.callback=s),s=hs(r,u,o),s!==null&&(Kn(s,r,o),Ul(s,r,o))}};function av(r,s,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Cl(o,u)||!Cl(f,m):!0}function ov(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&hm.enqueueReplaceState(s,s.state,null)}function wa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var lh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function lv(r){lh(r)}function uv(r){console.error(r)}function cv(r){lh(r)}function uh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function hv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fm(r,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(r,s)},o}function fv(r){return r=cs(r),r.tag=3,r}function dv(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){hv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){hv(s,o,u),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function c1(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&kl(s,o,f,!0),o=lr.current,o!==null){switch(o.tag){case 13:return Fr===null?Mm():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Bd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Um(r,u,f)),!1;case 22:return o.flags|=65536,u===Bd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Um(r,u,f)),!1}throw Error(i(435,o.tag))}return Um(r,u,f),Mm(),!1}if(tt)return s=lr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Vd&&(r=Error(i(422),{cause:u}),xl(ir(r,o)))):(u!==Vd&&(s=Error(i(423),{cause:u}),xl(ir(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=ir(u,o),f=fm(r.stateNode,u,f),Hd(r,f),Ct!==4&&(Ct=2)),!1;var m=Error(i(520),{cause:u});if(m=ir(m,o),Jl===null?Jl=[m]:Jl.push(m),Ct!==4&&(Ct=2),s===null)return!0;u=ir(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=fm(o.stateNode,u,r),Hd(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Es===null||!Es.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=fv(f),dv(f,r,o,u),Hd(o,f),!1}o=o.return}while(o!==null);return!1}var mv=Error(i(461)),tn=!1;function cn(r,s,o,u){s.child=r===null?iv(s,null,o,u):Eo(s,r.child,o,u)}function pv(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return va(s),u=Qd(r,s,o,E,m,f),A=Yd(),r!==null&&!tn?(Xd(r,s,f),xi(r,s,f)):(tt&&A&&xd(s),s.flags|=1,cn(r,s,u,f),s.child)}function gv(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!Dd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,yv(r,s,m,u,f)):(r=Fc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Em(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Cl,o(E,u)&&r.ref===s.ref)return xi(r,s,f)}return s.flags|=1,r=Si(m,u),r.ref=s.ref,r.return=s,s.child=r}function yv(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(Cl(m,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=m,Em(r,f))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,xi(r,s,f)}return dm(r,s,o,u,f)}function _v(r,s,o){var u=s.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return vv(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zc(s,m!==null?m.cachePool:null),m!==null?y_(s,m):Gd(),sv(s);else return s.lanes=s.childLanes=536870912,vv(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(Zc(s,m.cachePool),y_(s,m),ms(),s.memoizedState=null):(r!==null&&Zc(s,null),Gd(),ms());return cn(r,s,f,o),s.child}function vv(r,s,o,u){var f=jd();return f=f===null?null:{parent:Qt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Zc(s,null),Gd(),sv(s),r!==null&&kl(r,s,u,!0),null}function ch(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function dm(r,s,o,u,f){return va(s),o=Qd(r,s,o,u,void 0,f),u=Yd(),r!==null&&!tn?(Xd(r,s,f),xi(r,s,f)):(tt&&u&&xd(s),s.flags|=1,cn(r,s,o,f),s.child)}function Ev(r,s,o,u,f,m){return va(s),s.updateQueue=null,o=v_(s,u,o,f),__(r),u=Yd(),r!==null&&!tn?(Xd(r,s,m),xi(r,s,m)):(tt&&u&&xd(s),s.flags|=1,cn(r,s,o,m),s.child)}function Tv(r,s,o,u,f){if(va(s),s.stateNode===null){var m=uo,E=o.contextType;typeof E=="object"&&E!==null&&(m=gn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Fd(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?gn(E):uo,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(cm(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&hm.enqueueReplaceState(m,m.state,null),jl(s,u,m,f),zl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var A=s.memoizedProps,C=wa(o,A);m.props=C;var q=m.context,ee=o.contextType;E=uo,typeof ee=="object"&&ee!==null&&(E=gn(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==E)&&ov(s,m,u,E),us=!1;var G=s.memoizedState;m.state=G,jl(s,u,m,f),zl(),q=s.memoizedState,A||G!==q||us?(typeof se=="function"&&(cm(s,o,se,u),q=s.memoizedState),(C=us||av(s,o,C,u,G,q,E))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=q),m.props=u,m.state=q,m.context=E,u=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,qd(r,s),E=s.memoizedProps,ee=wa(o,E),m.props=ee,se=s.pendingProps,G=m.context,q=o.contextType,C=uo,typeof q=="object"&&q!==null&&(C=gn(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||G!==C)&&ov(s,m,u,C),us=!1,G=s.memoizedState,m.state=G,jl(s,u,m,f),zl();var Z=s.memoizedState;E!==se||G!==Z||us||r!==null&&r.dependencies!==null&&$c(r.dependencies)?(typeof A=="function"&&(cm(s,o,A,u),Z=s.memoizedState),(ee=us||av(s,o,ee,u,G,Z,C)||r!==null&&r.dependencies!==null&&$c(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Z,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Z,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),m.props=u,m.state=Z,m.context=C,u=ee):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,ch(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=Eo(s,r.child,null,f),s.child=Eo(s,null,o,f)):cn(r,s,o,f),s.memoizedState=m.state,r=s.child):r=xi(r,s,f),r}function wv(r,s,o,u){return Ol(),s.flags|=256,cn(r,s,o,u),s.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(r){return{baseLanes:r,cachePool:u_()}}function gm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ur),r}function Av(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(f?ds(s):ms(),tt){var A=It,C;if(C=A){e:{for(C=A,A=Br;C.nodeType!==8;){if(!A){A=null;break e}if(C=Er(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:ma!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},C=qn(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,Rn=s,It=null,C=!0):C=!1}C||ya(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Jm(A)?s.lanes=32:s.lanes=536870912,null;Oi(s)}return A=u.children,u=u.fallback,f?(ms(),f=s.mode,A=hh({mode:"hidden",children:A},f),u=da(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=pm(o),f.childLanes=gm(r,E,o),s.memoizedState=mm,u):(ds(s),ym(s,A))}if(C=r.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)s.flags&256?(ds(s),s.flags&=-257,s=_m(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),f=u.fallback,A=s.mode,u=hh({mode:"visible",children:u.children},A),f=da(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Eo(s,r.child,null,o),u=s.child,u.memoizedState=pm(o),u.childLanes=gm(r,E,o),s.memoizedState=mm,s=f);else if(ds(s),Jm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(i(419)),u.stack="",u.digest=E,xl({value:u,source:null,stack:null}),s=_m(r,s,o)}else if(tn||kl(r,s,o,!1),E=(o&r.childLanes)!==0,tn||E){if(E=mt,E!==null&&(u=o&-o,u=(u&42)!==0?1:ts(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,lo(r,u),Kn(E,r,u),mv;A.data==="$?"||Mm(),s=_m(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=C.treeContext,It=Er(A.nextSibling),Rn=s,tt=!0,ga=null,Br=!1,r!==null&&(ar[or++]=Ri,ar[or++]=Ii,ar[or++]=ma,Ri=r.id,Ii=r.overflow,ma=s),s=ym(s,u.children),s.flags|=4096);return s}return f?(ms(),f=u.fallback,A=s.mode,C=r.child,q=C.sibling,u=Si(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=Si(q,f):(f=da(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=pm(o):(C=A.cachePool,C!==null?(q=Qt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=u_(),A={baseLanes:A.baseLanes|o,cachePool:C}),f.memoizedState=A,f.childLanes=gm(r,E,o),s.memoizedState=mm,u):(ds(s),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function ym(r,s){return s=hh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function hh(r,s){return r=qn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function _m(r,s,o){return Eo(s,r.child,null,o),r=ym(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Md(r.return,s,o)}function vm(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Sv(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(cn(r,s,u.children,o),u=Yt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bv(r,o,s);else if(r.tag===19)bv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ue(Yt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&oh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),vm(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&oh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}vm(s,!0,o,null,m);break;case"together":vm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(kl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Em(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&$c(r)))}function h1(r,s,o){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),ls(s,Qt,r.memoizedState.cache),Ol();break;case 27:case 5:Xn(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Av(r,s,o):(ds(s),r=xi(r,s,o),r!==null?r.sibling:null);ds(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(kl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Sv(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Yt,Yt.current),u)break;return null;case 22:case 23:return s.lanes=0,_v(r,s,o);case 24:ls(s,Qt,r.memoizedState.cache)}return xi(r,s,o)}function Rv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Em(r,o)&&(s.flags&128)===0)return tn=!1,h1(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,tt&&(s.flags&1048576)!==0&&n_(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Dd(u)?(r=wa(u,r),s.tag=1,s=Tv(null,s,u,r,o)):(s.tag=0,s=dm(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===fe){s.tag=11,s=pv(null,s,u,r,o);break e}else if(f===D){s.tag=14,s=gv(null,s,u,r,o);break e}}throw s=Le(u)||u,Error(i(306,s,""))}}return s;case 0:return dm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=wa(u,s.pendingProps),Tv(r,s,u,f,o);case 3:e:{if(it(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,qd(r,s),jl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,ls(s,Qt,u),u!==m.cache&&Ld(s,[Qt],o,!0),zl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=wv(r,s,u,o);break e}else if(u!==f){f=ir(Error(i(424)),s),xl(f),s=wv(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(It=Er(r.firstChild),Rn=s,tt=!0,ga=null,Br=!0,o=iv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ol(),u===f){s=xi(r,s,o);break e}cn(r,s,u,o)}s=s.child}return s;case 26:return ch(r,s),r===null?(o=N0(s.type,null,s.pendingProps,null))?s.memoizedState=o:tt||(o=s.type,r=s.pendingProps,u=Sh(xe.current).createElement(o),u[Gt]=s,u[Mt]=r,fn(u,o,r),Ot(u),s.stateNode=u):s.memoizedState=N0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xn(s),r===null&&tt&&(u=s.stateNode=I0(s.type,s.pendingProps,xe.current),Rn=s,Br=!0,f=It,As(s.type)?(ep=f,It=Er(u.firstChild)):It=f),cn(r,s,s.pendingProps.children,o),ch(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((f=u=It)&&(u=z1(u,s.type,s.pendingProps,Br),u!==null?(s.stateNode=u,Rn=s,It=Er(u.firstChild),Br=!1,f=!0):f=!1),f||ya(s)),Xn(s),f=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,Ym(f,m)?u=null:E!==null&&Ym(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Qd(r,s,r1,null,null,o),lu._currentValue=f),ch(r,s),cn(r,s,u,o),s.child;case 6:return r===null&&tt&&((r=o=It)&&(o=j1(o,s.pendingProps,Br),o!==null?(s.stateNode=o,Rn=s,It=null,r=!0):r=!1),r||ya(s)),null;case 13:return Av(r,s,o);case 4:return it(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Eo(s,null,u,o):cn(r,s,u,o),s.child;case 11:return pv(r,s,s.type,s.pendingProps,o);case 7:return cn(r,s,s.pendingProps,o),s.child;case 8:return cn(r,s,s.pendingProps.children,o),s.child;case 12:return cn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ls(s,s.type,u.value),cn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,va(s),f=gn(f),u=u(f),s.flags|=1,cn(r,s,u,o),s.child;case 14:return gv(r,s,s.type,s.pendingProps,o);case 15:return yv(r,s,s.type,s.pendingProps,o);case 19:return Sv(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=hh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Si(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return _v(r,s,o);case 24:return va(s),u=gn(Qt),r===null?(f=jd(),f===null&&(f=mt,m=Ud(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},Fd(s),ls(s,Qt,f)):((r.lanes&o)!==0&&(qd(r,s),jl(s,null,null,o),zl()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ls(s,Qt,u)):(u=m.cache,ls(s,Qt,u),u!==f.cache&&Ld(s,[Qt],o,!0))),cn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ki(r){r.flags|=4}function Iv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!P0(s)){if(s=lr.current,s!==null&&((We&4194048)===We?Fr!==null:(We&62914560)!==We&&(We&536870912)===0||s!==Fr))throw Ll=Bd,c_;r.flags|=8192}}function fh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?cl():536870912,r.lanes|=s,bo|=s)}function Zl(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function f1(r,s,o){var u=s.pendingProps;switch(kd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Di(Qt),On(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Nl(s)?ki(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,s_())),wt(s),null;case 26:return o=s.memoizedState,r===null?(ki(s),o!==null?(wt(s),Iv(s,o)):(wt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ki(s),wt(s),Iv(s,o)):(wt(s),s.flags&=-16777217):(r.memoizedProps!==u&&ki(s),wt(s),s.flags&=-16777217),null;case 27:dr(s),o=xe.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return wt(s),null}r=Re.current,Nl(s)?r_(s):(r=I0(f,u,o),s.stateNode=r,ki(s))}return wt(s),null;case 5:if(dr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return wt(s),null}if(r=Re.current,Nl(s))r_(s);else{switch(f=Sh(xe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Gt]=s,r[Mt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(fn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ki(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=xe.current,Nl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Rn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Gt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||E0(r.nodeValue,o)),r||ya(s)}else r=Sh(r).createTextNode(u),r[Gt]=s,s.stateNode=r}return wt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Nl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Gt]=s}else Ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),f=!1}else f=s_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Oi(s),s):(Oi(s),null)}if(Oi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),fh(s,s.updateQueue),wt(s),null;case 4:return On(),r===null&&$m(s.stateNode.containerInfo),wt(s),null;case 10:return Di(s.type),wt(s),null;case 19:if(pe(Yt),f=s.memoizedState,f===null)return wt(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)Zl(f,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=oh(r),m!==null){for(s.flags|=128,Zl(f,!1),r=m.updateQueue,s.updateQueue=r,fh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)t_(o,r),o=o.sibling;return ue(Yt,Yt.current&1|2),s.child}r=r.sibling}f.tail!==null&&xn()>ph&&(s.flags|=128,u=!0,Zl(f,!1),s.lanes=4194304)}else{if(!u)if(r=oh(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,fh(s,r),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!tt)return wt(s),null}else 2*xn()-f.renderingStartTime>ph&&o!==536870912&&(s.flags|=128,u=!0,Zl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=xn(),s.sibling=null,r=Yt.current,ue(Yt,u?r&1|2:r&1),s):(wt(s),null);case 22:case 23:return Oi(s),Zd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&fh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&pe(Ea),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Di(Qt),wt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function d1(r,s){switch(kd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Di(Qt),On(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return dr(s),null;case 13:if(Oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ol()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pe(Yt),null;case 4:return On(),null;case 10:return Di(s.type),null;case 22:case 23:return Oi(s),Zd(),r!==null&&pe(Ea),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Di(Qt),null;case 25:return null;default:return null}}function Cv(r,s){switch(kd(s),s.tag){case 3:Di(Qt),On();break;case 26:case 27:case 5:dr(s);break;case 4:On();break;case 13:Oi(s);break;case 19:pe(Yt);break;case 10:Di(s.type);break;case 22:case 23:Oi(s),Zd(),r!==null&&pe(Ea);break;case 24:Di(Qt)}}function Kl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){ft(s,s.return,A)}}function ps(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var C=o,q=A;try{q()}catch(ee){ft(f,C,ee)}}}u=u.next}while(u!==m)}}catch(ee){ft(s,s.return,ee)}}function Dv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{g_(s,o)}catch(u){ft(r,r.return,u)}}}function Nv(r,s,o){o.props=wa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function Ql(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ft(r,s,f)}}function qr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ft(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(r,s,f)}else o.current=null}function Ov(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ft(r,r.return,f)}}function Tm(r,s,o){try{var u=r.stateNode;V1(u,r.type,o,s),u[Mt]=s}catch(f){ft(r,r.return,f)}}function xv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&As(r.type)||r.tag===4}function wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&As(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Am(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bh));else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Am(r,s,o),r=r.sibling;r!==null;)Am(r,s,o),r=r.sibling}function dh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(dh(r,s,o),r=r.sibling;r!==null;)dh(r,s,o),r=r.sibling}function kv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);fn(s,u,o),s[Gt]=r,s[Mt]=o}catch(m){ft(r,r.return,m)}}var Vi=!1,kt=!1,bm=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,nn=null;function m1(r,s){if(r=r.containerInfo,Km=Oh,r=$y(r),wd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,C=-1,q=0,ee=0,se=r,G=null;t:for(;;){for(var Z;se!==o||f!==0&&se.nodeType!==3||(A=E+f),se!==m||u!==0&&se.nodeType!==3||(C=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)G=se,se=Z;for(;;){if(se===r)break t;if(G===o&&++q===f&&(A=E),G===m&&++ee===u&&(C=E),(Z=se.nextSibling)!==null)break;se=G,G=se.parentNode}se=Z}o=A===-1||C===-1?null:{start:A,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qm={focusedElem:r,selectionRange:o},Oh=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ke=wa(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(ke,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){ft(o,o.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Wm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function Pv(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(r,o),u&4&&Kl(5,o);break;case 1:if(gs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ft(o,o.return,E)}else{var f=wa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(o,o.return,E)}}u&64&&Dv(o),u&512&&Ql(o,o.return);break;case 3:if(gs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{g_(r,s)}catch(E){ft(o,o.return,E)}}break;case 27:s===null&&u&4&&kv(o);case 26:case 5:gs(r,o),s===null&&u&4&&Ov(o),u&512&&Ql(o,o.return);break;case 12:gs(r,o);break;case 13:gs(r,o),u&4&&Uv(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=A1.bind(null,o),B1(r,o))));break;case 22:if(u=o.memoizedState!==null||Vi,!u){s=s!==null&&s.memoizedState!==null||kt,f=Vi;var m=kt;Vi=u,(kt=s)&&!m?ys(r,o,(o.subtreeFlags&8772)!==0):gs(r,o),Vi=f,kt=m}break;case 30:break;default:gs(r,o)}}function Mv(r){var s=r.alternate;s!==null&&(r.alternate=null,Mv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&is(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Vn=!1;function Pi(r,s,o){for(o=o.child;o!==null;)Lv(r,s,o),o=o.sibling}function Lv(r,s,o){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(ge,o)}catch{}switch(o.tag){case 26:kt||qr(o,s),Pi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||qr(o,s);var u=vt,f=Vn;As(o.type)&&(vt=o.stateNode,Vn=!1),Pi(r,s,o),iu(o.stateNode),vt=u,Vn=f;break;case 5:kt||qr(o,s);case 6:if(u=vt,f=Vn,vt=null,Pi(r,s,o),vt=u,Vn=f,vt!==null)if(Vn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(m){ft(o,s,m)}else try{vt.removeChild(o.stateNode)}catch(m){ft(o,s,m)}break;case 18:vt!==null&&(Vn?(r=vt,S0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),fu(r)):S0(vt,o.stateNode));break;case 4:u=vt,f=Vn,vt=o.stateNode.containerInfo,Vn=!0,Pi(r,s,o),vt=u,Vn=f;break;case 0:case 11:case 14:case 15:kt||ps(2,o,s),kt||ps(4,o,s),Pi(r,s,o);break;case 1:kt||(qr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Nv(o,s,u)),Pi(r,s,o);break;case 21:Pi(r,s,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,Pi(r,s,o),kt=u;break;default:Pi(r,s,o)}}function Uv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fu(r)}catch(o){ft(s,s.return,o)}}function p1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Vv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Vv),s;default:throw Error(i(435,r.tag))}}function Sm(r,s){var o=p1(r);s.forEach(function(u){var f=b1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Hn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(As(A.type)){vt=A.stateNode,Vn=!1;break e}break;case 5:vt=A.stateNode,Vn=!1;break e;case 3:case 4:vt=A.stateNode.containerInfo,Vn=!0;break e}A=A.return}if(vt===null)throw Error(i(160));Lv(m,E,f),vt=null,Vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)zv(s,r),s=s.sibling}var vr=null;function zv(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(s,r),$n(r),u&4&&(ps(3,r,r.return),Kl(3,r),ps(5,r,r.return));break;case 1:Hn(s,r),$n(r),u&512&&(kt||o===null||qr(o,o.return)),u&64&&Vi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=vr;if(Hn(s,r),$n(r),u&512&&(kt||o===null||qr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Xs]||m[Gt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),fn(m,u,o),m[Gt]=r,Ot(m),u=m;break e;case"link":var E=k0("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(u),fn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=k0("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=f.createElement(u),fn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Gt]=r,Ot(m),u=m}r.stateNode=u}else V0(f,r.type,r.stateNode);else r.stateNode=x0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?V0(f,r.type,r.stateNode):x0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Tm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Hn(s,r),$n(r),u&512&&(kt||o===null||qr(o,o.return)),o!==null&&u&4&&Tm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Hn(s,r),$n(r),u&512&&(kt||o===null||qr(o,o.return)),r.flags&32){f=r.stateNode;try{er(f,"")}catch(Z){ft(r,r.return,Z)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Tm(r,f,o!==null?o.memoizedProps:f)),u&1024&&(bm=!0);break;case 6:if(Hn(s,r),$n(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){ft(r,r.return,Z)}}break;case 3:if(Ch=null,f=vr,vr=Rh(s.containerInfo),Hn(s,r),vr=f,$n(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fu(s.containerInfo)}catch(Z){ft(r,r.return,Z)}bm&&(bm=!1,jv(r));break;case 4:u=vr,vr=Rh(r.stateNode.containerInfo),Hn(s,r),$n(r),vr=u;break;case 12:Hn(s,r),$n(r);break;case 13:Hn(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Om=xn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Sm(r,u)));break;case 22:f=r.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,q=Vi,ee=kt;if(Vi=q||f,kt=ee||C,Hn(s,r),kt=ee,Vi=q,$n(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||C||Vi||kt||Aa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){C=o=s;try{if(m=C.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var se=C.memoizedProps.style,G=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Z){ft(C,C.return,Z)}}}else if(s.tag===6){if(o===null){C=s;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Z){ft(C,C.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Sm(r,o))));break;case 19:Hn(s,r),$n(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Sm(r,u)));break;case 30:break;case 21:break;default:Hn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(xv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=wm(r);dh(r,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(er(E,""),o.flags&=-33);var A=wm(r);dh(r,A,E);break;case 3:case 4:var C=o.stateNode.containerInfo,q=wm(r);Am(r,q,C);break;default:throw Error(i(161))}}catch(ee){ft(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;jv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function gs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Pv(r,s.alternate,s),s=s.sibling}function Aa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Aa(s);break;case 1:qr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Nv(s,s.return,o),Aa(s);break;case 27:iu(s.stateNode);case 26:case 5:qr(s,s.return),Aa(s);break;case 22:s.memoizedState===null&&Aa(s);break;case 30:Aa(s);break;default:Aa(s)}r=r.sibling}}function ys(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,o),Kl(4,m);break;case 1:if(ys(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ft(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)p_(C[f],A)}catch(q){ft(u,u.return,q)}}o&&E&64&&Dv(m),Ql(m,m.return);break;case 27:kv(m);case 26:case 5:ys(f,m,o),o&&u===null&&E&4&&Ov(m),Ql(m,m.return);break;case 12:ys(f,m,o);break;case 13:ys(f,m,o),o&&E&4&&Uv(f,m);break;case 22:m.memoizedState===null&&ys(f,m,o),Ql(m,m.return);break;case 30:break;default:ys(f,m,o)}s=s.sibling}}function Rm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vl(o))}function Im(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r))}function Hr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bv(r,s,o,u),s=s.sibling}function Bv(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(r,s,o,u),f&2048&&Kl(9,s);break;case 1:Hr(r,s,o,u);break;case 3:Hr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r)));break;case 12:if(f&2048){Hr(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){ft(s,s.return,C)}}else Hr(r,s,o,u);break;case 13:Hr(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Hr(r,s,o,u):Yl(r,s):m._visibility&2?Hr(r,s,o,u):(m._visibility|=2,To(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Rm(E,s);break;case 24:Hr(r,s,o,u),f&2048&&Im(s.alternate,s);break;default:Hr(r,s,o,u)}}function To(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,A=o,C=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:To(m,E,A,C,f),Kl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?To(m,E,A,C,f):Yl(m,E):(ee._visibility|=2,To(m,E,A,C,f)),f&&q&2048&&Rm(E.alternate,E);break;case 24:To(m,E,A,C,f),f&&q&2048&&Im(E.alternate,E);break;default:To(m,E,A,C,f)}s=s.sibling}}function Yl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Yl(o,u),f&2048&&Rm(u.alternate,u);break;case 24:Yl(o,u),f&2048&&Im(u.alternate,u);break;default:Yl(o,u)}s=s.sibling}}var Xl=8192;function wo(r){if(r.subtreeFlags&Xl)for(r=r.child;r!==null;)Fv(r),r=r.sibling}function Fv(r){switch(r.tag){case 26:wo(r),r.flags&Xl&&r.memoizedState!==null&&eR(vr,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var s=vr;vr=Rh(r.stateNode.containerInfo),wo(r),vr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Xl,Xl=16777216,wo(r),Xl=s):wo(r));break;default:wo(r)}}function qv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Wl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,$v(u,r)}qv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hv(r),r=r.sibling}function Hv(r){switch(r.tag){case 0:case 11:case 15:Wl(r),r.flags&2048&&ps(9,r,r.return);break;case 3:Wl(r);break;case 12:Wl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,mh(r)):Wl(r);break;default:Wl(r)}}function mh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,$v(u,r)}qv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,mh(s));break;default:mh(s)}r=r.sibling}}function $v(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var f=u.sibling,m=u.return;if(Mv(u),u===o){nn=null;break e}if(f!==null){f.return=m,nn=f;break e}nn=m}}}var g1={getCacheForType:function(r){var s=gn(Qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},y1=typeof WeakMap=="function"?WeakMap:Map,at=0,mt=null,Ge=null,We=0,ot=0,Gn=null,_s=!1,Ao=!1,Cm=!1,Mi=0,Ct=0,vs=0,ba=0,Dm=0,ur=0,bo=0,Jl=null,Pn=null,Nm=!1,Om=0,ph=1/0,gh=null,Es=null,hn=0,Ts=null,So=null,Ro=0,xm=0,km=null,Gv=null,eu=0,Vm=null;function Zn(){if((at&2)!==0&&We!==0)return We&-We;if(K.T!==null){var r=fo;return r!==0?r:Bm()}return ns()}function Zv(){ur===0&&(ur=(We&536870912)===0||tt?ul():536870912);var r=lr.current;return r!==null&&(r.flags|=32),ur}function Kn(r,s,o){(r===mt&&(ot===2||ot===9)||r.cancelPendingCommit!==null)&&(Io(r,0),ws(r,We,ur,!1)),mi(r,o),((at&2)===0||r!==mt)&&(r===mt&&((at&2)===0&&(ba|=o),Ct===4&&ws(r,We,ur,!1)),$r(r))}function Kv(r,s,o){if((at&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||fi(r,s),f=u?E1(r,s):Lm(r,s,!0),m=u;do{if(f===0){Ao&&!u&&ws(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!_1(o)){f=Lm(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;f=Jl;var C=A.current.memoizedState.isDehydrated;if(C&&(Io(A,E).flags|=256),E=Lm(A,E,!1),E!==2){if(Cm&&!C){A.errorRecoveryDisabledLanes|=m,ba|=m,f=4;break e}m=Pn,Pn=f,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Io(r,0),ws(r,s,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ws(u,s,ur,!_s);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Om+300-xn(),10<f)){if(ws(u,s,ur,!_s),hi(u,0,!0)!==0)break e;u.timeoutHandle=A0(Qv.bind(null,u,o,Pn,gh,Nm,s,ur,ba,bo,_s,m,2,-0,0),f);break e}Qv(u,o,Pn,gh,Nm,s,ur,ba,bo,_s,m,0,-0,0)}}break}while(!0);$r(r)}function Qv(r,s,o,u,f,m,E,A,C,q,ee,se,G,Z){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:J1},Fv(s),se=tR(),se!==null)){r.cancelPendingCommit=se(n0.bind(null,r,s,m,o,u,f,E,A,C,ee,1,G,Z)),ws(r,m,E,!q);return}n0(r,s,m,o,u,f,E,A,C)}function _1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Fn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(r,s,o,u){s&=~Dm,s&=~ba,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-st(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Nr(r,o,s)}function yh(){return(at&6)===0?(tu(0),!1):!0}function Pm(){if(Ge!==null){if(ot===0)var r=Ge.return;else r=Ge,Ci=_a=null,Wd(r),vo=null,$l=0,r=Ge;for(;r!==null;)Cv(r.alternate,r),r=r.return;Ge=null}}function Io(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,M1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Pm(),mt=r,Ge=o=Si(r.current,null),We=s,ot=0,Gn=null,_s=!1,Ao=fi(r,s),Cm=!1,bo=ur=Dm=ba=vs=Ct=0,Pn=Jl=null,Nm=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-st(u),m=1<<f;s|=r[f],u&=~m}return Mi=s,zc(),o}function Yv(r,s){Fe=null,K.H=ih,s===Ml||s===Kc?(s=d_(),ot=3):s===c_?(s=d_(),ot=4):ot=s===mv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ge===null&&(Ct=1,uh(r,ir(s,r.current)))}function Xv(){var r=K.H;return K.H=ih,r===null?ih:r}function Wv(){var r=K.A;return K.A=g1,r}function Mm(){Ct=4,_s||(We&4194048)!==We&&lr.current!==null||(Ao=!0),(vs&134217727)===0&&(ba&134217727)===0||mt===null||ws(mt,We,ur,!1)}function Lm(r,s,o){var u=at;at|=2;var f=Xv(),m=Wv();(mt!==r||We!==s)&&(gh=null,Io(r,s)),s=!1;var E=Ct;e:do try{if(ot!==0&&Ge!==null){var A=Ge,C=Gn;switch(ot){case 8:Pm(),E=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(s=!0);var q=ot;if(ot=0,Gn=null,Co(r,A,C,q),o&&Ao){E=0;break e}break;default:q=ot,ot=0,Gn=null,Co(r,A,C,q)}}v1(),E=Ct;break}catch(ee){Yv(r,ee)}while(!0);return s&&r.shellSuspendCounter++,Ci=_a=null,at=u,K.H=f,K.A=m,Ge===null&&(mt=null,We=0,zc()),E}function v1(){for(;Ge!==null;)Jv(Ge)}function E1(r,s){var o=at;at|=2;var u=Xv(),f=Wv();mt!==r||We!==s?(gh=null,ph=xn()+500,Io(r,s)):Ao=fi(r,s);e:do try{if(ot!==0&&Ge!==null){s=Ge;var m=Gn;t:switch(ot){case 1:ot=0,Gn=null,Co(r,s,m,1);break;case 2:case 9:if(h_(m)){ot=0,Gn=null,e0(s);break}s=function(){ot!==2&&ot!==9||mt!==r||(ot=7),$r(r)},m.then(s,s);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:h_(m)?(ot=0,Gn=null,e0(s)):(ot=0,Gn=null,Co(r,s,m,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var A=Ge;if(!E||P0(E)){ot=0,Gn=null;var C=A.sibling;if(C!==null)Ge=C;else{var q=A.return;q!==null?(Ge=q,_h(q)):Ge=null}break t}}ot=0,Gn=null,Co(r,s,m,5);break;case 6:ot=0,Gn=null,Co(r,s,m,6);break;case 8:Pm(),Ct=6;break e;default:throw Error(i(462))}}T1();break}catch(ee){Yv(r,ee)}while(!0);return Ci=_a=null,K.H=u,K.A=f,at=o,Ge!==null?0:(mt=null,We=0,zc(),Ct)}function T1(){for(;Ge!==null&&!Wi();)Jv(Ge)}function Jv(r){var s=Rv(r.alternate,r,Mi);r.memoizedProps=r.pendingProps,s===null?_h(r):Ge=s}function e0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Ev(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=Ev(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Wd(s);default:Cv(o,s),s=Ge=t_(s,Mi),s=Rv(o,s,Mi)}r.memoizedProps=r.pendingProps,s===null?_h(r):Ge=s}function Co(r,s,o,u){Ci=_a=null,Wd(s),vo=null,$l=0;var f=s.return;try{if(c1(r,f,s,o,We)){Ct=1,uh(r,ir(o,r.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;Ct=1,uh(r,ir(o,r.current)),Ge=null;return}s.flags&32768?(tt||u===1?r=!0:Ao||(We&536870912)!==0?r=!1:(_s=r=!0,(u===2||u===9||u===3||u===6)&&(u=lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),t0(s,r)):_h(s)}function _h(r){var s=r;do{if((s.flags&32768)!==0){t0(s,_s);return}r=s.return;var o=f1(s.alternate,s,Mi);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Ct===0&&(Ct=5)}function t0(r,s){do{var o=d1(r.alternate,r);if(o!==null){o.flags&=32767,Ge=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=o}while(r!==null);Ct=6,Ge=null}function n0(r,s,o,u,f,m,E,A,C){r.cancelPendingCommit=null;do vh();while(hn!==0);if((at&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Id,hl(r,o,m,E,A,C),r===mt&&(Ge=mt=null,We=0),So=s,Ts=r,Ro=o,xm=m,km=f,Gv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,S1($,function(){return o0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,f=ce.p,ce.p=2,E=at,at|=4;try{m1(r,s,o)}finally{at=E,ce.p=f,K.T=u}}hn=1,r0(),i0(),s0()}}function r0(){if(hn===1){hn=0;var r=Ts,s=So,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=ce.p;ce.p=2;var f=at;at|=4;try{zv(s,r);var m=Qm,E=$y(r.containerInfo),A=m.focusedElem,C=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&Hy(A.ownerDocument.documentElement,A)){if(C!==null&&wd(A)){var q=C.start,ee=C.end;if(ee===void 0&&(ee=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(ee,A.value.length);else{var se=A.ownerDocument||document,G=se&&se.defaultView||window;if(G.getSelection){var Z=G.getSelection(),ke=A.textContent.length,Ce=Math.min(C.start,ke),ht=C.end===void 0?Ce:Math.min(C.end,ke);!Z.extend&&Ce>ht&&(E=ht,ht=Ce,Ce=E);var U=qy(A,Ce),M=qy(A,ht);if(U&&M&&(Z.rangeCount!==1||Z.anchorNode!==U.node||Z.anchorOffset!==U.offset||Z.focusNode!==M.node||Z.focusOffset!==M.offset)){var B=se.createRange();B.setStart(U.node,U.offset),Z.removeAllRanges(),Ce>ht?(Z.addRange(B),Z.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Z.addRange(B))}}}}for(se=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var re=se[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Oh=!!Km,Qm=Km=null}finally{at=f,ce.p=u,K.T=o}}r.current=s,hn=2}}function i0(){if(hn===2){hn=0;var r=Ts,s=So,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=ce.p;ce.p=2;var f=at;at|=4;try{Pv(r,s.alternate,s)}finally{at=f,ce.p=u,K.T=o}}hn=3}}function s0(){if(hn===4||hn===3){hn=0,qa();var r=Ts,s=So,o=Ro,u=Gv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,So=Ts=null,a0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Es=null),Ha(o),s=s.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(ge,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,f=ce.p,ce.p=2,K.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var A=u[E];m(A.value,{componentStack:A.stack})}}finally{K.T=s,ce.p=f}}(Ro&3)!==0&&vh(),$r(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Vm?eu++:(eu=0,Vm=r):eu=0,tu(0)}}function a0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Vl(s)))}function vh(r){return r0(),i0(),s0(),o0()}function o0(){if(hn!==5)return!1;var r=Ts,s=xm;xm=0;var o=Ha(Ro),u=K.T,f=ce.p;try{ce.p=32>o?32:o,K.T=null,o=km,km=null;var m=Ts,E=Ro;if(hn=0,So=Ts=null,Ro=0,(at&6)!==0)throw Error(i(331));var A=at;if(at|=4,Hv(m.current),Bv(m,m.current,E,o),at=A,tu(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(ge,m)}catch{}return!0}finally{ce.p=f,K.T=u,a0(r,s)}}function l0(r,s,o){s=ir(o,s),s=fm(r.stateNode,s,2),r=hs(r,s,2),r!==null&&(mi(r,2),$r(r))}function ft(r,s,o){if(r.tag===3)l0(r,r,o);else for(;s!==null;){if(s.tag===3){l0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Es===null||!Es.has(u))){r=ir(o,r),o=fv(2),u=hs(s,o,2),u!==null&&(dv(o,u,s,r),mi(u,2),$r(u));break}}s=s.return}}function Um(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new y1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Cm=!0,f.add(o),r=w1.bind(null,r,s,o),s.then(r,r))}function w1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,mt===r&&(We&o)===o&&(Ct===4||Ct===3&&(We&62914560)===We&&300>xn()-Om?(at&2)===0&&Io(r,0):Dm|=o,bo===We&&(bo=0)),$r(r)}function u0(r,s){s===0&&(s=cl()),r=lo(r,s),r!==null&&(mi(r,s),$r(r))}function A1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),u0(r,o)}function b1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),u0(r,o)}function S1(r,s){return li(r,s)}var Eh=null,Do=null,zm=!1,Th=!1,jm=!1,Sa=0;function $r(r){r!==Do&&r.next===null&&(Do===null?Eh=Do=r:Do=Do.next=r),Th=!0,zm||(zm=!0,I1())}function tu(r,s){if(!jm&&Th){jm=!0;do for(var o=!1,u=Eh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-st(42|r)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,d0(u,m))}else m=We,m=hi(u,u===mt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fi(u,m)||(o=!0,d0(u,m));u=u.next}while(o);jm=!1}}function R1(){c0()}function c0(){Th=zm=!1;var r=0;Sa!==0&&(P1()&&(r=Sa),Sa=0);for(var s=xn(),o=null,u=Eh;u!==null;){var f=u.next,m=h0(u,s);m===0?(u.next=null,o===null?Eh=f:o.next=f,f===null&&(Do=o)):(o=u,(r!==0||(m&3)!==0)&&(Th=!0)),u=f}tu(r)}function h0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-st(m),A=1<<E,C=f[E];C===-1?((A&o)===0||(A&u)!==0)&&(f[E]=es(A,s)):C<=s&&(r.expiredLanes|=A),m&=~A}if(s=mt,o=We,o=hi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(ot===2||ot===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Dr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||fi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Dr(u),Ha(o)){case 2:case 8:o=N;break;case 32:o=$;break;case 268435456:o=_e;break;default:o=$}return u=f0.bind(null,r),o=li(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Dr(u),r.callbackPriority=2,r.callbackNode=null,2}function f0(r,s){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(vh()&&r.callbackNode!==o)return null;var u=We;return u=hi(r,r===mt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Kv(r,u,s),h0(r,xn()),r.callbackNode!=null&&r.callbackNode===o?f0.bind(null,r):null)}function d0(r,s){if(vh())return null;Kv(r,s,!0)}function I1(){L1(function(){(at&6)!==0?li(Ji,R1):c0()})}function Bm(){return Sa===0&&(Sa=ul()),Sa}function m0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ya(""+r)}function p0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function C1(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=m0((f[Mt]||null).action),E=u.submitter;E&&(s=(s=E[Mt]||null)?m0(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var A=new Xa("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var C=E?p0(f,E):new FormData(f);om(o,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=E?p0(f,E):new FormData(f),om(o,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Fm=0;Fm<Rd.length;Fm++){var qm=Rd[Fm],D1=qm.toLowerCase(),N1=qm[0].toUpperCase()+qm.slice(1);_r(D1,"on"+N1)}_r(Ky,"onAnimationEnd"),_r(Qy,"onAnimationIteration"),_r(Yy,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(ZS,"onTransitionRun"),_r(KS,"onTransitionStart"),_r(QS,"onTransitionCancel"),_r(Xy,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function g0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],C=A.instance,q=A.currentTarget;if(A=A.listener,C!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=q;try{m(f)}catch(ee){lh(ee)}f.currentTarget=null,m=C}else for(E=0;E<u.length;E++){if(A=u[E],C=A.instance,q=A.currentTarget,A=A.listener,C!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=q;try{m(f)}catch(ee){lh(ee)}f.currentTarget=null,m=C}}}}function Ze(r,s){var o=s[dl];o===void 0&&(o=s[dl]=new Set);var u=r+"__bubble";o.has(u)||(y0(s,r,2,!1),o.add(u))}function Hm(r,s,o){var u=0;s&&(u|=4),y0(o,r,u,s)}var wh="_reactListening"+Math.random().toString(36).slice(2);function $m(r){if(!r[wh]){r[wh]=!0,ml.forEach(function(o){o!=="selectionchange"&&(O1.has(o)||Hm(o,!1,r),Hm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[wh]||(s[wh]=!0,Hm("selectionchange",!1,s))}}function y0(r,s,o,u){switch(B0(s)){case 2:var f=iR;break;case 8:f=sR;break;default:f=sp}o=f.bind(null,s,o,r),f=void 0,!nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Gm(r,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=pi(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){u=m=E;continue e}A=A.parentNode}}u=u.return}bc(function(){var q=m,ee=tr(o),se=[];e:{var G=Wy.get(r);if(G!==void 0){var Z=Xa,ke=r;switch(r){case"keypress":if(Mr(o)===0)break e;case"keydown":case"keyup":Z=ro;break;case"focusin":ke="focus",Z=eo;break;case"focusout":ke="blur",Z=eo;break;case"beforeblur":case"afterblur":Z=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=xc;break;case Ky:case Qy:case Yy:Z=to;break;case Xy:Z=Vc;break;case"scroll":case"scrollend":Z=Sc;break;case"wheel":Z=io;break;case"copy":case"cut":case"paste":Z=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Rl;break;case"toggle":case"beforetoggle":Z=Mc}var Ce=(s&4)!==0,ht=!Ce&&(r==="scroll"||r==="scrollend"),U=Ce?G!==null?G+"Capture":null:G;Ce=[];for(var M=q,B;M!==null;){var re=M;if(B=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||B===null||U===null||(re=ia(M,U),re!=null&&Ce.push(ru(M,re,B))),ht)break;M=M.return}0<Ce.length&&(G=new Z(G,ke,null,o,ee),se.push({event:G,listeners:Ce}))}}if((s&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",G&&o!==vi&&(ke=o.relatedTarget||o.fromElement)&&(pi(ke)||ke[Jn]))break e;if((Z||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,Z?(ke=o.relatedTarget||o.toElement,Z=q,ke=ke?pi(ke):null,ke!==null&&(ht=l(ke),Ce=ke.tag,ke!==ht||Ce!==5&&Ce!==27&&Ce!==6)&&(ke=null)):(Z=null,ke=q),Z!==ke)){if(Ce=rr,re="onMouseLeave",U="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=Rl,re="onPointerLeave",U="onPointerEnter",M="pointer"),ht=Z==null?G:xr(Z),B=ke==null?G:xr(ke),G=new Ce(re,M+"leave",Z,o,ee),G.target=ht,G.relatedTarget=B,re=null,pi(ee)===q&&(Ce=new Ce(U,M+"enter",ke,o,ee),Ce.target=B,Ce.relatedTarget=ht,re=Ce),ht=re,Z&&ke)t:{for(Ce=Z,U=ke,M=0,B=Ce;B;B=No(B))M++;for(B=0,re=U;re;re=No(re))B++;for(;0<M-B;)Ce=No(Ce),M--;for(;0<B-M;)U=No(U),B--;for(;M--;){if(Ce===U||U!==null&&Ce===U.alternate)break t;Ce=No(Ce),U=No(U)}Ce=null}else Ce=null;Z!==null&&_0(se,G,Z,Ce,!1),ke!==null&&ht!==null&&_0(se,ht,ke,Ce,!0)}}e:{if(G=q?xr(q):window,Z=G.nodeName&&G.nodeName.toLowerCase(),Z==="select"||Z==="input"&&G.type==="file")var Te=Ly;else if(Kt(G))if(Uy)Te=HS;else{Te=FS;var $e=BS}else Z=G.nodeName,!Z||Z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&vl(q.elementType)&&(Te=Ly):Te=qS;if(Te&&(Te=Te(r,q))){bi(se,Te,o,ee);break e}$e&&$e(r,G,q),r==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&as(G,"number",G.value)}switch($e=q?xr(q):window,r){case"focusin":(Kt($e)||$e.contentEditable==="true")&&(so=$e,Ad=q,Dl=null);break;case"focusout":Dl=Ad=so=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Gy(se,o,ee);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Gy(se,o,ee)}var Se;if(zr)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ye?Y(r,o)&&(De="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(_&&o.locale!=="ko"&&(Ye||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ye&&(Se=Tl()):(Pr=ee,os="value"in Pr?Pr.value:Pr.textContent,Ye=!0)),$e=Ah(q,De),0<$e.length&&(De=new bl(De,r,null,o,ee),se.push({event:De,listeners:$e}),Se?De.data=Se:(Se=de(o),Se!==null&&(De.data=Se)))),(Se=y?Zt(r,o):Xe(r,o))&&(De=Ah(q,"onBeforeInput"),0<De.length&&($e=new bl("onBeforeInput","beforeinput",null,o,ee),se.push({event:$e,listeners:De}),$e.data=Se)),C1(se,r,q,o,ee)}g0(se,s)})}function ru(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ah(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ia(r,o),f!=null&&u.unshift(ru(r,f,m)),f=ia(r,s),f!=null&&u.push(ru(r,f,m))),r.tag===3)return u;r=r.return}return[]}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function _0(r,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var A=o,C=A.alternate,q=A.stateNode;if(A=A.tag,C!==null&&C===u)break;A!==5&&A!==26&&A!==27||q===null||(C=q,f?(q=ia(o,m),q!=null&&E.unshift(ru(o,q,C))):f||(q=ia(o,m),q!=null&&E.push(ru(o,q,C)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var x1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function v0(r){return(typeof r=="string"?r:""+r).replace(x1,`
`).replace(k1,"")}function E0(r,s){return s=v0(s),v0(r)===s}function bh(){}function ct(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||er(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&er(r,""+u);break;case"className":kr(r,"class",u);break;case"tabIndex":kr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(r,o,u);break;case"style":_l(r,u,m);break;case"data":if(s!=="object"){kr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ya(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",f.name,f,null),ct(r,s,"formEncType",f.formEncType,f,null),ct(r,s,"formMethod",f.formMethod,f,null),ct(r,s,"formTarget",f.formTarget,f,null)):(ct(r,s,"encType",f.encType,f,null),ct(r,s,"method",f.method,f,null),ct(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ya(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=bh);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ya(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),ss(r,"popover",u);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ss(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gd.get(o)||o,ss(r,o,u))}}function Zm(r,s,o,u,f,m){switch(o){case"style":_l(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?er(r,u):(typeof u=="number"||typeof u=="bigint")&&er(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Mt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ss(r,o,u)}}}function fn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,m,E,o,null)}}f&&ct(r,s,"srcSet",o.srcSet,o,null),u&&ct(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var A=m=E=f=null,C=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":E=ee;break;case"checked":C=ee;break;case"defaultChecked":q=ee;break;case"value":m=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ct(r,s,u,ee,o,null)}}ta(r,m,A,C,q,E,f,!1),Qa(r);return;case"select":Ze("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:ct(r,s,f,A,o,null)}s=m,o=E,r.multiple=!!u,s!=null?_i(r,!!u,s,!1):o!=null&&_i(r,!!u,o,!0);return;case"textarea":Ze("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ct(r,s,E,A,o,null)}na(r,u,f,m),Qa(r);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,s,C,u,o,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<nu.length;u++)Ze(nu[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,q,u,o,null)}return;default:if(vl(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Zm(r,s,ee,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ct(r,s,A,u,o,null))}function V1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,C=null,q=null,ee=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":C=se;default:u.hasOwnProperty(Z)||ct(r,s,Z,null,u,se)}}for(var G in u){var Z=u[G];if(se=o[G],u.hasOwnProperty(G)&&(Z!=null||se!=null))switch(G){case"type":m=Z;break;case"name":f=Z;break;case"checked":q=Z;break;case"defaultChecked":ee=Z;break;case"value":E=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&ct(r,s,G,Z,u,se)}}Bn(r,E,A,C,q,ee,m,f);return;case"select":Z=E=A=G=null;for(m in o)if(C=o[m],o.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Z=C;default:u.hasOwnProperty(m)||ct(r,s,m,null,u,C)}for(f in u)if(m=u[f],C=o[f],u.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":G=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==C&&ct(r,s,f,m,u,C)}s=A,o=E,u=Z,G!=null?_i(r,!!o,G,!1):!!u!=!!o&&(s!=null?_i(r,!!o,s,!0):_i(r,!!o,o?[]:"",!1));return;case"textarea":Z=G=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(r,s,A,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":G=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&ct(r,s,E,f,u,m)}lt(r,G,Z);return;case"option":for(var ke in o)if(G=o[ke],o.hasOwnProperty(ke)&&G!=null&&!u.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:ct(r,s,ke,null,u,G)}for(C in u)if(G=u[C],Z=o[C],u.hasOwnProperty(C)&&G!==Z&&(G!=null||Z!=null))switch(C){case"selected":r.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ct(r,s,C,G,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)G=o[Ce],o.hasOwnProperty(Ce)&&G!=null&&!u.hasOwnProperty(Ce)&&ct(r,s,Ce,null,u,G);for(q in u)if(G=u[q],Z=o[q],u.hasOwnProperty(q)&&G!==Z&&(G!=null||Z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:ct(r,s,q,G,u,Z)}return;default:if(vl(s)){for(var ht in o)G=o[ht],o.hasOwnProperty(ht)&&G!==void 0&&!u.hasOwnProperty(ht)&&Zm(r,s,ht,void 0,u,G);for(ee in u)G=u[ee],Z=o[ee],!u.hasOwnProperty(ee)||G===Z||G===void 0&&Z===void 0||Zm(r,s,ee,G,u,Z);return}}for(var U in o)G=o[U],o.hasOwnProperty(U)&&G!=null&&!u.hasOwnProperty(U)&&ct(r,s,U,null,u,G);for(se in u)G=u[se],Z=o[se],!u.hasOwnProperty(se)||G===Z||G==null&&Z==null||ct(r,s,se,G,u,Z)}var Km=null,Qm=null;function Sh(r){return r.nodeType===9?r:r.ownerDocument}function T0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ym(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xm=null;function P1(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(r){return b0.resolve(null).then(r).catch(U1)}:A0;function U1(r){setTimeout(function(){throw r})}function As(r){return r==="head"}function S0(r,s){var o=s,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&iu(E.documentElement),o&2&&iu(E.body),o&4)for(o=E.head,iu(o),E=o.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[Xs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){r.removeChild(m),fu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);fu(s)}function Wm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function z1(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Xs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Er(r.nextSibling),r===null)break}return null}function j1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Er(r.nextSibling),r===null))return null;return r}function Jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function B1(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Er(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ep=null;function R0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function I0(r,s,o){switch(s=Sh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function iu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);is(r)}var cr=new Map,C0=new Set;function Rh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=ce.d;ce.d={f:F1,r:q1,D:H1,C:$1,L:G1,m:Z1,X:Q1,S:K1,M:Y1};function F1(){var r=Li.f(),s=yh();return r||s}function q1(r){var s=Or(r);s!==null&&s.tag===5&&s.type==="form"?K_(s):Li.r(r)}var Oo=typeof document>"u"?null:document;function D0(r,s,o){var u=Oo;if(u&&typeof s=="string"&&s){var f=Lt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),C0.has(f)||(C0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),fn(s,"link",r),Ot(s),u.head.appendChild(s)))}}function H1(r){Li.D(r),D0("dns-prefetch",r,null)}function $1(r,s){Li.C(r,s),D0("preconnect",r,s)}function G1(r,s,o){Li.L(r,s,o);var u=Oo;if(u&&r&&s){var f='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Lt(o.imageSizes)+'"]')):f+='[href="'+Lt(r)+'"]';var m=f;switch(s){case"style":m=xo(r);break;case"script":m=ko(r)}cr.has(m)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),cr.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(su(m))||s==="script"&&u.querySelector(au(m))||(s=u.createElement("link"),fn(s,"link",r),Ot(s),u.head.appendChild(s)))}}function Z1(r,s){Li.m(r,s);var o=Oo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(r)}if(!cr.has(m)&&(r=v({rel:"modulepreload",href:r},s),cr.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(m)))return}u=o.createElement("link"),fn(u,"link",r),Ot(u),o.head.appendChild(u)}}}function K1(r,s,o){Li.S(r,s,o);var u=Oo;if(u&&r){var f=An(u).hoistableStyles,m=xo(r);s=s||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(su(m)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=cr.get(m))&&tp(r,o);var C=E=u.createElement("link");Ot(C),fn(C,"link",r),C._p=new Promise(function(q,ee){C.onload=q,C.onerror=ee}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ih(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function Q1(r,s){Li.X(r,s);var o=Oo;if(o&&r){var u=An(o).hoistableScripts,f=ko(r),m=u.get(f);m||(m=o.querySelector(au(f)),m||(r=v({src:r,async:!0},s),(s=cr.get(f))&&np(r,s),m=o.createElement("script"),Ot(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Y1(r,s){Li.M(r,s);var o=Oo;if(o&&r){var u=An(o).hoistableScripts,f=ko(r),m=u.get(f);m||(m=o.querySelector(au(f)),m||(r=v({src:r,async:!0,type:"module"},s),(s=cr.get(f))&&np(r,s),m=o.createElement("script"),Ot(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function N0(r,s,o,u){var f=(f=xe.current)?Rh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=xo(o.href),o=An(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=xo(o.href);var m=An(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(su(r)))&&!m._p&&(E.instance=m,E.state.loading=5),cr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cr.set(r,o),m||X1(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(o),o=An(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xo(r){return'href="'+Lt(r)+'"'}function su(r){return'link[rel="stylesheet"]['+r+"]"}function O0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function X1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",o),Ot(s),r.head.appendChild(s))}function ko(r){return'[src="'+Lt(r)+'"]'}function au(r){return"script[async]"+r}function x0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(u)return s.instance=u,Ot(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ot(u),fn(u,"style",f),Ih(u,o.precedence,r),s.instance=u;case"stylesheet":f=xo(o.href);var m=r.querySelector(su(f));if(m)return s.state.loading|=4,s.instance=m,Ot(m),m;u=O0(o),(f=cr.get(f))&&tp(u,f),m=(r.ownerDocument||r).createElement("link"),Ot(m);var E=m;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),fn(m,"link",u),s.state.loading|=4,Ih(m,o.precedence,r),s.instance=m;case"script":return m=ko(o.src),(f=r.querySelector(au(m)))?(s.instance=f,Ot(f),f):(u=o,(f=cr.get(m))&&(u=v({},o),np(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ot(f),fn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ih(u,o.precedence,r));return s.instance}function Ih(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function np(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ch=null;function k0(r,s,o){if(Ch===null){var u=new Map,f=Ch=new Map;f.set(o,u)}else f=Ch,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Xs]||m[Gt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function V0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function W1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function P0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ou=null;function J1(){}function eR(r,s,o){if(ou===null)throw Error(i(475));var u=ou;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=xo(o.href),m=r.querySelector(su(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Dh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,Ot(m);return}m=r.ownerDocument||r,o=O0(o),(f=cr.get(f))&&tp(o,f),m=m.createElement("link"),Ot(m);var E=m;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),fn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Dh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function tR(){if(ou===null)throw Error(i(475));var r=ou;return r.stylesheets&&r.count===0&&rp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Dh(){if(this.count--,this.count===0){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nh=null;function rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nh=new Map,s.forEach(nR,r),Nh=null,Dh.call(r))}function nR(r,s){if(!(s.state.loading&4)){var o=Nh.get(r);if(o)var u=o.get(null);else{o=new Map,Nh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=Dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var lu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function rR(r,s,o,u,f,m,E,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function M0(r,s,o,u,f,m,E,A,C,q,ee,se){return r=new rR(r,s,o,E,A,C,q,se),s=1,m===!0&&(s|=24),m=qn(3,null,null,s),r.current=m,m.stateNode=r,s=Ud(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Fd(m),r}function L0(r){return r?(r=uo,r):uo}function U0(r,s,o,u,f,m){f=L0(f),u.context===null?u.context=f:u.pendingContext=f,u=cs(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=hs(r,u,s),o!==null&&(Kn(o,r,s),Ul(o,r,s))}function z0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ip(r,s){z0(r,s),(r=r.alternate)&&z0(r,s)}function j0(r){if(r.tag===13){var s=lo(r,67108864);s!==null&&Kn(s,r,67108864),ip(r,67108864)}}var Oh=!0;function iR(r,s,o,u){var f=K.T;K.T=null;var m=ce.p;try{ce.p=2,sp(r,s,o,u)}finally{ce.p=m,K.T=f}}function sR(r,s,o,u){var f=K.T;K.T=null;var m=ce.p;try{ce.p=8,sp(r,s,o,u)}finally{ce.p=m,K.T=f}}function sp(r,s,o,u){if(Oh){var f=ap(u);if(f===null)Gm(r,s,u,xh,o),F0(r,u);else if(oR(f,r,s,o,u))u.stopPropagation();else if(F0(r,u),s&4&&-1<aR.indexOf(r)){for(;f!==null;){var m=Or(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=jn(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-st(E);A.entanglements[1]|=C,E&=~C}$r(m),(at&6)===0&&(ph=xn()+500,tu(0))}}break;case 13:A=lo(m,2),A!==null&&Kn(A,m,2),yh(),ip(m,2)}if(m=ap(u),m===null&&Gm(r,s,u,xh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Gm(r,s,u,null,o)}}function ap(r){return r=tr(r),op(r)}var xh=null;function op(r){if(xh=null,r=pi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return xh=r,null}function B0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gc()){case Ji:return 2;case N:return 8;case $:case J:return 32;case _e:return 268435456;default:return 32}default:return 32}}var lp=!1,bs=null,Ss=null,Rs=null,uu=new Map,cu=new Map,Is=[],aR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(r,s){switch(r){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function hu(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Or(s),s!==null&&j0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function oR(r,s,o,u,f){switch(s){case"focusin":return bs=hu(bs,r,s,o,u,f),!0;case"dragenter":return Ss=hu(Ss,r,s,o,u,f),!0;case"mouseover":return Rs=hu(Rs,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return uu.set(m,hu(uu.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,cu.set(m,hu(cu.get(m)||null,r,s,o,u,f)),!0}return!1}function q0(r){var s=pi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,yc(r.priority,function(){if(o.tag===13){var u=Zn();u=ts(u);var f=lo(o,u);f!==null&&Kn(f,o,u),ip(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ap(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return s=Or(o),s!==null&&j0(s),r.blockedOn=o,!1;s.shift()}return!0}function H0(r,s,o){kh(r)&&o.delete(s)}function lR(){lp=!1,bs!==null&&kh(bs)&&(bs=null),Ss!==null&&kh(Ss)&&(Ss=null),Rs!==null&&kh(Rs)&&(Rs=null),uu.forEach(H0),cu.forEach(H0)}function Vh(r,s){r.blockedOn===s&&(r.blockedOn=null,lp||(lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lR)))}var Ph=null;function $0(r){Ph!==r&&(Ph=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===r&&(Ph=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(op(u||o)===null)continue;break}var m=Or(o);m!==null&&(r.splice(s,3),s-=3,om(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function fu(r){function s(C){return Vh(C,r)}bs!==null&&Vh(bs,r),Ss!==null&&Vh(Ss,r),Rs!==null&&Vh(Rs,r),uu.forEach(s),cu.forEach(s);for(var o=0;o<Is.length;o++){var u=Is[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)q0(o),o.blockedOn===null&&Is.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Mt]||null;if(typeof m=="function")E||$0(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Mt]||null)A=E.formAction;else if(op(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),$0(o)}}}function up(r){this._internalRoot=r}Mh.prototype.render=up.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Zn();U0(o,u,r,s,null,null)},Mh.prototype.unmount=up.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;U0(r.current,2,null,r,null,null),yh(),s[Jn]=null}};function Mh(r){this._internalRoot=r}Mh.prototype.unstable_scheduleHydration=function(r){if(r){var s=ns();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,r),o===0&&q0(r)}};var G0=e.version;if(G0!=="19.1.0")throw Error(i(527,G0,"19.1.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var uR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{ge=Lh.inject(uR),be=Lh}catch{}}return mu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=lv,m=uv,E=cv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=M0(r,1,!1,null,null,o,u,f,m,E,A,null),r[Jn]=s.current,$m(r),new up(s)},mu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=lv,E=uv,A=cv,C=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),s=M0(r,1,!0,s,o??null,u,f,m,E,A,C,q),s.context=L0(null),o=s.current,u=Zn(),u=ts(u),f=cs(u),f.callback=null,hs(o,f,u),o=u,s.current.lanes=o,mi(s,o),$r(s),r[Jn]=s.current,$m(r),new Mh(s)},mu.version="19.1.0",mu}var nE;function ER(){if(nE)return fp.exports;nE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fp.exports=vR(),fp.exports}var TR=ER();const wR="modulepreload",AR=function(t){return"/job-tracker/"+t},rE={},Pf=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=p(n.map(g=>{if(g=AR(g),g in rE)return;rE[g]=!0;const v=g.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":wR,v||(T.as="script"),T.crossOrigin="",T.href=g,d&&T.setAttribute("nonce",d),document.head.appendChild(T),v)return new Promise((O,x)=>{T.addEventListener("load",O),T.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var pu={},iE;function bR(){if(iE)return pu;iE=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=c,pu.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,O){const x=new l,z=T.length;if(z<2)return x;const H=O?.decode||v;let Q=0;do{const X=T.indexOf("=",Q);if(X===-1)break;const ne=T.indexOf(";",Q),fe=ne===-1?z:ne;if(X>fe){Q=T.lastIndexOf(";",X-1)+1;continue}const ie=d(T,Q,X),ye=p(T,X,ie),D=T.slice(ie,ye);if(x[D]===void 0){let S=d(T,X+1,fe),I=p(T,fe,S);const k=H(T.slice(S,I));x[D]=k}Q=fe+1}while(Q<z);return x}function d(T,O,x){do{const z=T.charCodeAt(O);if(z!==32&&z!==9)return O}while(++O<x);return x}function p(T,O,x){for(;O>x;){const z=T.charCodeAt(--O);if(z!==32&&z!==9)return O+1}return x}function g(T,O,x){const z=x?.encode||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const H=z(O);if(!e.test(H))throw new TypeError(`argument val is invalid: ${O}`);let Q=T+"="+H;if(!x)return Q;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);Q+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);Q+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);Q+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);Q+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(Q+="; HttpOnly"),x.secure&&(Q+="; Secure"),x.partitioned&&(Q+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return Q}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return a.call(T)==="[object Date]"}return pu}bR();var sE="popstate";function SR(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Op("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Pu(a)}return IR(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RR(){return Math.random().toString(36).substring(2,10)}function aE(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||i||RR()}}function Pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function IR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function w(){d="POP";let H=v(),Q=H==null?null:H-g;g=H,p&&p({action:d,location:z.location,delta:Q})}function T(H,Q){d="PUSH";let X=Op(z.location,H,Q);g=v()+1;let ne=aE(X,g),fe=z.createHref(X);try{c.pushState(ne,"",fe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(fe)}l&&p&&p({action:d,location:z.location,delta:1})}function O(H,Q){d="REPLACE";let X=Op(z.location,H,Q);g=v();let ne=aE(X,g),fe=z.createHref(X);c.replaceState(ne,"",fe),l&&p&&p({action:d,location:z.location,delta:0})}function x(H){return CR(H)}let z={get action(){return d},get location(){return t(a,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(sE,w),p=H,()=>{a.removeEventListener(sE,w),p=null}},createHref(H){return e(a,H)},createURL:x,encodeLocation(H){let Q=x(H);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:T,replace:O,go(H){return c.go(H)}};return z}function CR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Pu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Aw(t,e,n="/"){return DR(t,e,n,!1)}function DR(t,e,n,i){let a=typeof e=="string"?Wo(e):e,l=Hi(a.pathname||"/",n);if(l==null)return null;let c=bw(t);NR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=BR(l);d=zR(c[p],g,i)}return d}function bw(t,e=[],n=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Fi([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bw(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:LR(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Sw(l.path))a(l,c,d)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Sw(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function NR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var OR=/^:[\w-]+$/,xR=3,kR=2,VR=1,PR=10,MR=-2,oE=t=>t==="*";function LR(t,e){let n=t.split("/"),i=n.length;return n.some(oE)&&(i+=MR),e&&(i+=kR),n.filter(a=>!oE(a)).reduce((a,l)=>a+(OR.test(l)?xR:l===""?VR:PR),i)}function UR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function zR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=hf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!w&&g&&n&&!i[i.length-1].route.index&&(w=hf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:Fi([l,w.pathname]),pathnameBase:$R(Fi([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=Fi([l,w.pathnameBase]))}return c}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:w},T)=>{if(v==="*"){let x=d[T]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const O=d[T];return w&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function jR(t,e=!1,n=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function BR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function FR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:qR(n,e):e,search:GR(i),hash:ZR(a)}}function qR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pg(t){let e=HR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gg(t,e,n,i=!1){let a;typeof t=="string"?a=Wo(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),gp("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),gp("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),gp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;a.pathname=T.join("/")}d=w>=0?e[w]:"/"}let p=FR(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),$R=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Rw=["POST","PUT","PATCH","DELETE"];new Set(Rw);var QR=["GET",...Rw];new Set(QR);var Jo=W.createContext(null);Jo.displayName="DataRouter";var Mf=W.createContext(null);Mf.displayName="DataRouterState";var Iw=W.createContext({isTransitioning:!1});Iw.displayName="ViewTransition";var YR=W.createContext(new Map);YR.displayName="Fetchers";var XR=W.createContext(null);XR.displayName="Await";var Ir=W.createContext(null);Ir.displayName="Navigation";var Qu=W.createContext(null);Qu.displayName="Location";var ri=W.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var yg=W.createContext(null);yg.displayName="RouteError";function WR(t,{relative:e}={}){Et(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=W.useContext(Ir),{hash:a,pathname:l,search:c}=Yu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Fi([n,l])),i.createHref({pathname:d,search:c,hash:a})}function el(){return W.useContext(Qu)!=null}function ii(){return Et(el(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Qu).location}var Cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dw(t){W.useContext(Ir).static||W.useLayoutEffect(t)}function Lf(){let{isDataRoute:t}=W.useContext(ri);return t?hI():JR()}function JR(){Et(el(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Jo),{basename:e,navigator:n}=W.useContext(Ir),{matches:i}=W.useContext(ri),{pathname:a}=ii(),l=JSON.stringify(pg(i)),c=W.useRef(!1);return Dw(()=>{c.current=!0}),W.useCallback((p,g={})=>{if(Sr(c.current,Cw),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=gg(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}W.createContext(null);function Yu(t,{relative:e}={}){let{matches:n}=W.useContext(ri),{pathname:i}=ii(),a=JSON.stringify(pg(n));return W.useMemo(()=>gg(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function eI(t,e){return Nw(t,e)}function Nw(t,e,n,i){Et(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=W.useContext(Ir),{matches:l}=W.useContext(ri),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let Q=v&&v.path||"";Ow(p,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=ii(),T;if(e){let Q=typeof e=="string"?Wo(e):e;Et(g==="/"||Q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),T=Q}else T=w;let O=T.pathname||"/",x=O;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");x="/"+O.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=Aw(t,{pathname:x});Sr(v||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Sr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=sI(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},d,Q.params),pathname:Fi([g,a.encodeLocation?a.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:Fi([g,a.encodeLocation?a.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),l,n,i);return e&&H?W.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},H):H}function tI(){let t=cI(),e=KR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:a},n):null,c)}var nI=W.createElement(tI,null),rI=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(ri.Provider,{value:this.props.routeContext},W.createElement(yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iI({routeContext:t,match:e,children:n}){let i=W.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ri.Provider,{value:t},n)}function sI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:w}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let w,T=!1,O=null,x=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||nI,c&&(d<0&&v===0?(Ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):d===v&&(T=!0,x=g.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,v+1)),H=()=>{let Q;return w?Q=O:T?Q=x:g.route.Component?Q=W.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,W.createElement(iI,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?W.createElement(rI,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):H()},null)}function _g(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aI(t){let e=W.useContext(Jo);return Et(e,_g(t)),e}function oI(t){let e=W.useContext(Mf);return Et(e,_g(t)),e}function lI(t){let e=W.useContext(ri);return Et(e,_g(t)),e}function vg(t){let e=lI(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uI(){return vg("useRouteId")}function cI(){let t=W.useContext(yg),e=oI("useRouteError"),n=vg("useRouteError");return t!==void 0?t:e.errors?.[n]}function hI(){let{router:t}=aI("useNavigate"),e=vg("useNavigate"),n=W.useRef(!1);return Dw(()=>{n.current=!0}),W.useCallback(async(a,l={})=>{Sr(n.current,Cw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var lE={};function Ow(t,e,n){!e&&!lE[t]&&(lE[t]=!0,Sr(!1,n))}W.memo(fI);function fI({routes:t,future:e,state:n}){return Nw(t,void 0,n,e)}function xp({to:t,replace:e,state:n,relative:i}){Et(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=W.useContext(Ir);Sr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=W.useContext(ri),{pathname:c}=ii(),d=Lf(),p=gg(t,pg(l),c,i==="path"),g=JSON.stringify(p);return W.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:i})},[d,g,i,e,n]),null}function Ns(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Et(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Wo(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:T="default"}=n,O=W.useMemo(()=>{let x=Hi(p,c);return x==null?null:{location:{pathname:x,search:g,hash:v,state:w,key:T},navigationType:i}},[c,p,g,v,w,T,i]);return Sr(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:W.createElement(Ir.Provider,{value:d},W.createElement(Qu.Provider,{children:e,value:O}))}function mI({children:t,location:e}){return eI(kp(t),e)}function kp(t,e=[]){let n=[];return W.Children.forEach(t,(i,a)=>{if(!W.isValidElement(i))return;let l=[...e,a];if(i.type===W.Fragment){n.push.apply(n,kp(i.props.children,l));return}Et(i.type===Ns,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=kp(i.props.children,l)),n.push(c)}),n}var Xh="get",Wh="application/x-www-form-urlencoded";function Uf(t){return t!=null&&typeof t.tagName=="string"}function pI(t){return Uf(t)&&t.tagName.toLowerCase()==="button"}function gI(t){return Uf(t)&&t.tagName.toLowerCase()==="form"}function yI(t){return Uf(t)&&t.tagName.toLowerCase()==="input"}function _I(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vI(t,e){return t.button===0&&(!e||e==="_self")&&!_I(t)}var Uh=null;function EI(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var TI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(t){return t!=null&&!TI.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):t}function wI(t,e){let n,i,a,l,c;if(gI(t)){let d=t.getAttribute("action");i=d?Hi(d,e):null,n=t.getAttribute("method")||Xh,a=yp(t.getAttribute("enctype"))||Wh,l=new FormData(t)}else if(pI(t)||yI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(i=p?Hi(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Xh,a=yp(t.getAttribute("formenctype"))||yp(d.getAttribute("enctype"))||Wh,l=new FormData(d,t),!EI()){let{name:g,type:v,value:w}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,w)}}else{if(Uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xh,i=null,a=Wh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Eg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function AI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await AI(l,n);return c.links?c.links():[]}return[]}));return DI(i.flat(1).filter(bI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function uE(t,e,n,i,a,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function RI(t,e,{includeHydrateFallback:n}={}){return II(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function II(t){return[...new Set(t)]}function CI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function DI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(CI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NI=new Set([100,101,204,205]);function OI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function xw(){let t=W.useContext(Jo);return Eg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xI(){let t=W.useContext(Mf);return Eg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tg=W.createContext(void 0);Tg.displayName="FrameworkContext";function kw(){let t=W.useContext(Tg);return Eg(t,"You must render this element inside a <HydratedRouter> element"),t}function kI(t,e){let n=W.useContext(Tg),[i,a]=W.useState(!1),[l,c]=W.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,T=W.useRef(null);W.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let z=Q=>{Q.forEach(X=>{c(X.isIntersecting)})},H=new IntersectionObserver(z,{threshold:.5});return T.current&&H.observe(T.current),()=>{H.disconnect()}}},[t]),W.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let O=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:gu(d,O),onBlur:gu(p,x),onMouseEnter:gu(g,O),onMouseLeave:gu(v,x),onTouchStart:gu(w,O)}]:[!1,T,{}]}function gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VI({page:t,...e}){let{router:n}=xw(),i=W.useMemo(()=>Aw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?W.createElement(MI,{page:t,matches:i,...e}):null}function PI(t){let{manifest:e,routeModules:n}=kw(),[i,a]=W.useState([]);return W.useEffect(()=>{let l=!1;return SI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function MI({page:t,matches:e,...n}){let i=ii(),{manifest:a,routeModules:l}=kw(),{basename:c}=xw(),{loaderData:d,matches:p}=xI(),g=W.useMemo(()=>uE(t,e,p,a,i,"data"),[t,e,p,a,i]),v=W.useMemo(()=>uE(t,e,p,a,i,"assets"),[t,e,p,a,i]),w=W.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,z=!1;if(e.forEach(Q=>{let X=a.routes[Q.route.id];!X||!X.hasLoader||(!g.some(ne=>ne.route.id===Q.route.id)&&Q.route.id in d&&l[Q.route.id]?.shouldRevalidate||X.hasClientLoader?z=!0:x.add(Q.route.id))}),x.size===0)return[];let H=OI(t,c);return z&&x.size>0&&H.searchParams.set("_routes",e.filter(Q=>x.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[H.pathname+H.search]},[c,d,i,a,g,e,t,l]),T=W.useMemo(()=>RI(v,a),[v,a]),O=PI(v);return W.createElement(W.Fragment,null,w.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),T.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),O.map(({key:x,link:z})=>W.createElement("link",{key:x,...z})))}function LI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.6.3")}catch{}function UI({basename:t,children:e,window:n}){let i=W.useRef();i.current==null&&(i.current=SR({window:n,v5Compat:!0}));let a=i.current,[l,c]=W.useState({action:a.action,location:a.location}),d=W.useCallback(p=>{W.startTransition(()=>c(p))},[c]);return W.useLayoutEffect(()=>a.listen(d),[a,d]),W.createElement(dI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zo=W.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:w,...T},O){let{basename:x}=W.useContext(Ir),z=typeof g=="string"&&Pw.test(g),H,Q=!1;if(typeof g=="string"&&z&&(H=g,Vw))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=Hi(k.pathname,x);k.origin===I.origin&&L!=null?g=L+k.search+k.hash:Q=!0}catch{Sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=WR(g,{relative:a}),[ne,fe,ie]=kI(i,T),ye=FI(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:w});function D(I){e&&e(I),I.defaultPrevented||ye(I)}let S=W.createElement("a",{...T,...ie,href:H||X,onClick:Q||l?e:D,ref:LI(O,fe),target:p,"data-discover":!z&&n==="render"?"true":void 0});return ne&&!z?W.createElement(W.Fragment,null,S,W.createElement(VI,{page:X})):S});zo.displayName="Link";var zI=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let w=Yu(c,{relative:g.relative}),T=ii(),O=W.useContext(Mf),{navigator:x,basename:z}=W.useContext(Ir),H=O!=null&&ZI(w)&&d===!0,Q=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,X=T.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,Q=Q.toLowerCase()),ne&&z&&(ne=Hi(ne,z)||ne);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ie=X===Q||!a&&X.startsWith(Q)&&X.charAt(fe)==="/",ye=ne!=null&&(ne===Q||!a&&ne.startsWith(Q)&&ne.charAt(Q.length)==="/"),D={isActive:ie,isPending:ye,isTransitioning:H},S=ie?e:void 0,I;typeof i=="function"?I=i(D):I=[i,ie?"active":null,ye?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(D):l;return W.createElement(zo,{...g,"aria-current":S,className:I,ref:v,style:k,to:c,viewTransition:d},typeof p=="function"?p(D):p)});zI.displayName="NavLink";var jI=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Xh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,...T},O)=>{let x=$I(),z=GI(d,{relative:g}),H=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&Pw.test(d),X=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,ie=fe?.getAttribute("formmethod")||c;x(fe||ne.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:w})};return W.createElement("form",{ref:O,method:H,action:z,onSubmit:i?p:X,...T,"data-discover":!Q&&t==="render"?"true":void 0})});jI.displayName="Form";function BI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(t){let e=W.useContext(Jo);return Et(e,BI(t)),e}function FI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Lf(),p=ii(),g=Yu(t,{relative:l});return W.useCallback(v=>{if(vI(v,e)){v.preventDefault();let w=n!==void 0?n:Pu(p)===Pu(g);d(t,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,n,i,e,t,a,l,c])}var qI=0,HI=()=>`__${String(++qI)}__`;function $I(){let{router:t}=Mw("useSubmit"),{basename:e}=W.useContext(Ir),n=uI();return W.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=wI(i,e);if(a.navigate===!1){let v=a.fetcherKey||HI();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function GI(t,{relative:e}={}){let{basename:n}=W.useContext(Ir),i=W.useContext(ri);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Yu(t||".",{relative:e})},c=ii();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fi([n,l.pathname])),Pu(l)}function ZI(t,e={}){let n=W.useContext(Iw);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Mw("useViewTransitionState"),a=Yu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Hi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Hi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}[...NI];const KI=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},QI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,O=g&63;p||(O=64,c||(T=64)),i.push(n[v],n[w],n[T],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const w=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||w==null)throw new YI;const T=l<<2|d>>4;if(i.push(T),g!==64){const O=d<<4&240|g>>2;if(i.push(O),w!==64){const x=g<<6&192|w;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(t){const e=Lw(t);return Uw.encodeByteArray(e,!0)},ff=function(t){return XI(t).replace(/\./g,"")},zw=function(t){try{return Uw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>WI().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof cE>"u")return;const t=cE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zw(t[1]);return e&&JSON.parse(e)},zf=()=>{try{return KI()||JI()||eC()||tC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jw=t=>{var e,n;return(n=(e=zf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nC=t=>{const e=jw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Bw=()=>{var t;return(t=zf())===null||t===void 0?void 0:t.config},Fw=t=>{var e;return(e=zf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ff(JSON.stringify(n)),ff(JSON.stringify(c)),""].join(".")}const Ru={};function sC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function aC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hE=!1;function Hw(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Ru[t]===e||Ru[t]||hE)return;Ru[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=sC().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hE=!0,c()},T}function v(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=aC(i),O=n("text"),x=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),H=document.getElementById(z)||document.createElement("a"),Q=n("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;d(ne),v(H,z);const fe=g();p(X,Q),ne.append(X,x,H,fe),document.body.appendChild(ne)}l?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function lC(){var t;const e=(t=zf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function uC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dC(){return!lC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="FirebaseError";class Yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gC,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?yC(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Yi(a,d,i)}}function yC(t,e){return t.replace(_C,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const _C=/\{\$([^}]+)}/g;function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(fE(l)&&fE(c)){if(!xa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function fE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EC(t,e){const n=new TC(t,e);return n.subscribe.bind(n)}class TC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wC(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=_p),a.error===void 0&&(a.error=_p),a.complete===void 0&&(a.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class ka{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SC(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bC(t){return t===Ra?void 0:t}function SC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const IC={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},CC=Ke.INFO,DC={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},NC=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=DC[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=CC,this._logHandler=NC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const OC=(t,e)=>e.some(n=>t instanceof n);let dE,mE;function xC(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kC(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,Vp=new WeakMap,Gw=new WeakMap,vp=new WeakMap,Ag=new WeakMap;function VC(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ms(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$w.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function PC(t){if(Vp.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Vp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MC(t){Pp=t(Pp)}function LC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ep(this),e,...n);return Gw.set(i,e.sort?e.sort():[e]),Ms(i)}:kC().includes(t)?function(...e){return t.apply(Ep(this),e),Ms($w.get(this))}:function(...e){return Ms(t.apply(Ep(this),e))}}function UC(t){return typeof t=="function"?LC(t):(t instanceof IDBTransaction&&PC(t),OC(t,xC())?new Proxy(t,Pp):t)}function Ms(t){if(t instanceof IDBRequest)return VC(t);if(vp.has(t))return vp.get(t);const e=UC(t);return e!==t&&(vp.set(t,e),Ag.set(e,t)),e}const Ep=t=>Ag.get(t);function zC(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Ms(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ms(c.result),p.oldVersion,p.newVersion,Ms(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jC=["get","getKey","getAll","getAllKeys","count"],BC=["put","add","delete","clear"],Tp=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=BC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||jC.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&p.done]))[0]};return Tp.set(e,l),l}MC(t=>({...t,get:(e,n,i)=>pE(e,n)||t.get(e,n,i),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qC(t){const e=t.getComponent();return e?.type==="VERSION"}const Mp="@firebase/app",gE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new wg("@firebase/app"),HC="@firebase/app-compat",$C="@firebase/analytics-compat",GC="@firebase/analytics",ZC="@firebase/app-check-compat",KC="@firebase/app-check",QC="@firebase/auth",YC="@firebase/auth-compat",XC="@firebase/database",WC="@firebase/data-connect",JC="@firebase/database-compat",eD="@firebase/functions",tD="@firebase/functions-compat",nD="@firebase/installations",rD="@firebase/installations-compat",iD="@firebase/messaging",sD="@firebase/messaging-compat",aD="@firebase/performance",oD="@firebase/performance-compat",lD="@firebase/remote-config",uD="@firebase/remote-config-compat",cD="@firebase/storage",hD="@firebase/storage-compat",fD="@firebase/firestore",dD="@firebase/ai",mD="@firebase/firestore-compat",pD="firebase",gD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",yD={[Mp]:"fire-core",[HC]:"fire-core-compat",[GC]:"fire-analytics",[$C]:"fire-analytics-compat",[KC]:"fire-app-check",[ZC]:"fire-app-check-compat",[QC]:"fire-auth",[YC]:"fire-auth-compat",[XC]:"fire-rtdb",[WC]:"fire-data-connect",[JC]:"fire-rtdb-compat",[eD]:"fire-fn",[tD]:"fire-fn-compat",[nD]:"fire-iid",[rD]:"fire-iid-compat",[iD]:"fire-fcm",[sD]:"fire-fcm-compat",[aD]:"fire-perf",[oD]:"fire-perf-compat",[lD]:"fire-rc",[uD]:"fire-rc-compat",[cD]:"fire-gcs",[hD]:"fire-gcs-compat",[fD]:"fire-fst",[mD]:"fire-fst-compat",[dD]:"fire-vertex","fire-js":"fire-js",[pD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,_D=new Map,Up=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(Up.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const n of df.values())yE(n,t);for(const n of _D.values())yE(n,t);return!0}function bg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Xu("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=gD;function Zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lp,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Ls.create("bad-app-name",{appName:String(a)});if(n||(n=Bw()),!n)throw Ls.create("no-options");const l=df.get(a);if(l){if(xa(n,l.options)&&xa(i,l.config))return l;throw Ls.create("duplicate-app",{appName:a})}const c=new RC(a);for(const p of Up.values())c.addComponent(p);const d=new ED(n,i,c);return df.set(a,d),d}function Kw(t=Lp){const e=df.get(t);if(!e&&t===Lp&&Bw())return Zw();if(!e)throw Ls.create("no-app",{appName:t});return e}function Us(t,e,n){var i;let a=(i=yD[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ho(new ka(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebase-heartbeat-database",wD=1,Mu="firebase-heartbeat-store";let wp=null;function Qw(){return wp||(wp=zC(TD,wD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),wp}async function AD(t){try{const n=(await Qw()).transaction(Mu),i=await n.objectStore(Mu).get(Yw(t));return await n.done,i}catch(e){if(e instanceof Yi)$i.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function _E(t,e){try{const i=(await Qw()).transaction(Mu,"readwrite");await i.objectStore(Mu).put(e,Yw(t)),await i.done}catch(n){if(n instanceof Yi)$i.warn(n.message);else{const i=Ls.create("idb-set",{originalErrorMessage:n?.message});$i.warn(i.message)}}}function Yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1024,SD=30;class RD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>SD){const c=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:i,unsentEntries:a}=ID(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $i.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function ID(t,e=bD){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),EE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),EE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class CD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function EE(t){return ff(JSON.stringify({version:2,heartbeats:t})).length}function DD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){Ho(new ka("platform-logger",e=>new FC(e),"PRIVATE")),Ho(new ka("heartbeat",e=>new RD(e),"PRIVATE")),Us(Mp,gE,t),Us(Mp,gE,"esm2017"),Us("fire-js","")}ND("");function Sg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function Xw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OD=Xw,Ww=new Xu("auth","Firebase",Xw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new wg("@firebase/auth");function xD(t,...e){mf.logLevel<=Ke.WARN&&mf.warn(`Auth (${nl}): ${t}`,...e)}function Jh(t,...e){mf.logLevel<=Ke.ERROR&&mf.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Ig(t,...e)}function br(t,...e){return Ig(t,...e)}function Rg(t,e,n){const i=Object.assign(Object.assign({},OD()),{[e]:n});return new Xu("auth","Firebase",i).create(e,{appName:t.name})}function Qr(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kD(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fr(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ww.create(t,...e)}function Ne(t,e,...n){if(!t)throw Ig(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function Gi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VD(){return TE()==="http:"||TE()==="https:"}function TE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||cC()||"connection"in navigator)?navigator.onLine:!0}function MD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=oC()||hC()}get(){return PD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zD=new Ju(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,i,a={}){return eA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Wu(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:p},l);return uC()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(g.credentials="include"),Jw.fetch()(await tA(t,t.config.apiHost,n,d),g)})}async function eA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},LD),e);try{const a=new BD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw zh(t,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rg(t,v,g);fr(t,v)}}catch(a){if(a instanceof Yi)throw a;fr(t,"network-request-failed",{message:String(a)})}}async function ec(t,e,n,i,a={}){const l=await si(t,e,n,i,a);return"mfaPendingCredential"in l&&fr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function tA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Cg(t.config,a):`${t.config.apiScheme}://${a}`;return UD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function jD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(br(this.auth,"network-request-failed")),zD.get())})}}function zh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=br(t,e,i);return a.customData._tokenResponse=n,a}function wE(t){return t!==void 0&&t.enterprise!==void 0}class FD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qD(t,e){return si(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function pf(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $D(t,e=!1){const n=At(t),i=await n.getIdToken(e),a=Dg(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Iu(Ap(a.auth_time)),issuedAtTime:Iu(Ap(a.iat)),expirationTime:Iu(Ap(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ap(t){return Number(t)*1e3}function Dg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=zw(n);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function AE(t){const e=Dg(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Yi&&GD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function GD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){var e;const n=t.auth,i=await t.getIdToken(),a=await $o(t,pf(n,{idToken:i}));Ne(a?.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?nA(l.providerUserInfo):[],d=QD(t.providerData,c),p=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!d?.length,v=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,w)}async function KD(t){const e=At(t);await Lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function nA(t){return t.map(e=>{var{providerId:n}=e,i=Sg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e){const n=await eA(t,{},async()=>{const i=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await tA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(p.credentials="include"),Jw.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XD(t,e){return si(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await YD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new jo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $D(this,e)}reload(){return KD(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Lu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await $o(this,HD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,p,g,v;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,O=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,z=(d=n.tenantId)!==null&&d!==void 0?d:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:fe,isAnonymous:ie,providerData:ye,stsTokenManager:D}=n;Ne(ne&&D,e,"internal-error");const S=jo.fromJSON(this.name,D);Ne(typeof ne=="string",e,"internal-error"),Ds(w,e.name),Ds(T,e.name),Ne(typeof fe=="boolean",e,"internal-error"),Ne(typeof ie=="boolean",e,"internal-error"),Ds(O,e.name),Ds(x,e.name),Ds(z,e.name),Ds(H,e.name),Ds(Q,e.name),Ds(X,e.name);const I=new Ar({uid:ne,auth:e,email:T,emailVerified:fe,displayName:w,isAnonymous:ie,photoURL:x,phoneNumber:O,tenantId:z,stsTokenManager:S,createdAt:Q,lastLoginAt:X});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(k=>Object.assign({},k))),H&&(I._redirectEventId=H),I}static async _fromIdTokenResponse(e,n,i=!1){const a=new jo;a.updateFromServerResponse(n);const l=new Ar({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Lu(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?nA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new jo;d.updateFromIdToken(i);const p=new Ar({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new jp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;function Bi(t){Gi(t instanceof Function,"Expected a class definition");let e=bE.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rA.type="NONE";const SE=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=ef("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pf(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bo(Bi(SE),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Bi(SE);const c=ef(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let w;if(typeof v=="string"){const T=await pf(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Ar._fromGetAccountInfoResponse(e,T,v)}else w=Ar._fromJSON(e,v);g!==l&&(d=w),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Bo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(cA(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(lA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function iA(t=wn()){return/firefox\//i.test(t)}function sA(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(t=wn()){return/crios\//i.test(t)}function oA(t=wn()){return/iemobile/i.test(t)}function lA(t=wn()){return/android/i.test(t)}function uA(t=wn()){return/blackberry/i.test(t)}function cA(t=wn()){return/webos/i.test(t)}function Ng(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WD(t=wn()){var e;return Ng(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JD(){return fC()&&document.documentMode===10}function hA(t=wn()){return Ng(t)||lA(t)||cA(t)||uA(t)||/windows phone/i.test(t)||oA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e=[]){let n;switch(t){case"Browser":n=RE(wn());break;case"Worker":n=`${RE(wn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e={}){return si(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class rN{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:nN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pf(this,{idToken:e}),i=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Qr(this));const n=e?At(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&xD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ai(t){return At(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(t){jf=t}function dA(t){return jf.loadJS(t)}function aN(){return jf.recaptchaEnterpriseScript}function oN(){return jf.gapiScript}function lN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hN="recaptcha-enterprise",mA="NO_RECAPTCHA";class fN{constructor(e){this.type=hN,this.auth=ai(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{qD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new FD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;wE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(mA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&wE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=aN();p.length!==0&&(p+=d),dA(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function CE(t,e,n,i=!1,a=!1){const l=new fN(t);let c;if(a)c=mA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function gf(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await CE(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await CE(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){const n=bg(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(xa(l,e??{}))return a;fr(a,"already-initialized")}return n.initialize({options:e})}function mN(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function pN(t,e,n){const i=ai(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=pA(e),{host:c,port:d}=gN(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(xa(g,i.config.emulator)&&xa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,tl(c)?(qw(`${l}//${c}${p}`),Hw("Auth",!0)):yN()}function pA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gN(t){const e=pA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:DE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:DE(c)}}}function DE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function _N(t,e){return si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){return ec(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}async function EN(t,e){return si(t,"POST","/v1/accounts:sendOobCode",Xi(t,e))}async function TN(t,e){return EN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function AN(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Og{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Uu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,n,"signInWithPassword",vN);case"emailLink":return wN(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,i,"signUpPassword",_N);case"emailLink":return AN(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return ec(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="http://localhost";class Va extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Sg(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Va(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Fo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:bN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RN(t){const e=Eu(Tu(t)).link,n=e?Eu(Tu(e)).deep_link_id:null,i=Eu(Tu(t)).deep_link_id;return(i?Eu(Tu(i)).link:null)||i||n||e||t}class xg{constructor(e){var n,i,a,l,c,d;const p=Eu(Tu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,w=SN((a=p.mode)!==null&&a!==void 0?a:null);Ne(g&&v&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=RN(e);try{return new xg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=xg.parseLink(n);return Ne(i,"argument-error"),Uu._fromEmailAndCode(e,i.code,i.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends kg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends tc{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Va._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends tc{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends tc{constructor(){super("twitter.com")}static credential(e,n){return Va._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ks.credential(n,i)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e){return ec(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ar._fromIdTokenResponse(e,i,a),c=NE(i);return new Zi({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=NE(i);return new Zi({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t){var e;if(Un(t.app))return Promise.reject(Qr(t));const n=ai(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Zi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await gA(n,{returnSecureToken:!0}),a=await Zi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Yi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new yf(e,n,i,a)}}function yA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(t,l,e,i):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function _A(t,e,n=!1){const i=await $o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zi._forOperation(t,"link",i)}async function DN(t,e,n){await Lu(e);const i=CN(e.providerData);Ne(i.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e,n=!1){const{auth:i}=t;if(Un(i.app))return Promise.reject(Qr(i));const a="reauthenticate";try{const l=await $o(t,yA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const c=Dg(l.idToken);Ne(c,i,"internal-error");const{sub:d}=c;return Ne(t.uid===d,i,"user-mismatch"),Zi._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e,n=!1){if(Un(t.app))return Promise.reject(Qr(t));const i="signIn",a=await yA(t,i,e),l=await Zi._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function ON(t,e){return vA(ai(t),e)}async function xN(t,e){const n=At(t);return await DN(!1,n,e.providerId),_A(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t){const e=ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kN(t,e,n){const i=ai(t);await gf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TN)}async function VN(t,e,n){if(Un(t.app))return Promise.reject(Qr(t));const i=ai(t),c=await gf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&EA(t),p}),d=await Zi._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function PN(t,e,n){return Un(t.app)?Promise.reject(Qr(t)):ON(At(t),za.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&EA(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){return si(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=At(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await $o(i,MN(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function UN(t,e,n,i){return At(t).onIdTokenChanged(e,n,i)}function zN(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function jN(t,e,n,i){return At(t).onAuthStateChanged(e,n,i)}function BN(t){return At(t).signOut()}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1e3,qN=10;class wA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);JD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qN):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wA.type="LOCAL";const HN=wA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AA.type="SESSION";const bA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await $N(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Vg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function ZN(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function KN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YN(){return SA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebaseLocalStorageDb",XN=1,vf="firebaseLocalStorage",IA="fbase_key";class nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(t,e){return t.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function WN(){const t=indexedDB.deleteDatabase(RA);return new nc(t).toPromise()}function Bp(){const t=indexedDB.open(RA,XN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(vf,{keyPath:IA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(vf)?e(i):(i.close(),await WN(),e(await Bp()))})})}async function OE(t,e,n){const i=Ff(t,!0).put({[IA]:e,value:n});return new nc(i).toPromise()}async function JN(t,e){const n=Ff(t,!1).get(e),i=await new nc(n).toPromise();return i===void 0?null:i.value}function xE(t,e){const n=Ff(t,!0).delete(e);return new nc(n).toPromise()}const eO=800,tO=3;class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>tO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(YN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await OE(e,_f,"1"),await xE(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>OE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>JN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ff(a,!1).getAll();return new nc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CA.type="LOCAL";const nO=CA;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){return e?Bi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rO(t){return vA(t.auth,new Pg(t),t.bypassAuthState)}function iO(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),NN(n,new Pg(t),t.bypassAuthState)}async function sO(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),_A(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return iO;default:fr(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Ju(2e3,1e4);async function oO(t,e,n){if(Un(t.app))return Promise.reject(br(t,"operation-not-supported-in-this-environment"));const i=ai(t);kD(t,e,kg);const a=DA(i,n);return new Ia(i,"signInViaPopup",e,a).executeNotNull()}class Ia extends NA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aO.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="pendingRedirect",tf=new Map;class uO extends NA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const i=await cO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(t,e){const n=dO(e),i=fO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function hO(t,e){tf.set(t._key(),e)}function fO(t){return Bi(t._redirectPersistence)}function dO(t){return ef(lO,t.config.apiKey,t.name)}async function mO(t,e,n=!1){if(Un(t.app))return Promise.reject(Qr(t));const i=ai(t),a=DA(i,e),c=await new uO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=10*60*1e3;class gO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!OA(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(br(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pO&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EO=/^https?/;async function TO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _O(t);for(const n of e)try{if(wO(n))return}catch{}fr(t,"unauthorized-domain")}function wO(t){const e=zp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!EO.test(n))return!1;if(vO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Ju(3e4,6e4);function VE(){const t=Yr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bO(t){return new Promise((e,n)=>{var i,a,l;function c(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(br(t,"network-request-failed"))},timeout:AO.get()})}if(!((a=(i=Yr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Yr().gapi)===null||l===void 0)&&l.load)c();else{const d=lN("iframefcb");return Yr()[d]=()=>{gapi.load?c():n(br(t,"network-request-failed"))},dA(`${oN()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw nf=null,e})}let nf=null;function SO(t){return nf=nf||bO(t),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new Ju(5e3,15e3),IO="__/auth/iframe",CO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cg(e,CO):`https://${t.config.authDomain}/${IO}`,i={apiKey:e.apiKey,appName:t.name,v:nl},a=NO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Wu(i).slice(1)}`}async function xO(t){const e=await SO(t),n=Yr().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:OO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=br(t,"network-request-failed"),d=Yr().setTimeout(()=>{l(c)},RO.get());function p(){Yr().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VO=500,PO=600,MO="_blank",LO="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UO(t,e,n,i=VO,a=PO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},kO),{width:i.toString(),height:a.toString(),top:l,left:c}),g=wn().toLowerCase();n&&(d=aA(g)?MO:n),iA(g)&&(e=e||LO,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[O,x])=>`${T}${O}=${x},`,"");if(WD(g)&&d!=="_self")return zO(e||"",d),new PE(null);const w=window.open(e||"",d,v);Ne(w,t,"popup-blocked");try{w.focus()}catch{}return new PE(w)}function zO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",BO="emulator/auth/handler",FO=encodeURIComponent("fac");async function ME(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:nl,eventId:a};if(e instanceof kg){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",vC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof tc){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await t._getAppCheckToken(),g=p?`#${FO}=${encodeURIComponent(p)}`:"";return`${qO(t)}?${Wu(d).slice(1)}${g}`}function qO({config:t}){return t.emulator?Cg(t,BO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class HO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=mO,this._overrideRedirectResult=hO}async _openPopup(e,n,i,a){var l;Gi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ME(e,n,i,zp(),a);return UO(e,c,Vg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await ME(e,n,i,zp(),a);return ZN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Gi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xO(e),i=new gO(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[bp];c!==void 0&&n(!!c),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hA()||sA()||Ng()}}const $O=HO;var LE="@firebase/auth",UE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KO(t){Ho(new ka("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(t)},g=new iN(i,a,l,p);return mN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ho(new ka("auth-internal",e=>{const n=ai(e.getProvider("auth").getImmediate());return(i=>new GO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(LE,UE,ZO(t)),Us(LE,UE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=5*60,YO=Fw("authIdTokenMaxAge")||QO;let zE=null;const XO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YO)return;const a=n?.token;zE!==a&&(zE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WO(t=Kw()){const e=bg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dN(t,{popupRedirectResolver:$O,persistence:[nO,HN,bA]}),i=Fw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=XO(l.toString());zN(n,c,()=>c(n.currentUser)),UN(n,d=>c(d))}}const a=jw("auth");return a&&pN(n,`http://${a}`),n}function JO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=br("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",JO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KO("Browser");var ex="firebase",tx="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(ex,tx,"app");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,xA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function I(){}I.prototype=S.prototype,D.D=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(k,L,P){for(var R=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)R[Le-2]=arguments[Le];return S.prototype[L].apply(k,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,I){I||(I=0);var k=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)k[L]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(L=0;16>L;++L)k[L]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],L=D.g[2];var P=D.g[3],R=S+(P^I&(L^P))+k[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=P+(L^S&(I^L))+k[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=L+(I^P&(S^I))+k[2]+606105819&4294967295,L=P+(R<<17&4294967295|R>>>15),R=I+(S^L&(P^S))+k[3]+3250441966&4294967295,I=L+(R<<22&4294967295|R>>>10),R=S+(P^I&(L^P))+k[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(L^S&(I^L))+k[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=L+(I^P&(S^I))+k[6]+2821735955&4294967295,L=P+(R<<17&4294967295|R>>>15),R=I+(S^L&(P^S))+k[7]+4249261313&4294967295,I=L+(R<<22&4294967295|R>>>10),R=S+(P^I&(L^P))+k[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(L^S&(I^L))+k[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=L+(I^P&(S^I))+k[10]+4294925233&4294967295,L=P+(R<<17&4294967295|R>>>15),R=I+(S^L&(P^S))+k[11]+2304563134&4294967295,I=L+(R<<22&4294967295|R>>>10),R=S+(P^I&(L^P))+k[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(L^S&(I^L))+k[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=L+(I^P&(S^I))+k[14]+2792965006&4294967295,L=P+(R<<17&4294967295|R>>>15),R=I+(S^L&(P^S))+k[15]+1236535329&4294967295,I=L+(R<<22&4294967295|R>>>10),R=S+(L^P&(I^L))+k[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^L&(S^I))+k[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=L+(S^I&(P^S))+k[11]+643717713&4294967295,L=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(L^P))+k[0]+3921069994&4294967295,I=L+(R<<20&4294967295|R>>>12),R=S+(L^P&(I^L))+k[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^L&(S^I))+k[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=L+(S^I&(P^S))+k[15]+3634488961&4294967295,L=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(L^P))+k[4]+3889429448&4294967295,I=L+(R<<20&4294967295|R>>>12),R=S+(L^P&(I^L))+k[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^L&(S^I))+k[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=L+(S^I&(P^S))+k[3]+4107603335&4294967295,L=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(L^P))+k[8]+1163531501&4294967295,I=L+(R<<20&4294967295|R>>>12),R=S+(L^P&(I^L))+k[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^L&(S^I))+k[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=L+(S^I&(P^S))+k[7]+1735328473&4294967295,L=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(L^P))+k[12]+2368359562&4294967295,I=L+(R<<20&4294967295|R>>>12),R=S+(I^L^P)+k[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^L)+k[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=L+(P^S^I)+k[11]+1839030562&4294967295,L=P+(R<<16&4294967295|R>>>16),R=I+(L^P^S)+k[14]+4259657740&4294967295,I=L+(R<<23&4294967295|R>>>9),R=S+(I^L^P)+k[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^L)+k[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=L+(P^S^I)+k[7]+4139469664&4294967295,L=P+(R<<16&4294967295|R>>>16),R=I+(L^P^S)+k[10]+3200236656&4294967295,I=L+(R<<23&4294967295|R>>>9),R=S+(I^L^P)+k[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^L)+k[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=L+(P^S^I)+k[3]+3572445317&4294967295,L=P+(R<<16&4294967295|R>>>16),R=I+(L^P^S)+k[6]+76029189&4294967295,I=L+(R<<23&4294967295|R>>>9),R=S+(I^L^P)+k[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^L)+k[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=L+(P^S^I)+k[15]+530742520&4294967295,L=P+(R<<16&4294967295|R>>>16),R=I+(L^P^S)+k[2]+3299628645&4294967295,I=L+(R<<23&4294967295|R>>>9),R=S+(L^(I|~P))+k[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~L))+k[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=L+(S^(P|~I))+k[14]+2878612391&4294967295,L=P+(R<<15&4294967295|R>>>17),R=I+(P^(L|~S))+k[5]+4237533241&4294967295,I=L+(R<<21&4294967295|R>>>11),R=S+(L^(I|~P))+k[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~L))+k[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=L+(S^(P|~I))+k[10]+4293915773&4294967295,L=P+(R<<15&4294967295|R>>>17),R=I+(P^(L|~S))+k[1]+2240044497&4294967295,I=L+(R<<21&4294967295|R>>>11),R=S+(L^(I|~P))+k[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~L))+k[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=L+(S^(P|~I))+k[6]+2734768916&4294967295,L=P+(R<<15&4294967295|R>>>17),R=I+(P^(L|~S))+k[13]+1309151649&4294967295,I=L+(R<<21&4294967295|R>>>11),R=S+(L^(I|~P))+k[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~L))+k[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=L+(S^(P|~I))+k[2]+718787259&4294967295,L=P+(R<<15&4294967295|R>>>17),R=I+(P^(L|~S))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var I=S-this.blockSize,k=this.B,L=this.h,P=0;P<S;){if(L==0)for(;P<=I;)a(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<S;)if(k[L++]=D.charCodeAt(P++),L==this.blockSize){a(this,k),L=0;break}}else for(;P<S;)if(k[L++]=D[P++],L==this.blockSize){a(this,k),L=0;break}}this.h=L,this.o+=S},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var I=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=I&255,I/=256;for(this.u(D),D=Array(16),S=I=0;4>S;++S)for(var k=0;32>k;k+=8)D[I++]=this.g[S]>>>k&255;return D};function l(D,S){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function c(D,S){this.h=S;for(var I=[],k=!0,L=D.length-1;0<=L;L--){var P=D[L]|0;k&&P==S||(I[L]=P,k=!1)}this.g=I}var d={};function p(D){return-128<=D&&128>D?l(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return H(g(-D));for(var S=[],I=1,k=0;D>=I;k++)S[k]=D/I|0,I*=4294967296;return new c(S,0)}function v(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return H(v(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),k=w,L=0;L<D.length;L+=8){var P=Math.min(8,D.length-L),R=parseInt(D.substring(L,L+P),S);8>P?(P=g(Math.pow(S,P)),k=k.j(P).add(g(R))):(k=k.j(I),k=k.add(g(R)))}return k}var w=p(0),T=p(1),O=p(16777216);t=c.prototype,t.m=function(){if(z(this))return-H(this).m();for(var D=0,S=1,I=0;I<this.g.length;I++){var k=this.i(I);D+=(0<=k?k:4294967296+k)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(z(this))return"-"+H(this).toString(D);for(var S=g(Math.pow(D,6)),I=this,k="";;){var L=fe(I,S).g;I=Q(I,L.j(S));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=L,x(I))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function z(D){return D.h==-1}t.l=function(D){return D=Q(this,D),z(D)?-1:x(D)?0:1};function H(D){for(var S=D.g.length,I=[],k=0;k<S;k++)I[k]=~D.g[k];return new c(I,~D.h).add(T)}t.abs=function(){return z(this)?H(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0,L=0;L<=S;L++){var P=k+(this.i(L)&65535)+(D.i(L)&65535),R=(P>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);k=R>>>16,P&=65535,R&=65535,I[L]=R<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Q(D,S){return D.add(H(S))}t.j=function(D){if(x(this)||x(D))return w;if(z(this))return z(D)?H(this).j(H(D)):H(H(this).j(D));if(z(D))return H(this.j(H(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var S=this.g.length+D.g.length,I=[],k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<D.g.length;L++){var P=this.i(k)>>>16,R=this.i(k)&65535,Le=D.i(L)>>>16,je=D.i(L)&65535;I[2*k+2*L]+=R*je,X(I,2*k+2*L),I[2*k+2*L+1]+=P*je,X(I,2*k+2*L+1),I[2*k+2*L+1]+=R*Le,X(I,2*k+2*L+1),I[2*k+2*L+2]+=P*Le,X(I,2*k+2*L+2)}for(k=0;k<S;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=S;k<2*S;k++)I[k]=0;return new c(I,0)};function X(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ne(D,S){this.g=D,this.h=S}function fe(D,S){if(x(S))throw Error("division by zero");if(x(D))return new ne(w,w);if(z(D))return S=fe(H(D),S),new ne(H(S.g),H(S.h));if(z(S))return S=fe(D,H(S)),new ne(H(S.g),S.h);if(30<D.g.length){if(z(D)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,k=S;0>=k.l(D);)I=ie(I),k=ie(k);var L=ye(I,1),P=ye(k,1);for(k=ye(k,2),I=ye(I,2);!x(k);){var R=P.add(k);0>=R.l(D)&&(L=L.add(I),P=R),k=ye(k,1),I=ye(I,1)}return S=Q(D,L.j(S)),new ne(L,S)}for(L=w;0<=D.l(S);){for(I=Math.max(1,Math.floor(D.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=g(I),R=P.j(S);z(R)||0<R.l(D);)I-=k,P=g(I),R=P.j(S);x(P)&&(P=T),L=L.add(P),D=Q(D,R)}return new ne(L,D)}t.A=function(D){return fe(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)&D.i(k);return new c(I,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)|D.i(k);return new c(I,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)^D.i(k);return new c(I,this.h^D.h)};function ie(D){for(var S=D.g.length+1,I=[],k=0;k<S;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new c(I,D.h)}function ye(D,S){var I=S>>5;S%=32;for(var k=D.g.length-I,L=[],P=0;P<k;P++)L[P]=0<S?D.i(P+I)>>>S|D.i(P+I+1)<<32-S:D.i(P+I);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,zs=c}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kA,wu,VA,rf,Fp,PA,MA,LA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var b=0;b<h.length-1;b++){var j=h[b];if(!(j in _))break e;_=_[j]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,b=!1,j={next:function(){if(!b&&_<h.length){var Y=_++;return{value:y(Y,h[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function w(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function T(h,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function O(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function x(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,j,Y){for(var de=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];return y.prototype[j].apply(b,de)}}function z(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function H(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=h.length||0,Y=b.length||0;h.length=j+Y;for(let de=0;de<Y;de++)h[j+de]=b[de]}else h.push(b)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function fe(h){return fe[" "](h),h}fe[" "]=function(){};var ie=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ye(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function D(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function S(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)h[_]=b[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function L(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function P(h){d.setTimeout(()=>{throw h},0)}function R(){var h=He;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Le{constructor(){this.h=this.g=null}add(y,_){const b=je.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var je=new Q(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Ae=!1,He=new Le,V=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(oe)}};var oe=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){P(_)}var y=je;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}Ae=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Ue(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ie){e:{try{fe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ue.aa.h.call(this)}}x(Ue,ue);var xe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function On(h,y,_,b,j){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++it,this.da=this.fa=!1}function Xn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function dr(h){this.src=h,this.g={},this.h=0}dr.prototype.add=function(h,y,_,b,j){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var de=li(h,y,b,j);return-1<de?(y=h[de],_||(y.fa=!1)):(y=new On(y,this.src,Y,!!b,j),y.fa=_,h.push(y)),y};function Cr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],j=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(b,j,1),Y&&(Xn(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function li(h,y,_,b){for(var j=0;j<h.length;++j){var Y=h[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return j}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Wi={};function qa(h,y,_,b,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)qa(h,y[Y],_,b,j);return null}return _=he(_),h&&h[Rt]?h.K(y,_,g(b)?!!b.capture:!1,j):xn(h,y,_,!1,b,j)}function xn(h,y,_,b,j,Y){if(!y)throw Error("Invalid event type");var de=g(j)?!!j.capture:!!j,Ye=_e(h);if(Ye||(h[Dr]=Ye=new dr(h)),_=Ye.add(y,_,b,de,Y),_.proxy)return _;if(b=gc(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)Re||(j=de),j===void 0&&(j=!1),h.addEventListener(y.toString(),b,j);else if(h.attachEvent)h.attachEvent($(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gc(){function h(_){return y.call(h.src,h.listener,_)}const y=J;return h}function Ji(h,y,_,b,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ji(h,y[Y],_,b,j);else b=g(b)?!!b.capture:!!b,_=he(_),h&&h[Rt]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],_=li(Y,_,b,j),-1<_&&(Xn(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=_e(h))&&(y=h.g[y.toString()],h=-1,y&&(h=li(y,_,b,j)),(_=-1<h?y[h]:null)&&N(_))}function N(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Rt])Cr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent($(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=_e(y))?(Cr(_,h),_.h==0&&(_.src=null,y[Dr]=null)):Xn(h)}}}function $(h){return h in Wi?Wi[h]:Wi[h]="on"+h}function J(h,y){if(h.da)h=!0;else{y=new Ue(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&N(h),h=_.call(b,y)}return h}function _e(h){return h=h[Dr],h instanceof dr?h:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(h){return typeof h=="function"?h:(h[me]||(h[me]=function(y){return h.handleEvent(y)}),h[me])}function ge(){pe.call(this),this.i=new dr(this),this.M=this,this.F=null}x(ge,pe),ge.prototype[Rt]=!0,ge.prototype.removeEventListener=function(h,y,_,b){Ji(this,h,y,_,b)};function be(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var j=y;y=new ue(b,h),k(y,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var de=y.g=_[Y];j=Be(de,b,!0,y)&&j}if(de=y.g=h,j=Be(de,b,!0,y)&&j,j=Be(de,b,!1,y)&&j,_)for(Y=0;Y<_.length;Y++)de=y.g=_[Y],j=Be(de,b,!1,y)&&j}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)Xn(_[b]);delete h.g[y],h.h--}}this.F=null},ge.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},ge.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function Be(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var de=y[Y];if(de&&!de.da&&de.capture==_){var Ye=de.listener,Zt=de.ha||de.src;de.fa&&Cr(h.i,de),j=Ye.call(Zt,b)!==!1&&j}}return j&&!b.defaultPrevented}function st(h,y,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ui(h){h.g=st(()=>{h.g=null,h.i&&(h.i=!1,ui(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Wn extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(h){pe.call(this),this.h=h,this.g={}}x(ci,pe);var mr=[];function pr(h){ye(h.g,function(y,_){this.g.hasOwnProperty(_)&&N(y)},h),h.g={}}ci.prototype.N=function(){ci.aa.N.call(this),pr(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,hi=d.JSON.parse,fi=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function es(){}es.prototype.h=null;function ul(h){return h.h||(h.h=h.i())}function cl(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){ue.call(this,"d")}x(mi,ue);function hl(){ue.call(this,"c")}x(hl,ue);var Nr={},fl=null;function ts(){return fl=fl||new ge}Nr.La="serverreachability";function Ha(h){ue.call(this,Nr.La,h)}x(Ha,ue);function ns(h){const y=ts();be(y,new Ha(y))}Nr.STAT_EVENT="statevent";function yc(h,y){ue.call(this,Nr.STAT_EVENT,h),this.stat=y}x(yc,ue);function _t(h){const y=ts();be(y,new yc(y,h))}Nr.Ma="timingevent";function Gt(h,y){ue.call(this,Nr.Ma,h),this.size=y}x(Gt,ue);function Mt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function dl(h,y,_,b,j,Y){h.info(function(){if(h.g)if(Y)for(var de="",Ye=Y.split("&"),Zt=0;Zt<Ye.length;Zt++){var Xe=Ye[Zt].split("=");if(1<Xe.length){var en=Xe[0];Xe=Xe[1];var Kt=en.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(en+"="+Xe+"&"):de+(en+"=redacted&")}}else de=null;else de=Y;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+de})}function dd(h,y,_,b,j,Y,de){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+de})}function rs(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xs(h,_)+(b?" "+b:"")})}function _c(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function Xs(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var de=1;de<j.length;de++)j[de]=""}}}}return jn(_)}catch{return y}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function xr(){}x(xr,es),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Or=new xr;function An(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var ml={},$a={};function gr(h,y,_){h.L=1,h.v=na(Bn(y)),h.m=_,h.P=!0,gi(h,null)}function gi(h,y){h.F=Date.now(),Ws(h),h.A=Bn(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),El(_.i,"t",b),h.C=0,_=h.j.J,h.h=new Ot,h.g=Vc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Wn(T(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(mr[0]=j.toString()),j=mr);for(var Y=0;Y<j.length;Y++){var de=qa(_,j[Y],b||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ns(),dl(h.i,h.u,h.A,h.l,h.R,h.m)}An.prototype.ca=function(h){h=h.target;const y=this.M;y&&rr(h)==3?y.j():this.Y(h)},An.prototype.Y=function(h){try{if(h==this.g)e:{const Kt=rr(this.g);var y=this.g.Ba();const bi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=bi?ns(3):ns(2)),ss(this);var _=this.g.Z();this.X=_;t:if(vc(this)){var b=Rc(this.g);h="";var j=b.length,Y=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),kr(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(Y&&y==j-1)});b.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,dd(this.i,this.u,this.A,this.l,this.R,Kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Zt=this.g;if((Ye=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ye)){var Xe=Ye;break t}}Xe=null}if(_=Xe)rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Js(this,_);else{this.o=!1,this.s=3,_t(12),ln(this),kr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<de.length;)if(un=Ec(this,de),un==$a){Kt==4&&(this.s=4,_t(14),_=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ml){this.s=4,_t(15),rs(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else rs(this.i,this.l,un,null),Js(this,un);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,_t(16),_=!1),this.o=this.o&&_,!_)rs(this.i,this.l,de,"[Invalid Chunked Response]"),ln(this),kr(this);else if(0<de.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ca(en),en.M=!0,_t(11))}}else rs(this.i,this.l,de,null),Js(this,de);Kt==4&&ln(this),this.o&&!this.J&&(Kt==4?Oc(this.j,this):(this.o=!1,Ws(this)))}else _d(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),ln(this),kr(this)}}}catch{}finally{}};function vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ec(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?$a:(_=Number(y.substring(_,b)),isNaN(_)?ml:(b+=1,b+_>y.length?$a:(y=y.slice(b,b+_),h.C=b+_,y)))}An.prototype.cancel=function(){this.J=!0,ln(this)};function Ws(h){h.S=Date.now()+h.I,Tc(h,h.I)}function Tc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Mt(T(h.ba,h),y)}function ss(h){h.B&&(d.clearTimeout(h.B),h.B=null)}An.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(_c(this.i,this.A),this.L!=2&&(ns(),_t(17)),ln(this),this.s=2,kr(this)):Tc(this,this.S-h)};function kr(h){h.j.G==0||h.J||Oc(h.j,h)}function ln(h){ss(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,pr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Js(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||pl(_.h,h))){if(!h.K&&pl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)ro(_),to(_);else break e;Sl(_),_t(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mt(T(_.Za,_),6e3));if(1>=Za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((h.K||_.g==h)&&ro(_),!X(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Xe=j[y];if(_.T=Xe[0],Xe=Xe[1],_.G==2)if(Xe[0]=="c"){_.K=Xe[1],_.ia=Xe[2];const en=Xe[3];en!=null&&(_.la=en,_.j.info("VER="+_.la));const Kt=Xe[4];Kt!=null&&(_.Aa=Kt,_.j.info("SVER="+_.Aa));const bi=Xe[5];bi!=null&&typeof bi=="number"&&0<bi&&(b=1.5*bi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const un=h.g;if(un){const jr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Y=b.h;Y.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ka(Y,Y.h),Y.h=null))}if(b.D){const Il=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(b.ya=Il,lt(b.I,b.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var de=h;if(b.qa=kc(b,b.J?b.ia:null,b.W),de.K){bn(b.h,de);var Ye=de,Zt=b.L;Zt&&(Ye.I=Zt),Ye.B&&(ss(Ye),Ws(Ye)),b.g=de}else Dc(b);0<_.i.length&&no(_)}else Xe[0]!="stop"&&Xe[0]!="close"||Ai(_,7);else _.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ai(_,7):Al(_):Xe[0]!="noop"&&_.l&&_.l.ta(Xe),_.v=0)}}ns(4)}catch{}}var wc=class{constructor(h,y){this.g=h,this.map=y}};function yi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Za(h){return h.h?1:h.g?h.g.size:0}function pl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ka(h,y){h.g?h.g.add(y):h.h=y}function bn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}yi.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function gl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return z(h.i)}function md(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Qa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function yl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Qa(h),b=md(h),j=b.length,Y=0;Y<j;Y++)y.call(void 0,b[Y],_&&_[Y],h)}var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),j=null;if(0<=b){var Y=h[_].substring(0,b);j=h[_].substring(b+1)}else Y=h[_];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Lt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lt){this.h=h.h,ta(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var y=h.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),_i(this,_),this.m=h.m}else h&&(y=String(h).match(ea))?(this.h=!1,ta(this,y[1]||"",!0),this.o=er(y[2]||""),this.g=er(y[3]||"",!0),as(this,y[4]),this.l=er(y[5]||"",!0),_i(this,y[6]||"",!0),this.m=er(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Lt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ra(y,_l,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ra(y,_l,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(ra(_,_.charAt(0)=="/"?gd:vl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",ra(_,Ya)),h.join("")};function Bn(h){return new Lt(h)}function ta(h,y,_){h.j=_?er(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function _i(h,y,_){y instanceof vi?(h.i=y,bc(h.i,h.h)):(_||(y=ra(y,yd)),h.i=new vi(y,h.h))}function lt(h,y,_){h.i.set(y,_)}function na(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function er(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ra(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Ac),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ac(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _l=/[#\/\?@]/g,vl=/[#\?:]/g,gd=/[#\?]/g,yd=/[#\?@]/g,Ya=/#/g;function vi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function tr(h){h.g||(h.g=new Map,h.h=0,h.i&&pd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=vi.prototype,t.add=function(h,y){tr(this),this.i=null,h=Vr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Ei(h,y){tr(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ti(h,y){return tr(h),y=Vr(h,y),h.g.has(y)}t.forEach=function(h,y){tr(this),this.g.forEach(function(_,b){_.forEach(function(j){h.call(y,j,b,this)},this)},this)},t.na=function(){tr(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=h[b];for(let Y=0;Y<j.length;Y++)_.push(y[b])}return _},t.V=function(h){tr(this);let y=[];if(typeof h=="string")Ti(this,h)&&(y=y.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},t.set=function(h,y){return tr(this),this.i=null,h=Vr(this,h),Ti(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function El(h,y,_){Ei(h,y),0<_.length&&(h.i=null,h.g.set(Vr(h,y),z(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),de=this.V(b);for(b=0;b<de.length;b++){var j=Y;de[b]!==""&&(j+="="+encodeURIComponent(String(de[b]))),h.push(j)}}return this.i=h.join("&")};function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function bc(h,y){y&&!h.j&&(tr(h),h.i=null,h.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Ei(this,b),El(this,j,_))},h)),h.j=y}function ia(h,y){const _=new Jn;if(d.Image){const b=new Image;b.onload=O(nr,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(nr,_,"TestLoadImage: error",!1,y,b),b.onabort=O(nr,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(nr,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function yr(h,y){const _=new Jn,b=new AbortController,j=setTimeout(()=>{b.abort(),nr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(Y=>{clearTimeout(j),Y.ok?nr(_,"TestPingServer: ok",!0,y):nr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),nr(_,"TestPingServer: error",!1,y)})}function nr(h,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function sa(){this.g=new fi}function Pr(h,y,_){const b=_||"";try{yl(h,function(j,Y){let de=j;g(j)&&(de=jn(j)),y.push(b+Y+"="+encodeURIComponent(de))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function os(h){this.l=h.Ub||null,this.j=h.eb||!1}x(os,es),os.prototype.g=function(){return new wi(this.l,this.j)},os.prototype.i=function(h){return function(){return h}}({});function wi(h,y){ge.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(wi,ge),t=wi.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Lr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):Lr(this),this.readyState==3&&Tl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},t.Qa=function(h){this.g&&(this.response=h,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Lr(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Lr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wl(h){let y="";return ye(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Jt(h,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=wl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):lt(h,y,_))}function nt(h){ge.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(nt,ge);var Xa=/^https?$/i,aa=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?ul(this.o):ul(Or),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Sc(this,Y);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(aa,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of _)this.g.setRequestHeader(Y,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Sc(this,Y)}};function Sc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Wa(h),Ur(h)}function Wa(h){h.A||(h.A=!0,be(h,"complete"),be(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,be(this,"complete"),be(this,"abort"),Ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||rr(h)!=4||h.Z()!=2)){if(h.u&&rr(h)==4)st(h.Ea,0,h);else if(be(h,"readystatechange"),rr(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=de===0){var j=String(h.D).match(ea)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),b=!Xa.test(j?j.toLowerCase():"")}_=b}if(_)be(h,"complete"),be(h,"success");else{h.m=6;try{var Y=2<rr(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Wa(h)}}finally{Ur(h)}}}}function Ur(h,y){if(h.g){oa(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||be(h,"ready");try{_.onreadystatechange=b}catch{}}}function oa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function rr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hi(y)}};function Rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _d(h){const y={};h=(h.g&&2<=rr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(X(h[b]))continue;var _=L(h[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}D(y,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function eo(h){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,h),this.cb=la("retryDelaySeedMs",1e4,h),this.Wa=la("forwardChannelMaxRetries",2,h),this.wa=la("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(h&&h.concurrentRequestLimit),this.Da=new sa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(h,y,_,b){_t(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=kc(this,null,this.W),no(this)};function Al(h){if(Ic(h),h.G==3){var y=h.U++,_=Bn(h.I);if(lt(_,"SID",h.K),lt(_,"RID",y),lt(_,"TYPE","terminate"),ua(h,_),y=new An(h,h.j,y),y.L=2,y.v=na(Bn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ws(y)}xc(h)}function to(h){h.g&&(ca(h),h.g.cancel(),h.g=null)}function Ic(h){to(h),h.u&&(d.clearTimeout(h.u),h.u=null),ro(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function no(h){if(!Ga(h.h)&&!h.s){h.s=!0;var y=h.Ga;ce||V(),Ae||(ce(),Ae=!0),He.add(y,h),h.B=0}}function vd(h,y){return Za(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Mt(T(h.Ga,h,y),Rl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new An(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=S(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Cc(this,j,y),_=Bn(this.I),lt(_,"RID",h),lt(_,"CVER",22),this.D&&lt(_,"X-HTTP-Session-Id",this.D),ua(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(wl(Y)))+"&"+y:this.m&&Jt(_,this.m,Y)),Ka(this.h,j),this.Ua&&lt(_,"TYPE","init"),this.P?(lt(_,"$req",y),lt(_,"SID","null"),j.T=!0,gr(j,_,null)):gr(j,_,y),this.G=2}}else this.G==3&&(h?bl(this,h):this.i.length==0||Ga(this.h)||bl(this))};function bl(h,y){var _;y?_=y.l:_=h.U++;const b=Bn(h.I);lt(b,"SID",h.K),lt(b,"RID",_),lt(b,"AID",h.T),ua(h,b),h.m&&h.o&&Jt(b,h.m,h.o),_=new An(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Cc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ka(h.h,_),gr(_,b,y)}function ua(h,y){h.H&&ye(h.H,function(_,b){lt(y,b,_)}),h.l&&yl({},function(_,b){lt(y,b,_)})}function Cc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?T(h.l.Na,h.l,h):null;e:{var j=h.i;let Y=-1;for(;;){const de=["count="+_];Y==-1?0<_?(Y=j[0].g,de.push("ofs="+Y)):Y=0:de.push("ofs="+Y);let Ye=!0;for(let Zt=0;Zt<_;Zt++){let Xe=j[Zt].g;const en=j[Zt].map;if(Xe-=Y,0>Xe)Y=Math.max(0,j[Zt].g-100),Ye=!1;else try{Pr(en,de,"req"+Xe+"_")}catch{b&&b(en)}}if(Ye){b=de.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,b}function Dc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ce||V(),Ae||(ce(),Ae=!0),He.add(y,h),h.v=0}}function Sl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Mt(T(h.Fa,h),Rl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Mt(T(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),to(this),Nc(this))};function ca(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Nc(h){h.g=new An(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Bn(h.qa);lt(y,"RID","rpc"),lt(y,"SID",h.K),lt(y,"AID",h.T),lt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(y,"TO",h.ja),lt(y,"TYPE","xmlhttp"),ua(h,y),h.m&&h.o&&Jt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=na(Bn(y)),_.m=null,_.P=!0,gi(_,h)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Sl(this),_t(19))};function ro(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Oc(h,y){var _=null;if(h.g==y){ro(h),ca(h),h.g=null;var b=2}else if(pl(h.h,y))_=y.D,bn(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;b=ts(),be(b,new Gt(b,_)),no(h)}else Dc(h);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&vd(h,y)||b==2&&Sl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),j){case 1:Ai(h,5);break;case 4:Ai(h,10);break;case 3:Ai(h,6);break;default:Ai(h,2)}}}function Rl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Ai(h,y){if(h.j.info("Error code "+y),y==2){var _=T(h.fb,h),b=h.Xa;const j=!b;b=new Lt(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ta(b,"https"),na(b),j?ia(b.toString(),_):yr(b.toString(),_)}else _t(2);h.G=0,h.l&&h.l.sa(y),xc(h),Ic(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function xc(h){if(h.G=0,h.ka=[],h.l){const y=gl(h.h);(y.length!=0||h.i.length!=0)&&(H(h.ka,y),H(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function kc(h,y,_){var b=_ instanceof Lt?Bn(_):new Lt(_);if(b.g!="")y&&(b.g=y+"."+b.g),as(b,b.s);else{var j=d.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new Lt(null);b&&ta(Y,b),y&&(Y.g=y),j&&as(Y,j),_&&(Y.l=_),b=Y}return _=h.D,y=h.ya,_&&y&&lt(b,_,y),lt(b,"VER",h.la),ua(h,b),b}function Vc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new os({eb:_})):new nt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}t=Pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function io(){}io.prototype.g=function(h,y){return new Sn(h,y)};function Sn(h,y){ge.call(this),this.g=new eo(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!X(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new zr(this)}x(Sn,ge),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Al(this.g)},Sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=jn(h),h=_);y.i.push(new wc(y.Ya++,h)),y.G==3&&no(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,Sn.aa.N.call(this)};function Mc(h){mi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}x(Mc,mi);function Lc(){hl.call(this),this.status=1}x(Lc,hl);function zr(h){this.g=h}x(zr,Pc),zr.prototype.ua=function(){be(this.g,"a")},zr.prototype.ta=function(h){be(this.g,new Mc(h))},zr.prototype.sa=function(h){be(this.g,new Lc)},zr.prototype.ra=function(){be(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,LA=function(){return new io},MA=function(){return ts()},PA=Nr,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,rf=is,pi.COMPLETE="complete",VA=pi,cl.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",ge.prototype.listen=ge.prototype.K,wu=cl,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,kA=nt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",FE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new wg("@firebase/firestore");function Po(){return Pa.logLevel}function Ee(t,...e){if(Pa.logLevel<=Ke.DEBUG){const n=e.map(Mg);Pa.debug(`Firestore (${rl}): ${t}`,...n)}}function Ki(t,...e){if(Pa.logLevel<=Ke.ERROR){const n=e.map(Mg);Pa.error(`Firestore (${rl}): ${t}`,...n)}}function Bs(t,...e){if(Pa.logLevel<=Ke.WARN){const n=e.map(Mg);Pa.warn(`Firestore (${rl}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,UA(t,i,n)}function UA(t,e,n){let i=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ki(i),new Error(i)}function rt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||UA(e,a,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ix{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new zA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class sx{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new sx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=lx(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function qp(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return qe(i,a);{const l=jA(),c=ux(l.encode(HE(t,n)),l.encode(HE(e,n)));return c!==0?c:qe(i,a)}}n+=i>65535?2:1}return qe(t.length,e.length)}function HE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ux(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return qe(t[n],e[n]);return qe(t.length,e.length)}function Go(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Oe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Gr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=Gr.isNumericId(e),a=Gr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class pt extends Gr{construct(e,n,i){return new pt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Gr{construct(e,n,i){return new mn(e,n,i)}static isValidIdentifier(e){return cx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new mn([$E])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(pt.fromString(e))}static fromName(e){return new Ie(pt.fromString(e).popFirst(5))}static empty(){return new Ie(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e,n){if(!n)throw new ve(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hx(t,e,n,i){if(e===!0&&i===!0)throw new ve(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!Ie.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZE(t){if(Ie.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function rc(t,e){if(!FA(t))throw new ve(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,QE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*QE);return new gt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ht("string",gt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new gt(0,0))}static max(){return new Pe(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function fx(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(i===1e9?new gt(n+1,0):new gt(n,i));return new Fs(a,Ie.empty(),e)}function dx(t){return new Fs(t.readTime,t.key,zu)}class Fs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fs(Pe.min(),Ie.empty(),zu)}static max(){return new Fs(Pe.max(),Ie.empty(),zu)}}function mx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==px)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,i)=>{n(e)})}static reject(e){return new ae((n,i)=>{i(e)})}static waitFor(e){return new ae((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next(a=>a?ae.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,n){return new ae((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function yx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Hf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function $f(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function _x(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="";function vx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YE(e)),e=Ex(t.get(n),e);return YE(e)}function Ex(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case qA:n+="";break;default:n+=l}}return n}function YE(t){return t+qA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new dn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Wt(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $A("Invalid base64 string: "+l):l}}(e);return new pn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=Tx.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",ZA="__type__",KA="__previous_value__",QA="__local_write_time__";function zg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZA])===null||n===void 0?void 0:n.stringValue)===GA}function Gf(t){const e=t.mapValue.fields[KA];return zg(e)?Gf(e):e}function ju(t){const e=qs(t.mapValue.fields[QA].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,i,a,l,c,d,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Tf="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Tf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__type__",Ax="__max__",Fh={mapValue:{}},XA="__vector__",wf="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:Sx(t)?9007199254740991:bx(t)?10:11:Oe(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=qs(a.timestampValue),d=qs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Hs(a.bytesValue).isEqual(Hs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Vt(a.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(a.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Vt(a.integerValue)===Vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Vt(a.doubleValue),d=Vt(l.doubleValue);return c===d?Ef(c)===Ef(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(XE(c)!==XE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ti(c[p],d[p])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function Fu(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=$s(t),i=$s(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Vt(l.integerValue||l.doubleValue),p=Vt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return JE(t.timestampValue,e.timestampValue);case 4:return JE(ju(t),ju(e));case 5:return qp(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Hs(l),p=Hs(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=qe(d[g],p[g]);if(v!==0)return v}return qe(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=qe(Vt(l.latitude),Vt(c.latitude));return d!==0?d:qe(Vt(l.longitude),Vt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eT(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const w=l.fields||{},T=c.fields||{},O=(d=w[wf])===null||d===void 0?void 0:d.arrayValue,x=(p=T[wf])===null||p===void 0?void 0:p.arrayValue,z=qe(((g=O?.values)===null||g===void 0?void 0:g.length)||0,((v=x?.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:eT(O,x)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Fh.mapValue&&c===Fh.mapValue)return 0;if(l===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=qp(p[w],v[w]);if(T!==0)return T;const O=Zo(d[p[w]],g[v[w]]);if(O!==0)return O}return qe(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{le:n})}}function JE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=qs(t),i=qs(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function eT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Zo(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function Ko(t){return Hp(t)}function Hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=qs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Hp(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Hp(n.fields[c])}`;return a+"}"}(t.mapValue):Oe(61005,{value:t})}function sf(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+sf(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Ks(i.fields,(l,c)=>{a+=l.length+sf(c)}),a}(t.mapValue);default:throw Oe(13486,{value:t})}}function tT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function nT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function bx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[YA])===null||n===void 0?void 0:n.stringValue)===XA}function Cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Cu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ax}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=mn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Cu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ks(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new zn(Cu(this.value))}}function WA(t){const e=[];return Ks(t.fields,(n,i)=>{const a=new mn([n]);if(af(i)){const l=WA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new En(e,0,Pe.min(),Pe.min(),Pe.min(),zn.empty(),0)}static newFoundDocument(e,n,i,a){return new En(e,1,n,Pe.min(),i,a,0)}static newNoDocument(e,n){return new En(e,2,n,Pe.min(),Pe.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Pe.min(),Pe.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function iT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),n.key):i=Zo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function sT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class qt extends JA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Cx(e,n,i):n==="array-contains"?new Ox(e,i):n==="in"?new xx(e,i):n==="not-in"?new kx(e,i):n==="array-contains-any"?new Vx(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Dx(e,i):new Nx(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Rr(e,n)}matches(e){return eb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function eb(t){return t.op==="and"}function tb(t){return Ix(t)&&eb(t)}function Ix(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Gp(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(tb(t))return t.filters.map(e=>Gp(e)).join(",");{const e=t.filters.map(n=>Gp(n)).join(",");return`${t.op}(${e})`}}function nb(t,e){return t instanceof qt?function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(t,e):t instanceof Rr?function(i,a){return a instanceof Rr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&nb(c,a.filters[d]),!0):!1}(t,e):void Oe(19439)}function rb(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(rb).join(" ,")+"}"}(t):"Filter"}class Cx extends qt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends qt{constructor(e,n){super(e,"in",n),this.keys=ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nx extends qt{constructor(e,n){super(e,"not-in",n),this.keys=ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ib(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class Ox extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&Fu(n.arrayValue,this.value)}}class xx extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class kx extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fu(this.value.arrayValue,n)}}class Vx extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function aT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new Px(t,e,n,i,a,l,c)}function Bg(t){const e=Me(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Gp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ko(i)).join(",")),e.Pe=n}return e.Pe}function Fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sT(t.startAt,e.startAt)&&sT(t.endAt,e.endAt)}function Zp(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Mx(t,e,n,i,a,l,c,d){return new al(t,e,n,i,a,l,c,d)}function Zf(t){return new al(t)}function oT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sb(t){return t.collectionGroup!==null}function Du(t){const e=Me(t);if(e.Te===null){e.Te=[];const n=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Wt(mn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Te.push(new qu(l,i))}),n.has(mn.keyField().canonicalString())||e.Te.push(new qu(mn.keyField(),i))}return e.Te}function Xr(t){const e=Me(t);return e.Ie||(e.Ie=Lx(e,Du(t))),e.Ie}function Lx(t,e){if(t.limitType==="F")return aT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new qu(a.field,l)});const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return aT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Kp(t,e){const n=t.filters.concat([e]);return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qp(t,e,n){return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kf(t,e){return Fg(Xr(t),Xr(e))&&t.limitType===e.limitType}function ab(t){return`${Bg(Xr(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>rb(a)).join(", ")}]`),$f(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Ko(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Ko(a)).join(",")),`Target(${i})`}(Xr(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ie.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Du(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=iT(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Du(i),a)||i.endAt&&!function(c,d,p){const g=iT(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Du(i),a))}(t,e)}function Ux(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ob(t){return(e,n)=>{let i=!1;for(const a of Du(t)){const l=zx(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function zx(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Zo(p,g):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new bt(Ie.comparator);function Qi(){return jx}const lb=new bt(Ie.comparator);function Au(...t){let e=lb;for(const n of t)e=e.insert(n.key,n);return e}function ub(t){let e=lb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ca(){return Nu()}function cb(){return Nu()}function Nu(){return new ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bx=new bt(Ie.comparator),Fx=new Wt(Ie.comparator);function Qe(...t){let e=Fx;for(const n of t)e=e.add(n);return e}const qx=new Wt(qe);function Hx(){return qx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function hb(t){return{integerValue:""+t}}function $x(t,e){return _x(e)?hb(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function Gx(t,e,n){return t instanceof Hu?function(a,l){const c={fields:{[ZA]:{stringValue:GA},[QA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&zg(l)&&(l=Gf(l)),l&&(c.fields[KA]=l),{mapValue:c}}(n,e):t instanceof $u?db(t,e):t instanceof Gu?mb(t,e):function(a,l){const c=fb(a,l),d=lT(c)+lT(a.Ee);return $p(c)&&$p(a.Ee)?hb(d):qg(a.serializer,d)}(t,e)}function Zx(t,e,n){return t instanceof $u?db(t,e):t instanceof Gu?mb(t,e):n}function fb(t,e){return t instanceof bf?function(i){return $p(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Hu extends Yf{}class $u extends Yf{constructor(e){super(),this.elements=e}}function db(t,e){const n=pb(e);for(const i of t.elements)n.some(a=>ti(a,i))||n.push(i);return{arrayValue:{values:n}}}class Gu extends Yf{constructor(e){super(),this.elements=e}}function mb(t,e){let n=pb(e);for(const i of t.elements)n=n.filter(a=>!ti(a,i));return{arrayValue:{values:n}}}class bf extends Yf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function lT(t){return Vt(t.integerValue||t.doubleValue)}function pb(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.field=e,this.transform=n}}function Qx(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof $u&&a instanceof $u||i instanceof Gu&&a instanceof Gu?Go(i.elements,a.elements,ti):i instanceof bf&&a instanceof bf?ti(i.Ee,a.Ee):i instanceof Hu&&a instanceof Hu}(t.transform,e.transform)}class Yx{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xf{}function gb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wf(t.key,Nn.none()):new ic(t.key,t.data,Nn.none());{const n=t.data,i=zn.empty();let a=new Wt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Qs(t.key,i,new Qn(a.toArray()),Nn.none())}}function Xx(t,e,n){t instanceof ic?function(a,l,c){const d=a.value.clone(),p=cT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(a,l,c){if(!of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=cT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(yb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,i){return t instanceof ic?function(l,c,d,p){if(!of(l.precondition,c))return d;const g=l.value.clone(),v=hT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof Qs?function(l,c,d,p){if(!of(l.precondition,c))return d;const g=hT(l.fieldTransforms,p,c),v=c.data;return v.setAll(yb(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(l,c,d){return of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function Wx(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=fb(i.transform,a||null);l!=null&&(n===null&&(n=zn.empty()),n.set(i.field,l))}return n||null}function uT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Go(i,a,(l,c)=>Qx(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends Xf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qs extends Xf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function cT(t,e,n){const i=new Map;rt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Zx(c,d,n[a]))}return i}function hT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,Gx(l,c,e))}return i}class Wf extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Xx(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ou(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ou(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=cb();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=gb(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,i)=>uT(n,i))&&Go(this.baseMutations,e.baseMutations,(n,i)=>uT(n,i))}}class Hg{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){rt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=function(){return Bx}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Hg(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Je;function rk(t){switch(t){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function _b(t){if(t===void 0)return Ki("GRPC error has no .code"),te.UNKNOWN;switch(t){case Bt.OK:return te.OK;case Bt.CANCELLED:return te.CANCELLED;case Bt.UNKNOWN:return te.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return te.INTERNAL;case Bt.UNAVAILABLE:return te.UNAVAILABLE;case Bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Bt.NOT_FOUND:return te.NOT_FOUND;case Bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Bt.ABORTED:return te.ABORTED;case Bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Bt.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:t})}}(Je=Bt||(Bt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new zs([4294967295,4294967295],0);function fT(t){const e=jA().encode(t),n=new xA;return n.update(e),new Uint8Array(n.digest())}function dT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zs([n,i],0),new zs([a,l],0)]}class $g{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(i<0)throw new bu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=zs.fromNumber(this.fe)}pe(e,n,i){let a=e.add(n.multiply(zs.fromNumber(i)));return a.compare(ik)===1&&(a=new zs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=fT(e),[i,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);if(!this.ye(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $g(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const n=fT(e),[i,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);this.we(c)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Jf(Pe.min(),a,new bt(qe),Qi(),Qe())}}class sc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new sc(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=a}}class vb{constructor(e,n){this.targetId=e,this.De=n}}class Eb{constructor(e,n,i=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class mT{constructor(){this.ve=0,this.Ce=pT(),this.Fe=pn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Qe(),n=Qe(),i=Qe();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Oe(38017,{changeType:l})}}),new sc(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=pT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Qi(),this.je=qh(),this.Je=qh(),this.He=new bt(qe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,i=e.De.count,a=this.st(n);if(a){const l=a.target;if(Zp(l))if(i===0){const c=new Ie(l.path);this.Xe(n,c,En.newNoDocument(c,Pe.min()))}else rt(i===1,20013,{expectedCount:i});else{const c=this.ot(n);if(c!==i){const d=this._t(e),p=d?this.ut(d,e,c):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Hs(i).toUint8Array()}catch(p){if(p instanceof $A)return Bs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new $g(c,a,l)}catch(p){return Bs(p instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,l,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&Zp(d.target)){const p=new Ie(d.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,En.newNoDocument(p,e))}l.Ne&&(n.set(c,l.Le()),l.ke())}});let i=Qe();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const a=new Jf(e,n,this.He,this.ze,i);return this.ze=Qi(),this.je=qh(),this.Je=qh(),this.He=new bt(qe),a}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new mT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Wt(qe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Wt(qe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new mT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function qh(){return new bt(Ie.comparator)}function pT(){return new bt(Ie.comparator)}const ak={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lk={and:"AND",or:"OR"};class uk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yp(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ck(t,e){return Sf(t,e.toTimestamp())}function Wr(t){return rt(!!t,49232),Pe.fromTimestamp(function(n){const i=qs(n);return new gt(i.seconds,i.nanos)}(t))}function Gg(t,e){return Xp(t,e).canonicalString()}function Xp(t,e){const n=function(a){return new pt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wb(t){const e=pt.fromString(t);return rt(Ib(e),10190,{key:e.toString()}),e}function Wp(t,e){return Gg(t.databaseId,e.path)}function Sp(t,e){const n=wb(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(bb(n))}function Ab(t,e){return Gg(t.databaseId,e)}function hk(t){const e=wb(t);return e.length===4?pt.emptyPath():bb(e)}function Jp(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bb(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gT(t,e,n){return{name:Wp(t,e),fields:n.value.mapValue.fields}}function fk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(rt(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?te.UNKNOWN:_b(g.code);return new ve(v,g.message||"")}(c);n=new Eb(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Sp(t,i.document.name),l=Wr(i.document.updateTime),c=i.document.createTime?Wr(i.document.createTime):Pe.min(),d=new zn({mapValue:{fields:i.document.fields}}),p=En.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];n=new lf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Sp(t,i.document),l=i.readTime?Wr(i.readTime):Pe.min(),c=En.newNoDocument(a,l),d=i.removedTargetIds||[];n=new lf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Sp(t,i.document),l=i.removedTargetIds||[];n=new lf([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new nk(a,l),d=i.targetId;n=new vb(d,c)}}return n}function dk(t,e){let n;if(e instanceof ic)n={update:gT(t,e.key,e.value)};else if(e instanceof Wf)n={delete:Wp(t,e.key)};else if(e instanceof Qs)n={update:gT(t,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof Jx))return Oe(16599,{Rt:e.type});n={verify:Wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Oe(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ck(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)}(t,e.precondition)),n}function mk(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Wr(a.updateTime):Wr(l);return c.isEqual(Pe.min())&&(c=Wr(l)),new Yx(c,a.transformResults||[])}(n,e))):[]}function pk(t,e){return{documents:[Ab(t,e.path)]}}function gk(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ab(t,a);const l=function(g){if(g.length!==0)return Rb(Rr.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Lo(T.field),direction:vk(T.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Yp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:a}}function yk(t){let e=hk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){rt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(w){const T=Sb(w);return T instanceof Rr&&tb(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(T=>function(x){return new qu(Uo(x.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,$f(T)?null:T}(n.limit));let p=null;n.startAt&&(p=function(w){const T=!!w.before,O=w.values||[];return new Af(O,T)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const T=!w.before,O=w.values||[];return new Af(O,T)}(n.endAt)),Mx(e,a,c,l,d,"F",p,g)}function _k(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Uo(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(n.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Uo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(i=>Sb(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function vk(t){return ak[t]}function Ek(t){return ok[t]}function Tk(t){return lk[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return mn.fromServerFormat(t.fieldPath)}function Rb(t){return t instanceof qt?function(n){if(n.op==="=="){if(rT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:Ek(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const i=n.getFilters().map(a=>Rb(a));return i.length===1?i[0]:{compositeFilter:{op:Tk(n.op),filters:i}}}(t):Oe(54877,{filter:t})}function wk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ib(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,i,a,l=Pe.min(),c=Pe.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.gt=e}}function bk(t){const e=yk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.Dn=new Rk}addToCollectionParentIndex(e,n){return this.Dn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Fs.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Rk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Wt(pt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Wt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cb=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(Cb,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Qo(0)}static ur(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",Ik=1048576;function vT([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class Ck{constructor(e){this.Tr=e,this.buffer=new Wt(vT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ee(_T,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?Ee(_T,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Rr(3e5)})}}class Nk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Hf.ue);const i=new Ck(n);return this.Vr.forEachTarget(e,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(yT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,n))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),Po()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function Ok(t,e){return new Nk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Ou(i.mutation,a,Qn.empty(),gt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Ca();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Au();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ca();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Qe()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Qi();const c=Nu(),d=function(){return Nu()}();return n.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Qs)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ou(v.mutation,g,v.mutation.getFieldMask(),gt.now())):c.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),n.forEach((g,v)=>{var w;return d.set(g,new kk(v,(w=c.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Nu();let a=new bt((c,d)=>c-d),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=i.get(p)||Qn.empty();v=d.applyToLocalView(g,v),i.set(p,v);const w=(a.get(d.batchId)||Qe()).add(p);a=a.insert(d.batchId,w)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,w=cb();v.forEach(T=>{if(!l.has(T)){const O=gb(n.get(T),i.get(T));O!==null&&w.set(T,O),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(Ca());let d=zu,p=l;return c.next(g=>ae.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Qe())).next(v=>({batchId:d,changes:ub(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let a=Au();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,p=>{const g=function(w,T){return new al(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))});let d=Au();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&Ou(v.mutation,g,Qn.empty(),gt.now()),Qf(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wr(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:bk(a.bundledQuery),readTime:Wr(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.overlays=new bt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ca();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.wt(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=Ca(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ca(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ca(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}wt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tk(n,i));let l=this.kr.get(n);l===void 0&&(l=Qe(),this.kr.set(n,l)),this.kr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.qr=new Wt(an.Qr),this.$r=new Wt(an.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new an(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new an(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new Ie(new pt([])),i=new an(n,e),a=new an(n,e+1),l=[];return this.$r.forEachInRange([i,a],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new pt([])),i=new an(n,e),a=new an(n,e+1);let l=Qe();return this.$r.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new an(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Wt(an.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ek(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Yr=this.Yr.add(new an(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ug:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,a],c=>{const d=this.Zr(c.Hr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(qe);return n.forEach(a=>{const l=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),ae.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ie.isDocumentKey(l)||(l=l.child(""));const c=new an(new Ie(l),0);let d=new Wt(qe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)},c),ae.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(i=>{const a=this.Zr(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){rt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ae.forEach(n.mutations,a=>{const l=new an(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new an(n,0),a=this.Yr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.ni=e,this.docs=function(){return new bt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let i=Qi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Qi();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||mx(dx(v),i)<=0||(a.has(v.key)||Qf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Oe(9500)}ri(e,n){return ae.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new jk(this)}getSize(e){return ae.resolve(this.size)}}class jk extends xk{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)}),ae.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.ii=new ja(n=>Bg(n),Fg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.si=0,this.oi=new Zg,this.targetCount=0,this._i=Qo.ar()}forEachTarget(e,n){return this.ii.forEach((i,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ae.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.hr(n),ae.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.ai={},this.overlays={},this.ui=new Hf(0),this.ci=!1,this.ci=!0,this.li=new Lk,this.referenceDelegate=e(this),this.hi=new Bk(this),this.indexManager=new Sk,this.remoteDocumentCache=function(a){return new zk(a)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new Ak(n),this.Ti=new Pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new Uk(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const a=new Fk(this.ui.next());return this.referenceDelegate.Ii(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,n){return ae.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class Fk extends gx{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ai=new Zg,this.Ri=null}static Vi(e){return new Kg(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,i=>{const a=Ie.fromPath(i);return this.fi(e,a).next(l=>{l||n.removeEntry(a,Pe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ae.or([()=>ae.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rf{constructor(e,n){this.persistence=e,this.gi=new ja(i=>vx(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=Ok(this,n)}static Vi(e,n){return new Rf(e,n)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return ae.forEach(this.gi,(i,a)=>this.Sr(e,i,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,c=>this.Sr(e,c,n).next(d=>{d||(i++,l.removeEntry(c,Pe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}Sr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=a}static Es(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qg(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return dC()?8:yx(wn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ps(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new qk;return this.ws(e,n,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,n,c,d.size)})}).next(()=>l.result)}Ss(e,n,i,a){return i.documentReadCount<this.Vs?(Po()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Po()<=Ke.DEBUG&&Ee("QueryEngine","Query:",Mo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(Po()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ae.resolve())}ps(e,n){if(oT(n))return ae.resolve(null);let i=Xr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Qp(n,null,"F"),i=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Qe(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.bs(n,d);return this.Ds(n,g,c,p.readTime)?this.ps(e,Qp(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,i,a){return oT(n)||a.isEqual(Pe.min())?ae.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(n,l);return this.Ds(n,c,i,a)?ae.resolve(null):(Po()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.vs(e,c,n,fx(a,zu)).next(d=>d))})}bs(e,n){let i=new Wt(ob(e));return n.forEach((a,l)=>{Qf(e,l)&&(i=i.add(l))}),i}Ds(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,n,i){return Po()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.gs.getDocumentsMatchingQuery(e,n,Fs.min(),i)}vs(e,n,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",$k=3e8;class Gk{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new bt(qe),this.Ms=new ja(l=>Bg(l),Fg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Zk(t,e,n,i){return new Gk(t,e,n,i)}async function Nb(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Qe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:d}))})})}function Kk(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const w=g.batch,T=w.keys();let O=ae.resolve();return T.forEach(x=>{O=O.next(()=>v.getEntry(p,x)).next(z=>{const H=g.docVersions.get(x);rt(H!==null,48541),z.version.compareTo(H)<0&&(w.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Qe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function Ob(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Qk(t,e){const n=Me(t),i=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const d=[];e.targetChanges.forEach((v,w)=>{const T=a.get(w);if(!T)return;d.push(n.hi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>n.hi.addMatchingKeys(l,v.addedDocuments,w)));let O=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(pn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),a=a.insert(w,O),function(z,H,Q){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=$k?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(T,O,v)&&d.push(n.hi.updateTargetData(l,O))});let p=Qi(),g=Qe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Yk(l,c,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!i.isEqual(Pe.min())){const v=n.hi.getLastRemoteSnapshotVersion(l).next(w=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(n.Fs=a,l))}function Yk(t,e,n){let i=Qe(),a=Qe();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Qi();return n.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ee(Yg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:c,ks:a}})}function Xk(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Wk(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.hi.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):n.hi.allocateTargetId(i).next(c=>(a=new Ps(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function eg(t,e,n){const i=Me(t),a=i.Fs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!sl(c))throw c;Ee(Yg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function ET(t,e,n){const i=Me(t);let a=Pe.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const w=Me(p),T=w.Ms.get(v);return T!==void 0?ae.resolve(w.Fs.get(T)):w.hi.getTargetData(g,v)}(i,c,Xr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?l:Qe())).next(d=>(Jk(i,Ux(e),d),{documents:d,qs:l})))}function Jk(t,e,n){let i=t.xs.get(e)||Pe.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.xs.set(e,i)}class TT{constructor(){this.activeTargetIds=Hx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.Fo=new TT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new TT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="ConnectivityMonitor";class AT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ee(wT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ee(wT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function tg(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="RestConnection",nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===Tf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=tg(),d=this.Go(e,n.toUriEncodedString());Ee(Rp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,a,l);const{host:g}=new URL(d),v=tl(g);return this.jo(e,d,p,i,v).then(w=>(Ee(Rp,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Bs(Rp,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}Go(e,n){const i=nV[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class sV extends rV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,a,l){const c=tg();return new Promise((d,p)=>{const g=new kA;g.setWithCredentials(!0),g.listenOnce(VA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rf.NO_ERROR:const w=g.getResponseJson();Ee(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case rf.TIMEOUT:Ee(_n,`RPC '${e}' ${c} timed out`),p(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const T=g.getStatus();if(Ee(_n,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const x=O?.error;if(x&&x.status&&x.message){const z=function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN}(x.status);p(new ve(z,x.message))}else p(new ve(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ee(_n,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);Ee(_n,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,i,15)})}P_(e,n,i){const a=tg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LA(),d=MA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Ee(_n,`Creating RPC '${e}' stream ${a}: ${v}`,p);const w=c.createWebChannel(v,p);this.T_(w);let T=!1,O=!1;const x=new iV({Ho:H=>{O?Ee(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(T||(Ee(_n,`Opening RPC '${e}' stream ${a} transport.`),w.open(),T=!0),Ee(_n,`RPC '${e}' stream ${a} sending:`,H),w.send(H))},Yo:()=>w.close()}),z=(H,Q,X)=>{H.listen(Q,ne=>{try{X(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return z(w,wu.EventType.OPEN,()=>{O||(Ee(_n,`RPC '${e}' stream ${a} transport opened.`),x.s_())}),z(w,wu.EventType.CLOSE,()=>{O||(O=!0,Ee(_n,`RPC '${e}' stream ${a} transport closed`),x.__(),this.I_(w))}),z(w,wu.EventType.ERROR,H=>{O||(O=!0,Bs(_n,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),x.__(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),z(w,wu.EventType.MESSAGE,H=>{var Q;if(!O){const X=H.data[0];rt(!!X,16349);const ne=X,fe=ne?.error||((Q=ne[0])===null||Q===void 0?void 0:Q.error);if(fe){Ee(_n,`RPC '${e}' stream ${a} received error:`,fe);const ie=fe.status;let ye=function(I){const k=Bt[I];if(k!==void 0)return _b(k)}(ie),D=fe.message;ye===void 0&&(ye=te.INTERNAL,D="Unknown error status: "+ie+" with message "+fe.message),O=!0,x.__(new ve(ye,D)),w.close()}else Ee(_n,`RPC '${e}' stream ${a} received:`,X),x.a_(X)}}),z(d,PA.STAT_EVENT,H=>{H.stat===Fp.PROXY?Ee(_n,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===Fp.NOPROXY&&Ee(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new uk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-i);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="PersistentStream";class kb{constructor(e,n,i,a,l,c,d,p){this.Fi=e,this.w_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.b_===n&&this.W_(i,a)},i=>{e(()=>{const a=new ve(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{i(()=>this.G_(a))}),this.stream.onMessage(a=>{i(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ee(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Ee(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aV extends kb{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=fk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Wr(c.readTime):Pe.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=Jp(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=Zp(p)?{documents:pk(l,p)}:{query:gk(l,p).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Tb(l,c.resumeToken);const g=Yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=Sf(l,c.snapshotVersion.toTimestamp());const g=Yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=_k(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=Jp(this.serializer),n.removeTarget=e,this.k_(n)}}class oV extends kb{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=mk(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=Jp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>dk(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{}class uV extends lV{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Xp(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(te.UNKNOWN,l.toString())})}Jo(e,n,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,Xp(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(te.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ki(n),this._a=!1):Ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class hV{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Ba(this)&&(Ee(Ma,"Restarting streams for network reachability change."),await async function(p){const g=Me(p);g.Ia.add(4),await ac(g),g.Aa.set("Unknown"),g.Ia.delete(4),await td(g)}(this))})}),this.Aa=new cV(i,a)}}async function td(t){if(Ba(t))for(const e of t.da)await e(!0)}async function ac(t){for(const e of t.da)await e(!1)}function Vb(t,e){const n=Me(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ey(n)?Jg(n):ol(n).x_()&&Wg(n,e))}function Xg(t,e){const n=Me(t),i=ol(n);n.Ta.delete(e),i.x_()&&Pb(n,e),n.Ta.size===0&&(i.x_()?i.B_():Ba(n)&&n.Aa.set("Unknown"))}function Wg(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).H_(e)}function Pb(t,e){t.Ra.$e(e),ol(t).Y_(e)}function Jg(t){t.Ra=new sk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.Aa.aa()}function ey(t){return Ba(t)&&!ol(t).M_()&&t.Ta.size>0}function Ba(t){return Me(t).Ia.size===0}function Mb(t){t.Ra=void 0}async function fV(t){t.Aa.set("Online")}async function dV(t){t.Ta.forEach((e,n)=>{Wg(t,e)})}async function mV(t,e){Mb(t),ey(t)?(t.Aa.la(e),Jg(t)):t.Aa.set("Unknown")}async function pV(t,e,n){if(t.Aa.set("Online"),e instanceof Eb&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ta.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ta.delete(d),a.Ra.removeTarget(d))}(t,e)}catch(i){Ee(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await If(t,i)}else if(e instanceof lf?t.Ra.Ye(e):e instanceof vb?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Pe.min()))try{const i=await Ob(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ta.get(g);v&&l.Ta.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l.Ta.get(p);if(!v)return;l.Ta.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),Pb(l,p);const w=new Ps(v.target,p,g,v.sequenceNumber);Wg(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){Ee(Ma,"Failed to raise snapshot:",i),await If(t,i)}}async function If(t,e,n){if(!sl(e))throw e;t.Ia.add(1),await ac(t),t.Aa.set("Offline"),n||(n=()=>Ob(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(Ma,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await td(t)})}function Lb(t,e){return e().catch(n=>If(t,n,e))}async function nd(t){const e=Me(t),n=Gs(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ug;for(;gV(e);)try{const a=await Xk(e.localStore,i);if(a===null){e.Pa.length===0&&n.B_();break}i=a.batchId,yV(e,a)}catch(a){await If(e,a)}Ub(e)&&zb(e)}function gV(t){return Ba(t)&&t.Pa.length<10}function yV(t,e){t.Pa.push(e);const n=Gs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Ub(t){return Ba(t)&&!Gs(t).M_()&&t.Pa.length>0}function zb(t){Gs(t).start()}async function _V(t){Gs(t).na()}async function vV(t){const e=Gs(t);for(const n of t.Pa)e.X_(n.mutations)}async function EV(t,e,n){const i=t.Pa.shift(),a=Hg.from(i,e,n);await Lb(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await nd(t)}async function TV(t,e){e&&Gs(t).Z_&&await async function(i,a){if(function(c){return rk(c)&&c!==te.ABORTED}(a.code)){const l=i.Pa.shift();Gs(i).N_(),await Lb(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await nd(i)}}(t,e),Ub(t)&&zb(t)}async function ST(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ma,"RemoteStore received new credentials");const i=Ba(n);n.Ia.add(3),await ac(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await td(n)}async function wV(t,e){const n=Me(t);e?(n.Ia.delete(2),await td(n)):e||(n.Ia.add(2),await ac(n),n.Aa.set("Unknown"))}function ol(t){return t.Va||(t.Va=function(n,i,a){const l=Me(n);return l.ia(),new aV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Zo:fV.bind(null,t),e_:dV.bind(null,t),n_:mV.bind(null,t),J_:pV.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),ey(t)?Jg(t):t.Aa.set("Unknown")):(await t.Va.stop(),Mb(t))})),t.Va}function Gs(t){return t.ma||(t.ma=function(n,i,a){const l=Me(n);return l.ia(),new oV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:_V.bind(null,t),n_:TV.bind(null,t),ea:vV.bind(null,t),ta:EV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await nd(t)):(await t.ma.stop(),t.Pa.length>0&&(Ee(Ma,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new ty(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(Ki("AsyncQueue",`${e}: ${t}`),sl(t))return new ve(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Au(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.fa=new bt(Ie.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Yo{constructor(e,n,i,a,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Yo(e,n,qo.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class bV{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const a=Me(n),l=a.queries;a.queries=IT(),l.forEach((c,d)=>{for(const p of d.wa)p.onError(i)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function IT(){return new ja(t=>ab(t),Kf)}async function ry(t,e){const n=Me(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.ba()&&(i=2):(l=new AV,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await n.onListen(a,!0);break;case 1:l.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=ny(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.wa.push(e),e.va(n.onlineState),l.ya&&e.Ca(l.ya)&&sy(n)}async function iy(t,e){const n=Me(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SV(t,e){const n=Me(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.wa)d.Ca(a)&&(i=!0);c.ya=a}}i&&sy(n)}function RV(t,e,n){const i=Me(t),a=i.queries.get(e);if(a)for(const l of a.wa)l.onError(n);i.queries.delete(e)}function sy(t){t.Da.forEach(e=>{e.next()})}var ng,CT;(CT=ng||(ng={})).Fa="default",CT.Cache="cache";class ay{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class IV{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Qe(),this.mutatedKeys=Qe(),this.Xa=ob(e),this.eu=new qo(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new RT,a=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,w)=>{const T=a.get(v),O=Qf(this.query,w)?w:null,x=!!T&&this.mutatedKeys.has(T.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;T&&O?T.data.isEqual(O.data)?x!==z&&(i.track({type:3,doc:O}),H=!0):this.iu(T,O)||(i.track({type:2,doc:O}),H=!0,(p&&this.Xa(O,p)>0||g&&this.Xa(O,g)<0)&&(d=!0)):!T&&O?(i.track({type:0,doc:O}),H=!0):T&&!O&&(i.track({type:1,doc:T}),H=!0,(p||g)&&(d=!0)),H&&(O?(c=c.add(O),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((v,w)=>function(O,x){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:H})}};return z(O)-z(x)}(v.type,w.type)||this.Xa(v.doc,w.doc)),this.su(i),a=a!=null&&a;const d=n&&!a?this.ou():[],p=this.Za.size===0&&this.current&&!a?1:0,g=p!==this.Ya;return this.Ya=p,c.length!==0||g?{snapshot:new Yo(this.query,e.eu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new RT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Qe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new Bb(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new jb(i))}),n}uu(e){this.Ha=e.qs,this.Za=Qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const oy="SyncEngine";class CV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class DV{constructor(e){this.key=e,this.lu=!1}}class NV{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new ja(d=>ab(d),Kf),this.Tu=new Map,this.Iu=new Set,this.du=new bt(Ie.comparator),this.Eu=new Map,this.Au=new Zg,this.Ru={},this.Vu=new Map,this.mu=Qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function OV(t,e,n=!0){const i=Zb(t);let a;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await Fb(i,e,n,!0),a}async function xV(t,e){const n=Zb(t);await Fb(n,e,!0,!1)}async function Fb(t,e,n,i){const a=await Wk(t.localStore,Xr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await kV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Vb(t.remoteStore,a),d}async function kV(t,e,n,i,a){t.gu=(w,T,O)=>async function(z,H,Q,X){let ne=H.view.nu(Q);ne.Ds&&(ne=await ET(z.localStore,H.query,!1).then(({documents:D})=>H.view.nu(D,ne)));const fe=X&&X.targetChanges.get(H.targetId),ie=X&&X.targetMismatches.get(H.targetId)!=null,ye=H.view.applyChanges(ne,z.isPrimaryClient,fe,ie);return NT(z,H.targetId,ye._u),ye.snapshot}(t,w,T,O);const l=await ET(t.localStore,e,!0),c=new IV(e,l.qs),d=c.nu(l.documents),p=sc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,p);NT(t,n,g._u);const v=new CV(e,n,c);return t.Pu.set(e,v),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),g.snapshot}async function VV(t,e,n){const i=Me(t),a=i.Pu.get(e),l=i.Tu.get(a.targetId);if(l.length>1)return i.Tu.set(a.targetId,l.filter(c=>!Kf(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await eg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Xg(i.remoteStore,a.targetId),rg(i,a.targetId)}).catch(il)):(rg(i,a.targetId),await eg(i.localStore,a.targetId,!0))}async function PV(t,e){const n=Me(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xg(n.remoteStore,i.targetId))}async function MV(t,e,n){const i=qV(t);try{const a=await function(c,d){const p=Me(c),g=gt.now(),v=d.reduce((O,x)=>O.add(x.key),Qe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let x=Qi(),z=Qe();return p.Os.getEntries(O,v).next(H=>{x=H,x.forEach((Q,X)=>{X.isValidDocument()||(z=z.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,x)).next(H=>{w=H;const Q=[];for(const X of d){const ne=Wx(X,w.get(X.key).overlayedDocument);ne!=null&&Q.push(new Qs(X.key,ne,WA(ne.value.mapValue),Nn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Q,d)}).next(H=>{T=H;const Q=H.applyToLocalDocumentSet(w,z);return p.documentOverlayCache.saveOverlays(O,H.batchId,Q)})}).then(()=>({batchId:T.batchId,changes:ub(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Ru[c.currentUser.toKey()];g||(g=new bt(qe)),g=g.insert(d,p),c.Ru[c.currentUser.toKey()]=g}(i,a.batchId,n),await oc(i,a.changes),await nd(i.remoteStore)}catch(a){const l=ny(a,"Failed to persist write");n.reject(l)}}async function qb(t,e){const n=Me(t);try{const i=await Qk(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Eu.get(l);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?rt(c.lu,14607):a.removedDocuments.size>0&&(rt(c.lu,42227),c.lu=!1))}),await oc(n,i,e)}catch(i){await il(i)}}function DT(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Me(c);p.onlineState=d;let g=!1;p.queries.forEach((v,w)=>{for(const T of w.wa)T.va(d)&&(g=!0)}),g&&sy(p)}(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function LV(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new bt(Ie.comparator);c=c.insert(l,En.newNoDocument(l,Pe.min()));const d=Qe().add(l),p=new Jf(Pe.min(),new Map,new bt(qe),c,d);await qb(i,p),i.du=i.du.remove(l),i.Eu.delete(e),ly(i)}else await eg(i.localStore,e,!1).then(()=>rg(i,e,n)).catch(il)}async function UV(t,e){const n=Me(t),i=e.batch.batchId;try{const a=await Kk(n.localStore,e);$b(n,i,null),Hb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await oc(n,a)}catch(a){await il(a)}}async function zV(t,e,n){const i=Me(t);try{const a=await function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(rt(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);$b(i,e,n),Hb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await oc(i,a)}catch(a){await il(a)}}function Hb(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function $b(t,e,n){const i=Me(t);let a=i.Ru[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||Gb(t,i)})}function Gb(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xg(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),ly(t))}function NT(t,e,n){for(const i of n)i instanceof jb?(t.Au.addReference(i.key,e),jV(t,i)):i instanceof Bb?(Ee(oy,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||Gb(t,i.key)):Oe(19791,{yu:i})}function jV(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(Ee(oy,"New document in limbo: "+n),t.Iu.add(i),ly(t))}function ly(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ie(pt.fromString(e)),i=t.mu.next();t.Eu.set(i,new DV(n)),t.du=t.du.insert(n,i),Vb(t.remoteStore,new Ps(Xr(Zf(n.path)),i,"TargetPurposeLimboResolution",Hf.ue))}}async function oc(t,e,n){const i=Me(t),a=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,p)=>{c.push(i.gu(p,e,n).then(g=>{var v;if((g||n)&&i.isPrimaryClient){const w=g?!g.fromCache:(v=n?.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){a.push(g);const w=Qg.Es(p.targetId,g);l.push(w)}}))}),await Promise.all(c),i.hu.J_(a),await async function(p,g){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ae.forEach(g,T=>ae.forEach(T.Is,O=>v.persistence.referenceDelegate.addReference(w,T.targetId,O)).next(()=>ae.forEach(T.ds,O=>v.persistence.referenceDelegate.removeReference(w,T.targetId,O)))))}catch(w){if(!sl(w))throw w;Ee(Yg,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const O=v.Fs.get(T),x=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(x);v.Fs=v.Fs.insert(T,z)}}}(i.localStore,l))}async function BV(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){Ee(oy,"User change. New user:",e.toKey());const i=await Nb(n.localStore,e);n.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ve(te.CANCELLED,c))})}),l.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await oc(n,i.Bs)}}function FV(t,e){const n=Me(t),i=n.Eu.get(e);if(i&&i.lu)return Qe().add(i.key);{let a=Qe();const l=n.Tu.get(e);if(!l)return a;for(const c of l){const d=n.Pu.get(c);a=a.unionWith(d.view.tu)}return a}}function Zb(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LV.bind(null,e),e.hu.J_=SV.bind(null,e.eventManager),e.hu.pu=RV.bind(null,e.eventManager),e}function qV(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zV.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Zk(this.persistence,new Hk,e.initialUser,this.serializer)}Du(e){return new Db(Kg.Vi,this.serializer)}bu(e){return new eV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class HV extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){rt(this.persistence.referenceDelegate instanceof Rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Dk(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Db(i=>Rf.Vi(i,n),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),await wV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bV}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),i=function(l){return new sV(l)}(e.databaseInfo);return function(l,c,d,p){return new uV(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new hV(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>DT(this.syncEngine,n,0),function(){return AT.C()?new AT:new tV}())}createSyncEngine(e,n){return function(a,l,c,d,p,g,v){const w=new NV(a,l,c,d,p,g);return v&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Me(a);Ee(Ma,"RemoteStore shutting down."),l.Ia.add(5),await ac(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ig.provider={build:()=>new ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class $V{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Ee(Zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ee(Zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ny(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Nb(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>{Bs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Ee("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Bs("Terminating Firestore due to IndexedDb database deletion failed",a)})}),t._offlineComponents=e}async function OT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GV(t);Ee(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ST(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>ST(e.remoteStore,a)),t._onlineComponents=e}async function GV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Zs,"Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new Cf)}}else Ee(Zs,"Using default OfflineComponentProvider"),await Cp(t,new HV(void 0));return t._offlineComponents}async function Kb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Zs,"Using user provided OnlineComponentProvider"),await OT(t,t._uninitializedComponentsProvider._online)):(Ee(Zs,"Using default OnlineComponentProvider"),await OT(t,new ig))),t._onlineComponents}function ZV(t){return Kb(t).then(e=>e.syncEngine)}async function Df(t){const e=await Kb(t),n=e.eventManager;return n.onListen=OV.bind(null,e.syncEngine),n.onUnlisten=VV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PV.bind(null,e.syncEngine),n}function KV(t,e,n={}){const i=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new uy({next:T=>{v.Ou(),c.enqueueAndForget(()=>iy(l,w));const O=T.docs.has(d);!O&&T.fromCache?g.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&p&&p.source==="server"?g.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ay(Zf(d.path),v,{includeMetadataChanges:!0,ka:!0});return ry(l,w)}(await Df(t),t.asyncQueue,e,n,i)),i.promise}function QV(t,e,n={}){const i=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new uy({next:T=>{v.Ou(),c.enqueueAndForget(()=>iy(l,w)),T.fromCache&&p.source==="server"?g.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ay(d,v,{includeMetadataChanges:!0,ka:!0});return ry(l,w)}(await Df(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firestore.googleapis.com",kT=!0;class VT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yb,this.ssl=kT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ik)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nx;switch(i.type){case"firstParty":return new ax(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=xT.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),xT.delete(n),i.terminate())}(this),Promise.resolve()}}function YV(t,e,n,i={}){var a;t=Dn(t,rd);const l=tl(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),p=`${e}:${n}`;l&&(qw(`https://${p}`),Hw("Firestore",!0)),c.host!==Yb&&c.host!==p&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!xa(g,d)&&(t._setSettings(g),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=vn.MOCK_USER;else{v=iC(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new vn(T)}t._authCredentials=new rx(new zA(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Dt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(rc(n,Dt._jsonSchema))return new Dt(e,i||null,new Ie(pt.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ht("string",Dt._jsonSchemaVersion),referencePath:Ht("string")};class js extends Ys{constructor(e,n,i){super(e,n,Zf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Ie(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function T3(t,e,...n){if(t=At(t),BA("collection","path",e),t instanceof rd){const i=pt.fromString(e,...n);return ZE(i),new js(t,null,i)}{if(!(t instanceof Dt||t instanceof js))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pt.fromString(e,...n));return ZE(i),new js(t.firestore,null,i)}}function id(t,e,...n){if(t=At(t),arguments.length===1&&(e=Lg.newId()),BA("doc","path",e),t instanceof rd){const i=pt.fromString(e,...n);return GE(i),new Dt(t,null,new Ie(i))}{if(!(t instanceof Dt||t instanceof js))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pt.fromString(e,...n));return GE(i),new Dt(t.firestore,t instanceof js?t.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xb(this,"async_queue_retry"),this.oc=()=>{const i=Ip();i&&Ee(PT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new qi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sl(e))throw e;Ee(PT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Ki("INTERNAL UNHANDLED ERROR: ",LT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=ty.createAndSchedule(this,e,n,i,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Oe(47125,{hc:LT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function LT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class ni extends rd{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new MT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function XV(t,e){const n=typeof t=="object"?t:Kw(),i=typeof t=="string"?t:Tf,a=bg(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=nC("firestore");l&&YV(a,...l)}return a}function lc(t){if(t._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WV(t),t._firestoreClient}function WV(t){var e,n,i;const a=t._freezeSettings(),l=function(d,p,g,v){return new wx(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Qb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new $V(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(pn.fromBase64String(e))}catch(n){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:Ht("string",hr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(rc(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Ht("string",Jr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new ve(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ht("string",ei._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^__.*__$/;class eP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class Xb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:t})}}class cy{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Wb(this.Ec)&&JV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class tP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ed(e)}Dc(e,n,i,a=!1){return new cy({Ec:e,methodName:n,bc:i,path:mn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cc(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new tP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hy(t,e,n,i,a,l={}){const c=t.Dc(l.merge||l.mergeFields?2:0,e,n,a);dy("Data must be an object, but it was:",c,i);const d=tS(i,c);let p,g;if(l.merge)p=new Qn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=sg(e,w,n);if(!c.contains(T))throw new ve(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rS(v,T)||v.push(T)}p=new Qn(v),g=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=c.fieldTransforms;return new eP(new zn(d),p,g)}class ad extends sd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}class fy extends sd{_toFieldTransform(e){return new Kx(e.path,new Hu)}isEqual(e){return e instanceof fy}}function Jb(t,e,n,i){const a=t.Dc(1,e,n);dy("Data must be an object, but it was:",a,i);const l=[],c=zn.empty();Ks(i,(p,g)=>{const v=my(e,p,n);g=At(g);const w=a.gc(v);if(g instanceof ad)l.push(v);else{const T=hc(g,w);T!=null&&(l.push(v),c.set(v,T))}});const d=new Qn(l);return new Xb(c,d,a.fieldTransforms)}function eS(t,e,n,i,a,l){const c=t.Dc(1,e,n),d=[sg(e,i,n)],p=[a];if(l.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(sg(e,l[T])),p.push(l[T+1]);const g=[],v=zn.empty();for(let T=d.length-1;T>=0;--T)if(!rS(g,d[T])){const O=d[T];let x=p[T];x=At(x);const z=c.gc(O);if(x instanceof ad)g.push(O);else{const H=hc(x,z);H!=null&&(g.push(O),v.set(O,H))}}const w=new Qn(g);return new Xb(v,w,c.fieldTransforms)}function nP(t,e,n,i=!1){return hc(n,t.Dc(i?4:3,e))}function hc(t,e){if(nS(t=At(t)))return dy("Unsupported field value:",e,t),tS(t,e);if(t instanceof sd)return function(i,a){if(!Wb(a.Ec))throw a.wc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=hc(d,a.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=At(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $x(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=gt.fromDate(i);return{timestampValue:Sf(a.serializer,l)}}if(i instanceof gt){const l=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sf(a.serializer,l)}}if(i instanceof Jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hr)return{bytesValue:Tb(a.serializer,i._byteString)};if(i instanceof Dt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ei)return function(c,d){return{mapValue:{fields:{[YA]:{stringValue:XA},[wf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return qg(d.serializer,g)})}}}}}}(i,a);throw a.wc(`Unsupported field value: ${qf(i)}`)}(t,e)}function tS(t,e){const n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(i,a)=>{const l=hc(a,e.Vc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function nS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Jr||t instanceof hr||t instanceof Dt||t instanceof sd||t instanceof ei)}function dy(t,e,n){if(!nS(n)||!FA(n)){const i=qf(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function sg(t,e,n){if((e=At(e))instanceof uc)return e._internalPath;if(typeof e=="string")return my(t,e);throw Nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const rP=new RegExp("[~\\*/\\[\\]]");function my(t,e,n){if(e.search(rP)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uc(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new ve(te.INVALID_ARGUMENT,d+t+p)}function rS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(od("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iP extends iS{data(){return super.data()}}function od(t,e){return typeof e=="string"?my(t,e):e instanceof uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class aS extends py{}function w3(t,e,...n){let i=[];e instanceof py&&i.push(e),i=i.concat(n),function(l){const c=l.filter(p=>p instanceof gy).length,d=l.filter(p=>p instanceof ld).length;if(c>1||c>0&&d>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class ld extends aS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ld(e,n,i)}_apply(e){const n=this._parse(e);return oS(e._query,n),new Ys(e.firestore,e.converter,Kp(e._query,n))}_parse(e){const n=cc(e.firestore);return function(l,c,d,p,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jT(w,v);const x=[];for(const z of w)x.push(zT(p,l,z));T={arrayValue:{values:x}}}else T=zT(p,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jT(w,v),T=nP(d,c,w,v==="in"||v==="not-in");return qt.create(g,v,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function A3(t,e,n){const i=e,a=od("where",t);return ld._create(a,i,n)}class gy extends py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gy(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)oS(c,p),c=Kp(c,p)}(e._query,n),new Ys(e.firestore,e.converter,Kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yy extends aS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yy(e,n)}_apply(e){const n=function(a,l,c){if(a.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(l,c)}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new al(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function b3(t,e="asc"){const n=e,i=od("orderBy",t);return yy._create(i,n)}function zT(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&n.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(pt.fromString(n));if(!Ie.isDocumentKey(i))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tT(t,new Ie(i))}if(n instanceof Dt)return tT(t,n._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(n)}.`)}function jT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sP{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ks(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[wf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Vt(c.doubleValue));return new ei(l)}convertGeoPoint(e){return new Jr(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Gf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=qs(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=pt.fromString(e);rt(Ib(i),9688,{name:e});const a=new Bu(i.get(1),i.get(3)),l=new Ie(i.popFirst(5));return a.isEqual(n)||Ki(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends iS{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(od("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Ht("string",Na._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class uf extends Na{data(e={}){return super.data(e)}}class Oa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new uf(this._firestore,this._userDataWriter,i.key,i,new Su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:aP(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){t=Dn(t,Dt);const e=Dn(t.firestore,ni);return KV(lc(e),t._key).then(n=>uS(e,t,n))}Oa._jsonSchemaVersion="firestore/querySnapshot/1.0",Oa._jsonSchema={type:Ht("string",Oa._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class vy extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function S3(t){t=Dn(t,Ys);const e=Dn(t.firestore,ni),n=lc(e),i=new vy(e);return sS(t._query),QV(n,t._query).then(a=>new Oa(e,i,t,a))}function ag(t,e,n){t=Dn(t,Dt);const i=Dn(t.firestore,ni),a=_y(t.converter,e,n);return fc(i,[hy(cc(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Nn.none())])}function R3(t,e,n,...i){t=Dn(t,Dt);const a=Dn(t.firestore,ni),l=cc(a);let c;return c=typeof(e=At(e))=="string"||e instanceof uc?eS(l,"updateDoc",t._key,e,n,i):Jb(l,"updateDoc",t._key,e),fc(a,[c.toMutation(t._key,Nn.exists(!0))])}function I3(t){return fc(Dn(t.firestore,ni),[new Wf(t._key,Nn.none())])}function C3(t,e){const n=Dn(t.firestore,ni),i=id(t),a=_y(t.converter,e);return fc(n,[hy(cc(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Nn.exists(!1))]).then(()=>i)}function D3(t,...e){var n,i,a;t=At(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||UT(e[c])||(l=e[c++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(UT(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(a=w.complete)===null||a===void 0?void 0:a.bind(w)}let p,g,v;if(t instanceof Dt)g=Dn(t.firestore,ni),v=Zf(t._key.path),p={next:w=>{e[c]&&e[c](uS(g,t,w))},error:e[c+1],complete:e[c+2]};else{const w=Dn(t,Ys);g=Dn(w.firestore,ni),v=w._query;const T=new vy(g);p={next:O=>{e[c]&&e[c](new Oa(g,T,w,O))},error:e[c+1],complete:e[c+2]},sS(t._query)}return function(T,O,x,z){const H=new uy(z),Q=new ay(O,H,x);return T.asyncQueue.enqueueAndForget(async()=>ry(await Df(T),Q)),()=>{H.Ou(),T.asyncQueue.enqueueAndForget(async()=>iy(await Df(T),Q))}}(lc(g),v,d,p)}function fc(t,e){return function(i,a){const l=new qi;return i.asyncQueue.enqueueAndForget(async()=>MV(await ZV(i),a,l)),l.promise}(lc(t),e)}function uS(t,e,n){const i=n.docs.get(e._key),a=new vy(t);return new Na(t,a,e._key,i,new Su(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cc(e)}set(e,n,i){this._verifyNotCommitted();const a=Dp(e,this._firestore),l=_y(a.converter,n,i),c=hy(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Nn.none())),this}update(e,n,i,...a){this._verifyNotCommitted();const l=Dp(e,this._firestore);let c;return c=typeof(n=At(n))=="string"||n instanceof uc?eS(this._dataReader,"WriteBatch.update",l._key,n,i,a):Jb(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Dp(e,this._firestore);return this._mutations=this._mutations.concat(new Wf(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dp(t,e){if((t=At(t)).firestore!==e)throw new ve(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function N3(){return new fy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){return lc(t=Dn(t,ni)),new oP(t,e=>fc(t,e))}(function(e,n=!0){(function(a){rl=a})(nl),Ho(new ka("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ni(new ix(i.getProvider("auth-internal")),new ox(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Us(BE,FE,e),Us(BE,FE,"esm2017")})();const lP={apiKey:"AIzaSyD25f2pdjhon-y7KY3FZciyir3sRzvE2lQ",authDomain:"job-tracker-ad50c.firebaseapp.com",projectId:"job-tracker-ad50c",storageBucket:"job-tracker-ad50c.firebasestorage.app",messagingSenderId:"1093438434878",appId:"1:1093438434878:web:a28e6917d7ccc3e5176b6f",measurementId:"G-7DD14NXZH2"},cS=Zw(lP),Tn=WO(cS),Ey=XV(cS),uP=["Applied","Phone Call","1st Interview","2nd Interview","Offer","Rejected after Applying","Rejected after Phone Call","Rejected after 1st Interview","Rejected after 2nd Interview","Ghosted"],cP=["Seek Estimate","Picked","Actual"],Cn={HOME:"/",LOGIN:"/login",APPLICATIONS:"/applications",STATS:"/stats",TRACKING:"/tracking",SETTINGS:"/settings"},Ty={USERS:"users",APPLICATIONS:"applications",PREFERENCES:"preferences"},hP=new zi,fP=async(t,e)=>PN(Tn,t,e),dP=async(t,e)=>{const n=await VN(Tn,t,e);return await wy(n.user),n},mP=async()=>{const t=await oO(Tn,hP);return await wy(t.user),t},pP=async()=>{const t=await IN(Tn);return await wy(t.user),t},gP=async(t,e)=>{if(!Tn.currentUser||!Tn.currentUser.isAnonymous)throw new Error("No anonymous user to link");const n=za.credential(t,e),i=await xN(Tn.currentUser,n);return await fS(i.user),i},yP=async t=>kN(Tn,t),hS=async()=>BN(Tn),_P=async(t,e)=>{if(!Tn.currentUser)throw new Error("No user logged in");await LN(Tn.currentUser,{displayName:t||Tn.currentUser.displayName,photoURL:e||Tn.currentUser.photoURL}),await fS(Tn.currentUser)},wy=async t=>{const e=id(Ey,Ty.USERS,t.uid);if((await lS(e)).exists())await ag(e,{lastLogin:new Date},{merge:!0});else{const i={id:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,isAnonymous:t.isAnonymous,createdAt:new Date,lastLogin:new Date};await ag(e,i)}},fS=async t=>{const e=id(Ey,Ty.USERS,t.uid);await ag(e,{email:t.email,displayName:t.displayName,photoURL:t.photoURL,isAnonymous:t.isAnonymous,lastLogin:new Date},{merge:!0})},dS=t=>jN(Tn,t);let og;const BT=()=>{clearTimeout(og),og=setTimeout(()=>{Tn.currentUser&&hS()},30*60*1e3)};typeof window<"u"&&(["mousedown","keydown","scroll","touchstart"].forEach(t=>{window.addEventListener(t,BT)}),dS(t=>{t?BT():clearTimeout(og)}));const mS=W.createContext(null),Ay=()=>{const t=W.useContext(mS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},vP=({children:t})=>{const[e,n]=W.useState(null),[i,a]=W.useState(null),[l,c]=W.useState(!0),[d,p]=W.useState(null),g=async ie=>{try{const ye=await lS(id(Ey,Ty.USERS,ie.uid));ye.exists()&&a({id:ye.id,...ye.data()})}catch(ye){console.error("Error fetching user data:",ye)}};W.useEffect(()=>dS(async ye=>{n(ye),ye?await g(ye):a(null),c(!1)}),[]);const v=ie=>{const ye=ie.code?EP(ie.code):ie.message;throw p(ye),ie},fe={user:e,appUser:i,loading:l,error:d,signIn:async(ie,ye)=>{try{p(null),await fP(ie,ye)}catch(D){v(D)}},signUp:async(ie,ye)=>{try{p(null),await dP(ie,ye)}catch(D){v(D)}},signInGoogle:async()=>{try{p(null),await mP()}catch(ie){v(ie)}},signInGuest:async()=>{try{p(null),await pP()}catch(ie){v(ie)}},linkAccount:async(ie,ye)=>{try{p(null),await gP(ie,ye)}catch(D){v(D)}},resetPassword:async ie=>{try{p(null),await yP(ie)}catch(ye){v(ye)}},signOut:async()=>{try{p(null),await hS()}catch(ie){v(ie)}},updateProfile:async(ie,ye)=>{try{p(null),await _P(ie,ye),e&&await g(e)}catch(D){v(D)}},clearError:()=>p(null)};return F.jsx(mS.Provider,{value:fe,children:t})},EP=t=>{switch(t){case"auth/email-already-in-use":return"This email is already registered. Please sign in instead.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/operation-not-allowed":return"This sign-in method is not enabled. Please contact support.";case"auth/weak-password":return"Password is too weak. Please use at least 6 characters.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/user-not-found":return"No account found with this email. Please sign up first.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/invalid-credential":return"Invalid email or password. Please try again.";case"auth/popup-closed-by-user":return"Sign-in cancelled. Please try again.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred. Please try again."}};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),FT=t=>{const e=wP(t);return e.charAt(0).toUpperCase()+e.slice(1)},pS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),AP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>W.createElement("svg",{ref:p,...bP,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:pS("lucide",a),...!l&&!AP(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>W.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(t,e)=>{const n=W.forwardRef(({className:i,...a},l)=>W.createElement(SP,{ref:l,iconNode:e,className:pS(`lucide-${TP(FT(t))}`,`lucide-${t}`,i),...a}));return n.displayName=FT(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IP=Yn("chart-column",RP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],DP=Yn("circle-alert",CP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OP=Yn("eye-off",NP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kP=Yn("eye",xP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qT=Yn("lock",VP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MP=Yn("log-out",PP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UP=Yn("mail",LP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],jP=Yn("menu",zP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FP=Yn("refresh-cw",BP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HP=Yn("settings",qP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GP=Yn("triangle-alert",$P);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KP=Yn("user",ZP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YP=Yn("x",QP);class XP extends W.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error Boundary caught an error:",e,n),this.setState({errorInfo:n})}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:F.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:[F.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:F.jsx(GP,{className:"w-6 h-6 text-red-600"})}),F.jsx("h1",{className:"text-xl font-semibold text-center text-gray-900 mb-2",children:"Something went wrong"}),F.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,F.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[F.jsxs("button",{onClick:this.handleRetry,className:"btn btn-primary flex items-center justify-center flex-1",children:[F.jsx(FP,{className:"w-4 h-4 mr-2"}),"Try Again"]}),F.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-secondary flex-1",children:"Refresh Page"})]}),F.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"If this problem persists, please contact support."})]})}):this.props.children}}const gS=({size:t="md",className:e=""})=>{const n={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"};return F.jsx("div",{className:`flex items-center justify-center ${e}`,children:F.jsx("div",{className:`${n[t]} border-primary-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":"Loading",children:F.jsx("span",{className:"sr-only",children:"Loading..."})})})},$h=({children:t,redirectTo:e=Cn.LOGIN})=>{const{user:n,loading:i}=Ay(),a=ii();return i?F.jsx("div",{className:"min-h-screen flex items-center justify-center",children:F.jsx(gS,{size:"lg"})}):n?F.jsx(F.Fragment,{children:t}):F.jsx(xp,{to:e,state:{from:a},replace:!0})};var dc=t=>t.type==="checkbox",Da=t=>t instanceof Date,In=t=>t==null;const yS=t=>typeof t=="object";var Pt=t=>!In(t)&&!Array.isArray(t)&&yS(t)&&!Da(t),WP=t=>Pt(t)&&t.target?dc(t.target)?t.target.checked:t.target.value:t,JP=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,e4=(t,e)=>t.has(JP(e)),t4=t=>{const e=t.constructor&&t.constructor.prototype;return Pt(e)&&e.hasOwnProperty("isPrototypeOf")},by=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(by&&(t instanceof Blob||i))&&(n||Pt(t)))if(e=n?[]:{},!n&&!t4(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=sn(t[a]));else return t;return e}var ud=t=>/^\w*$/.test(t),Ft=t=>t===void 0,Sy=t=>Array.isArray(t)?t.filter(Boolean):[],Ry=t=>Sy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,n)=>{if(!e||!Pt(t))return n;const i=(ud(e)?[e]:Ry(e)).reduce((a,l)=>In(a)?a:a[l],t);return Ft(i)||i===t?Ft(t[e])?n:t[e]:i},Zr=t=>typeof t=="boolean",dt=(t,e,n)=>{let i=-1;const a=ud(e)?[e]:Ry(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=n;if(i!==c){const g=t[d];p=Pt(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}};const HT={BLUR:"blur",FOCUS_OUT:"focusout"},Tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},n4=Xt.createContext(null);n4.displayName="HookFormContext";var r4=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Tr.all&&(e._proxyFormState[c]=!i||Tr.all),t[c]}});return a};const i4=typeof window<"u"?W.useLayoutEffect:W.useEffect;var Kr=t=>typeof t=="string",s4=(t,e,n,i,a)=>Kr(t)?(i&&e.watch.add(t),we(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),we(n,l))):(i&&(e.watchAll=!0),n),Iy=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},xu=t=>Array.isArray(t)?t:[t],$T=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},lg=t=>In(t)||!yS(t);function Vs(t,e,n=new WeakSet){if(lg(t)||lg(e))return t===e;if(Da(t)&&Da(e))return t.getTime()===e.getTime();const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of i){const c=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Da(c)&&Da(d)||Pt(c)&&Pt(d)||Array.isArray(c)&&Array.isArray(d)?!Vs(c,d,n):c!==d)return!1}}return!0}var Mn=t=>Pt(t)&&!Object.keys(t).length,Cy=t=>t.type==="file",wr=t=>typeof t=="function",Of=t=>{if(!by)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_S=t=>t.type==="select-multiple",Dy=t=>t.type==="radio",a4=t=>Dy(t)||dc(t),Np=t=>Of(t)&&t.isConnected;function o4(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Ft(t)?i++:t[e[i++]];return t}function l4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function jt(t,e){const n=Array.isArray(e)?e:ud(e)?[e]:Ry(e),i=n.length===1?t:o4(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Pt(i)&&Mn(i)||Array.isArray(i)&&l4(i))&&jt(t,n.slice(0,-1)),t}var vS=t=>{for(const e in t)if(wr(t[e]))return!0;return!1};function xf(t,e={}){const n=Array.isArray(t);if(Pt(t)||n)for(const i in t)Array.isArray(t[i])||Pt(t[i])&&!vS(t[i])?(e[i]=Array.isArray(t[i])?[]:{},xf(t[i],e[i])):In(t[i])||(e[i]=!0);return e}function ES(t,e,n){const i=Array.isArray(t);if(Pt(t)||i)for(const a in t)Array.isArray(t[a])||Pt(t[a])&&!vS(t[a])?Ft(e)||lg(n[a])?n[a]=Array.isArray(t[a])?xf(t[a],[]):{...xf(t[a])}:ES(t[a],In(e)?{}:e[a],n[a]):n[a]=!Vs(t[a],e[a]);return n}var yu=(t,e)=>ES(t,e,xf(e));const GT={value:!1,isValid:!1},ZT={value:!0,isValid:!0};var TS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?ZT:{value:t[0].value,isValid:!0}:ZT:GT}return GT},wS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Ft(t)?t:e?t===""?NaN:t&&+t:n&&Kr(t)?new Date(t):i?i(t):t;const KT={isValid:!1,value:null};var AS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,KT):KT;function QT(t){const e=t.ref;return Cy(e)?e.files:Dy(e)?AS(t.refs).value:_S(e)?[...e.selectedOptions].map(({value:n})=>n):dc(e)?TS(t.refs).value:wS(Ft(e.value)?t.ref.value:e.value,t)}var u4=(t,e,n,i)=>{const a={};for(const l of t){const c=we(e,l);c&&dt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},kf=t=>t instanceof RegExp,_u=t=>Ft(t)?t:kf(t)?t.source:Pt(t)?kf(t.value)?t.value.source:t.value:t,YT=t=>({isOnSubmit:!t||t===Tr.onSubmit,isOnBlur:t===Tr.onBlur,isOnChange:t===Tr.onChange,isOnAll:t===Tr.all,isOnTouch:t===Tr.onTouched});const XT="AsyncFunction";var c4=t=>!!t&&!!t.validate&&!!(wr(t.validate)&&t.validate.constructor.name===XT||Pt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XT)),h4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),WT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const ku=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=we(t,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(ku(d,e))break}else if(Pt(d)&&ku(d,e))break}}};function JT(t,e,n){const i=we(t,n);if(i||ud(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=we(e,l),d=we(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};a.pop()}return{name:n}}var f4=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Mn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||Tr.all))},d4=(t,e,n)=>!t||!e||t===e||xu(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),m4=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,p4=(t,e)=>!Sy(we(t,e)).length&&jt(t,e),g4=(t,e,n)=>{const i=xu(we(t,n));return dt(i,"root",e[n]),dt(t,n,i),t},cf=t=>Kr(t);function ew(t,e,n="validate"){if(cf(t)||Array.isArray(t)&&t.every(cf)||Zr(t)&&!t)return{type:n,message:cf(t)?t:"",ref:e}}var Vo=t=>Pt(t)&&!kf(t)?t:{value:t,message:""},tw=async(t,e,n,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:v,min:w,max:T,pattern:O,validate:x,name:z,valueAsNumber:H,mount:Q}=t._f,X=we(n,z);if(!Q||e.has(z))return{};const ne=d?d[0]:c,fe=P=>{a&&ne.reportValidity&&(ne.setCustomValidity(Zr(P)?"":P||""),ne.reportValidity())},ie={},ye=Dy(c),D=dc(c),S=ye||D,I=(H||Cy(c))&&Ft(c.value)&&Ft(X)||Of(c)&&c.value===""||X===""||Array.isArray(X)&&!X.length,k=Iy.bind(null,z,i,ie),L=(P,R,Le,je=Ui.maxLength,K=Ui.minLength)=>{const ce=P?R:Le;ie[z]={type:P?je:K,message:ce,ref:c,...k(P?je:K,ce)}};if(l?!Array.isArray(X)||!X.length:p&&(!S&&(I||In(X))||Zr(X)&&!X||D&&!TS(d).isValid||ye&&!AS(d).isValid)){const{value:P,message:R}=cf(p)?{value:!!p,message:p}:Vo(p);if(P&&(ie[z]={type:Ui.required,message:R,ref:ne,...k(Ui.required,R)},!i))return fe(R),ie}if(!I&&(!In(w)||!In(T))){let P,R;const Le=Vo(T),je=Vo(w);if(!In(X)&&!isNaN(X)){const K=c.valueAsNumber||X&&+X;In(Le.value)||(P=K>Le.value),In(je.value)||(R=K<je.value)}else{const K=c.valueAsDate||new Date(X),ce=V=>new Date(new Date().toDateString()+" "+V),Ae=c.type=="time",He=c.type=="week";Kr(Le.value)&&X&&(P=Ae?ce(X)>ce(Le.value):He?X>Le.value:K>new Date(Le.value)),Kr(je.value)&&X&&(R=Ae?ce(X)<ce(je.value):He?X<je.value:K<new Date(je.value))}if((P||R)&&(L(!!P,Le.message,je.message,Ui.max,Ui.min),!i))return fe(ie[z].message),ie}if((g||v)&&!I&&(Kr(X)||l&&Array.isArray(X))){const P=Vo(g),R=Vo(v),Le=!In(P.value)&&X.length>+P.value,je=!In(R.value)&&X.length<+R.value;if((Le||je)&&(L(Le,P.message,R.message),!i))return fe(ie[z].message),ie}if(O&&!I&&Kr(X)){const{value:P,message:R}=Vo(O);if(kf(P)&&!X.match(P)&&(ie[z]={type:Ui.pattern,message:R,ref:c,...k(Ui.pattern,R)},!i))return fe(R),ie}if(x){if(wr(x)){const P=await x(X,n),R=ew(P,ne);if(R&&(ie[z]={...R,...k(Ui.validate,R.message)},!i))return fe(R.message),ie}else if(Pt(x)){let P={};for(const R in x){if(!Mn(P)&&!i)break;const Le=ew(await x[R](X,n),ne,R);Le&&(P={...Le,...k(R,Le.message)},fe(Le.message),i&&(ie[z]=P))}if(!Mn(P)&&(ie[z]={ref:ne,...P},!i))return ie}}return fe(!0),ie};const y4={mode:Tr.onSubmit,reValidateMode:Tr.onChange,shouldFocusError:!0};function _4(t={}){let e={...y4,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Pt(e.defaultValues)||Pt(e.values)?sn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:sn(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...v};const T={array:$T(),state:$T()},O=e.criteriaMode===Tr.all,x=N=>$=>{clearTimeout(g),g=setTimeout(N,$)},z=async N=>{if(!e.disabled&&(v.isValid||w.isValid||N)){const $=e.resolver?Mn((await D()).errors):await I(i,!0);$!==n.isValid&&T.state.next({isValid:$})}},H=(N,$)=>{!e.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((N||Array.from(d.mount)).forEach(J=>{J&&($?dt(n.validatingFields,J,$):jt(n.validatingFields,J))}),T.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},Q=(N,$=[],J,_e,me=!0,he=!0)=>{if(_e&&J&&!e.disabled){if(c.action=!0,he&&Array.isArray(we(i,N))){const ge=J(we(i,N),_e.argA,_e.argB);me&&dt(i,N,ge)}if(he&&Array.isArray(we(n.errors,N))){const ge=J(we(n.errors,N),_e.argA,_e.argB);me&&dt(n.errors,N,ge),p4(n.errors,N)}if((v.touchedFields||w.touchedFields)&&he&&Array.isArray(we(n.touchedFields,N))){const ge=J(we(n.touchedFields,N),_e.argA,_e.argB);me&&dt(n.touchedFields,N,ge)}(v.dirtyFields||w.dirtyFields)&&(n.dirtyFields=yu(a,l)),T.state.next({name:N,isDirty:L(N,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(l,N,$)},X=(N,$)=>{dt(n.errors,N,$),T.state.next({errors:n.errors})},ne=N=>{n.errors=N,T.state.next({errors:n.errors,isValid:!1})},fe=(N,$,J,_e)=>{const me=we(i,N);if(me){const he=we(l,N,Ft(J)?we(a,N):J);Ft(he)||_e&&_e.defaultChecked||$?dt(l,N,$?he:QT(me._f)):Le(N,he),c.mount&&z()}},ie=(N,$,J,_e,me)=>{let he=!1,ge=!1;const be={name:N};if(!e.disabled){if(!J||_e){(v.isDirty||w.isDirty)&&(ge=n.isDirty,n.isDirty=be.isDirty=L(),he=ge!==be.isDirty);const Be=Vs(we(a,N),$);ge=!!we(n.dirtyFields,N),Be?jt(n.dirtyFields,N):dt(n.dirtyFields,N,!0),be.dirtyFields=n.dirtyFields,he=he||(v.dirtyFields||w.dirtyFields)&&ge!==!Be}if(J){const Be=we(n.touchedFields,N);Be||(dt(n.touchedFields,N,J),be.touchedFields=n.touchedFields,he=he||(v.touchedFields||w.touchedFields)&&Be!==J)}he&&me&&T.state.next(be)}return he?be:{}},ye=(N,$,J,_e)=>{const me=we(n.errors,N),he=(v.isValid||w.isValid)&&Zr($)&&n.isValid!==$;if(e.delayError&&J?(p=x(()=>X(N,J)),p(e.delayError)):(clearTimeout(g),p=null,J?dt(n.errors,N,J):jt(n.errors,N)),(J?!Vs(me,J):me)||!Mn(_e)||he){const ge={..._e,...he&&Zr($)?{isValid:$}:{},errors:n.errors,name:N};n={...n,...ge},T.state.next(ge)}},D=async N=>{H(N,!0);const $=await e.resolver(l,e.context,u4(N||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return H(N),$},S=async N=>{const{errors:$}=await D(N);if(N)for(const J of N){const _e=we($,J);_e?dt(n.errors,J,_e):jt(n.errors,J)}else n.errors=$;return $},I=async(N,$,J={valid:!0})=>{for(const _e in N){const me=N[_e];if(me){const{_f:he,...ge}=me;if(he){const be=d.array.has(he.name),Be=me._f&&c4(me._f);Be&&v.validatingFields&&H([_e],!0);const st=await tw(me,d.disabled,l,O,e.shouldUseNativeValidation&&!$,be);if(Be&&v.validatingFields&&H([_e]),st[he.name]&&(J.valid=!1,$))break;!$&&(we(st,he.name)?be?g4(n.errors,st,he.name):dt(n.errors,he.name,st[he.name]):jt(n.errors,he.name))}!Mn(ge)&&await I(ge,$,J)}}return J.valid},k=()=>{for(const N of d.unMount){const $=we(i,N);$&&($._f.refs?$._f.refs.every(J=>!Np(J)):!Np($._f.ref))&&Rt(N)}d.unMount=new Set},L=(N,$)=>!e.disabled&&(N&&$&&dt(l,N,$),!Vs(V(),a)),P=(N,$,J)=>s4(N,d,{...c.mount?l:Ft($)?a:Kr(N)?{[N]:$}:$},J,$),R=N=>Sy(we(c.mount?l:a,N,e.shouldUnregister?we(a,N,[]):[])),Le=(N,$,J={})=>{const _e=we(i,N);let me=$;if(_e){const he=_e._f;he&&(!he.disabled&&dt(l,N,wS($,he)),me=Of(he.ref)&&In($)?"":$,_S(he.ref)?[...he.ref.options].forEach(ge=>ge.selected=me.includes(ge.value)):he.refs?dc(he.ref)?he.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(me)?ge.checked=!!me.find(be=>be===ge.value):ge.checked=me===ge.value||!!me)}):he.refs.forEach(ge=>ge.checked=ge.value===me):Cy(he.ref)?he.ref.value="":(he.ref.value=me,he.ref.type||T.state.next({name:N,values:sn(l)})))}(J.shouldDirty||J.shouldTouch)&&ie(N,me,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&He(N)},je=(N,$,J)=>{for(const _e in $){if(!$.hasOwnProperty(_e))return;const me=$[_e],he=N+"."+_e,ge=we(i,he);(d.array.has(N)||Pt(me)||ge&&!ge._f)&&!Da(me)?je(he,me,J):Le(he,me,J)}},K=(N,$,J={})=>{const _e=we(i,N),me=d.array.has(N),he=sn($);dt(l,N,he),me?(T.array.next({name:N,values:sn(l)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&J.shouldDirty&&T.state.next({name:N,dirtyFields:yu(a,l),isDirty:L(N,he)})):_e&&!_e._f&&!In(he)?je(N,he,J):Le(N,he,J),WT(N,d)&&T.state.next({...n}),T.state.next({name:c.mount?N:void 0,values:sn(l)})},ce=async N=>{c.mount=!0;const $=N.target;let J=$.name,_e=!0;const me=we(i,J),he=Be=>{_e=Number.isNaN(Be)||Da(Be)&&isNaN(Be.getTime())||Vs(Be,we(l,J,Be))},ge=YT(e.mode),be=YT(e.reValidateMode);if(me){let Be,st;const ui=$.type?QT(me._f):WP(N),Wn=N.type===HT.BLUR||N.type===HT.FOCUS_OUT,ci=!h4(me._f)&&!e.resolver&&!we(n.errors,J)&&!me._f.deps||m4(Wn,we(n.touchedFields,J),n.isSubmitted,be,ge),mr=WT(J,d,Wn);dt(l,J,ui),Wn?(me._f.onBlur&&me._f.onBlur(N),p&&p(0)):me._f.onChange&&me._f.onChange(N);const pr=ie(J,ui,Wn),jn=!Mn(pr)||mr;if(!Wn&&T.state.next({name:J,type:N.type,values:sn(l)}),ci)return(v.isValid||w.isValid)&&(e.mode==="onBlur"?Wn&&z():Wn||z()),jn&&T.state.next({name:J,...mr?{}:pr});if(!Wn&&mr&&T.state.next({...n}),e.resolver){const{errors:hi}=await D([J]);if(he(ui),_e){const fi=JT(n.errors,i,J),es=JT(hi,i,fi.name||J);Be=es.error,J=es.name,st=Mn(hi)}}else H([J],!0),Be=(await tw(me,d.disabled,l,O,e.shouldUseNativeValidation))[J],H([J]),he(ui),_e&&(Be?st=!1:(v.isValid||w.isValid)&&(st=await I(i,!0)));_e&&(me._f.deps&&He(me._f.deps),ye(J,st,Be,pr))}},Ae=(N,$)=>{if(we(n.errors,$)&&N.focus)return N.focus(),1},He=async(N,$={})=>{let J,_e;const me=xu(N);if(e.resolver){const he=await S(Ft(N)?N:me);J=Mn(he),_e=N?!me.some(ge=>we(he,ge)):J}else N?(_e=(await Promise.all(me.map(async he=>{const ge=we(i,he);return await I(ge&&ge._f?{[he]:ge}:ge)}))).every(Boolean),!(!_e&&!n.isValid)&&z()):_e=J=await I(i);return T.state.next({...!Kr(N)||(v.isValid||w.isValid)&&J!==n.isValid?{}:{name:N},...e.resolver||!N?{isValid:J}:{},errors:n.errors}),$.shouldFocus&&!_e&&ku(i,Ae,N?me:d.mount),_e},V=N=>{const $={...c.mount?l:a};return Ft(N)?$:Kr(N)?we($,N):N.map(J=>we($,J))},oe=(N,$)=>({invalid:!!we(($||n).errors,N),isDirty:!!we(($||n).dirtyFields,N),error:we(($||n).errors,N),isValidating:!!we(n.validatingFields,N),isTouched:!!we(($||n).touchedFields,N)}),pe=N=>{N&&xu(N).forEach($=>jt(n.errors,$)),T.state.next({errors:N?n.errors:{}})},ue=(N,$,J)=>{const _e=(we(i,N,{_f:{}})._f||{}).ref,me=we(n.errors,N)||{},{ref:he,message:ge,type:be,...Be}=me;dt(n.errors,N,{...Be,...$,ref:_e}),T.state.next({name:N,errors:n.errors,isValid:!1}),J&&J.shouldFocus&&_e&&_e.focus&&_e.focus()},Re=(N,$)=>wr(N)?T.state.subscribe({next:J=>N(P(void 0,$),J)}):P(N,$,!0),Ue=N=>T.state.subscribe({next:$=>{d4(N.name,$.name,N.exact)&&f4($,N.formState||v,xn,N.reRenderRoot)&&N.callback({values:{...l},...n,...$})}}).unsubscribe,xe=N=>(c.mount=!0,w={...w,...N.formState},Ue({...N,formState:w})),Rt=(N,$={})=>{for(const J of N?xu(N):d.mount)d.mount.delete(J),d.array.delete(J),$.keepValue||(jt(i,J),jt(l,J)),!$.keepError&&jt(n.errors,J),!$.keepDirty&&jt(n.dirtyFields,J),!$.keepTouched&&jt(n.touchedFields,J),!$.keepIsValidating&&jt(n.validatingFields,J),!e.shouldUnregister&&!$.keepDefaultValue&&jt(a,J);T.state.next({values:sn(l)}),T.state.next({...n,...$.keepDirty?{isDirty:L()}:{}}),!$.keepIsValid&&z()},it=({disabled:N,name:$})=>{(Zr(N)&&c.mount||N||d.disabled.has($))&&(N?d.disabled.add($):d.disabled.delete($))},On=(N,$={})=>{let J=we(i,N);const _e=Zr($.disabled)||Zr(e.disabled);return dt(i,N,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:N}},name:N,mount:!0,...$}}),d.mount.add(N),J?it({disabled:Zr($.disabled)?$.disabled:e.disabled,name:N}):fe(N,!0,$.value),{..._e?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:_u($.min),max:_u($.max),minLength:_u($.minLength),maxLength:_u($.maxLength),pattern:_u($.pattern)}:{},name:N,onChange:ce,onBlur:ce,ref:me=>{if(me){On(N,$),J=we(i,N);const he=Ft(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,ge=a4(he),be=J._f.refs||[];if(ge?be.find(Be=>Be===he):he===J._f.ref)return;dt(i,N,{_f:{...J._f,...ge?{refs:[...be.filter(Np),he,...Array.isArray(we(a,N))?[{}]:[]],ref:{type:he.type,name:N}}:{ref:he}}}),fe(N,!1,void 0,he)}else J=we(i,N,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(e4(d.array,N)&&c.action)&&d.unMount.add(N)}}},Xn=()=>e.shouldFocusError&&ku(i,Ae,d.mount),dr=N=>{Zr(N)&&(T.state.next({disabled:N}),ku(i,($,J)=>{const _e=we(i,J);_e&&($.disabled=_e._f.disabled||N,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(me=>{me.disabled=_e._f.disabled||N}))},0,!1))},Cr=(N,$)=>async J=>{let _e;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let me=sn(l);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:ge}=await D();n.errors=he,me=sn(ge)}else await I(i);if(d.disabled.size)for(const he of d.disabled)jt(me,he);if(jt(n.errors,"root"),Mn(n.errors)){T.state.next({errors:{}});try{await N(me,J)}catch(he){_e=he}}else $&&await $({...n.errors},J),Xn(),setTimeout(Xn);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},li=(N,$={})=>{we(i,N)&&(Ft($.defaultValue)?K(N,sn(we(a,N))):(K(N,$.defaultValue),dt(a,N,sn($.defaultValue))),$.keepTouched||jt(n.touchedFields,N),$.keepDirty||(jt(n.dirtyFields,N),n.isDirty=$.defaultValue?L(N,sn(we(a,N))):L()),$.keepError||(jt(n.errors,N),v.isValid&&z()),T.state.next({...n}))},Dr=(N,$={})=>{const J=N?sn(N):a,_e=sn(J),me=Mn(N),he=me?a:_e;if($.keepDefaultValues||(a=J),!$.keepValues){if($.keepDirtyValues){const ge=new Set([...d.mount,...Object.keys(yu(a,l))]);for(const be of Array.from(ge))we(n.dirtyFields,be)?dt(he,be,we(l,be)):K(be,we(he,be))}else{if(by&&Ft(N))for(const ge of d.mount){const be=we(i,ge);if(be&&be._f){const Be=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Of(Be)){const st=Be.closest("form");if(st){st.reset();break}}}}if($.keepFieldsRef)for(const ge of d.mount)K(ge,we(he,ge));else i={}}l=e.shouldUnregister?$.keepDefaultValues?sn(a):{}:sn(he),T.array.next({values:{...he}}),T.state.next({values:{...he}})}d={mount:$.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!$.keepIsValid||!!$.keepDirtyValues,c.watch=!!e.shouldUnregister,T.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:me?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Vs(N,a)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:me?{}:$.keepDirtyValues?$.keepDefaultValues&&l?yu(a,l):n.dirtyFields:$.keepDefaultValues&&N?yu(a,N):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Wi=(N,$)=>Dr(wr(N)?N(l):N,$),qa=(N,$={})=>{const J=we(i,N),_e=J&&J._f;if(_e){const me=_e.refs?_e.refs[0]:_e.ref;me.focus&&(me.focus(),$.shouldSelect&&wr(me.select)&&me.select())}},xn=N=>{n={...n,...N}},Ji={control:{register:On,unregister:Rt,getFieldState:oe,handleSubmit:Cr,setError:ue,_subscribe:Ue,_runSchema:D,_focusError:Xn,_getWatch:P,_getDirty:L,_setValid:z,_setFieldArray:Q,_setDisabledField:it,_setErrors:ne,_getFieldArray:R,_reset:Dr,_resetDefaultValues:()=>wr(e.defaultValues)&&e.defaultValues().then(N=>{Wi(N,e.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:dr,_subjects:T,_proxyFormState:v,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(N){c=N},get _defaultValues(){return a},get _names(){return d},set _names(N){d=N},get _formState(){return n},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:xe,trigger:He,register:On,handleSubmit:Cr,watch:Re,setValue:K,getValues:V,reset:Wi,resetField:li,clearErrors:pe,unregister:Rt,setError:ue,setFocus:qa,getFieldState:oe};return{...Ji,formControl:Ji}}function v4(t={}){const e=Xt.useRef(void 0),n=Xt.useRef(void 0),[i,a]=Xt.useState({isDirty:!1,isValidating:!1,isLoading:wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:wr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=_4(t);e.current={...d,formState:i}}const l=e.current.control;return l._options=t,i4(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Xt.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Xt.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Xt.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Xt.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Xt.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Xt.useEffect(()=>{t.values&&!Vs(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),Xt.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=r4(i,l),e.current}const nw=(t,e,n)=>{if(t&&"reportValidity"in t){const i=we(n,e);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},ug=(t,e)=>{for(const n in e.fields){const i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?nw(i.ref,n,t):i&&i.refs&&i.refs.forEach(a=>nw(a,n,t))}},rw=(t,e)=>{e.shouldUseNativeValidation&&ug(t,e);const n={};for(const i in t){const a=we(e.fields,i),l=Object.assign(t[i]||{},{ref:a&&a.ref});if(E4(e.names||Object.keys(t),i)){const c=Object.assign({},we(n,i));dt(c,"root",l),dt(n,i,c)}else dt(n,i,l)}return n},E4=(t,e)=>{const n=iw(e);return t.some(i=>iw(i).match(`^${n}\\.\\d+`))};function iw(t){return t.replace(/\]|\[/g,"")}function le(t,e,n){function i(d,p){var g;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(g=d._zod).traits??(g.traits=new Set),d._zod.traits.add(t),e(d,p);for(const v in c.prototype)v in d||Object.defineProperty(d,v,{value:c.prototype[v].bind(d)});d._zod.constr=c,d._zod.def=p}const a=n?.Parent??Object;class l extends a{}Object.defineProperty(l,"name",{value:t});function c(d){var p;const g=n?.Parent?new l:this;i(g,d),(p=g._zod).deferred??(p.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:i}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Zu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const bS={};function La(t){return bS}function T4(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,a])=>e.indexOf(+i)===-1).map(([i,a])=>a)}function w4(t,e){return typeof e=="bigint"?e.toString():e}function SS(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Ny(t){return t==null}function Oy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function yt(t,e,n){Object.defineProperty(t,e,{get(){{const i=n();return t[e]=i,i}},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function xy(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function vu(t){return JSON.stringify(t)}const RS=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function cg(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const A4=SS(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function hg(t){if(cg(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(cg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const b4=new Set(["string","number","symbol"]);function mc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fa(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function Ve(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function S4(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function R4(t,e){const n={},i=t._zod.def;for(const a in e){if(!(a in i.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(n[a]=i.shape[a])}return Fa(t,{...t._zod.def,shape:n,checks:[]})}function I4(t,e){const n={...t._zod.def.shape},i=t._zod.def;for(const a in e){if(!(a in i.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete n[a]}return Fa(t,{...t._zod.def,shape:n,checks:[]})}function C4(t,e){if(!hg(e))throw new Error("Invalid input to extend: expected a plain object");const n={...t._zod.def,get shape(){const i={...t._zod.def.shape,...e};return xy(this,"shape",i),i},checks:[]};return Fa(t,n)}function D4(t,e){return Fa(t,{...t._zod.def,get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return xy(this,"shape",n),n},catchall:e._zod.def.catchall,checks:[]})}function N4(t,e,n){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)a[l]=t?new t({type:"optional",innerType:i[l]}):i[l];return Fa(e,{...e._zod.def,shape:a,checks:[]})}function O4(t,e,n){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new t({type:"nonoptional",innerType:i[l]});return Fa(e,{...e._zod.def,shape:a,checks:[]})}function Vu(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function ky(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function Gh(t){return typeof t=="string"?t:t?.message}function Ua(t,e,n){const i={...t,path:t.path??[]};if(!t.message){const a=Gh(t.inst?._zod.def?.error?.(t))??Gh(e?.error?.(t))??Gh(n.customError?.(t))??Gh(n.localeError?.(t))??"Invalid input";i.message=a}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function Vy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ku(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const IS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,w4,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Py=le("$ZodError",IS),cd=le("$ZodError",IS,{Parent:Error});function x4(t,e=n=>n.message){const n={},i=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}function k4(t,e){const n=e||function(l){return l.message},i={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(d=>a({issues:d}));else if(c.code==="invalid_key")a({issues:c.issues});else if(c.code==="invalid_element")a({issues:c.issues});else if(c.path.length===0)i._errors.push(n(c));else{let d=i,p=0;for(;p<c.path.length;){const g=c.path[p];p===c.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(c))):d[g]=d[g]||{_errors:[]},d=d[g],p++}}};return a(t),i}const CS=t=>(e,n,i,a)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new Zu;if(c.issues.length){const d=new(a?.Err??t)(c.issues.map(p=>Ua(p,l,La())));throw RS(d,a?.callee),d}return c.value},V4=CS(cd),DS=t=>async(e,n,i,a)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??t)(c.issues.map(p=>Ua(p,l,La())));throw RS(d,a?.callee),d}return c.value},P4=DS(cd),NS=t=>(e,n,i)=>{const a=i?{...i,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new Zu;return l.issues.length?{success:!1,error:new(t??Py)(l.issues.map(c=>Ua(c,a,La())))}:{success:!0,data:l.value}},M4=NS(cd),OS=t=>async(e,n,i)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>Ua(c,a,La())))}:{success:!0,data:l.value}},L4=OS(cd),U4=/^[cC][^\s-]{8,}$/,z4=/^[0-9a-z]+$/,j4=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,B4=/^[0-9a-vA-V]{20}$/,F4=/^[A-Za-z0-9]{27}$/,q4=/^[a-zA-Z0-9_-]{21}$/,H4=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,$4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sw=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,G4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Z4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function K4(){return new RegExp(Z4,"u")}const Q4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Y4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,X4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,W4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,J4=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,xS=/^[A-Za-z0-9_-]*$/,eM=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,tM=/^\+(?:[0-9]){6,14}[0-9]$/,kS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nM=new RegExp(`^${kS}$`);function VS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rM(t){return new RegExp(`^${VS(t)}$`)}function iM(t){const e=VS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-]\\d{2}:\\d{2})");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${kS}T(?:${i})$`)}const sM=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},aM=/true|false/i,oM=/^[^A-Z]*$/,lM=/^[^a-z]*$/,oi=le("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),uM=le("$ZodCheckMaxLength",(t,e)=>{var n;oi.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Ny(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const a=i.value;if(a.length<=e.maximum)return;const c=Vy(a);i.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),cM=le("$ZodCheckMinLength",(t,e)=>{var n;oi.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Ny(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const a=i.value;if(a.length>=e.minimum)return;const c=Vy(a);i.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),hM=le("$ZodCheckLengthEquals",(t,e)=>{var n;oi.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Ny(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=i=>{const a=i.value,l=a.length;if(l===e.length)return;const c=Vy(a),d=l>e.length;i.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),hd=le("$ZodCheckStringFormat",(t,e)=>{var n,i;oi.init(t,e),t._zod.onattach.push(a=>{const l=a._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),fM=le("$ZodCheckRegex",(t,e)=>{hd.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),dM=le("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=oM),hd.init(t,e)}),mM=le("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=lM),hd.init(t,e)}),pM=le("$ZodCheckIncludes",(t,e)=>{oi.init(t,e);const n=mc(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(i)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),gM=le("$ZodCheckStartsWith",(t,e)=>{oi.init(t,e);const n=new RegExp(`^${mc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),yM=le("$ZodCheckEndsWith",(t,e)=>{oi.init(t,e);const n=new RegExp(`.*${mc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),_M=le("$ZodCheckOverwrite",(t,e)=>{oi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class vM{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(c=>c),a=Math.min(...i.map(c=>c.length-c.trimStart().length)),l=i.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,a.join(`
`))}}const EM={major:4,minor:0,patch:5},Nt=le("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=EM;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const a of i)for(const l of a._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(l,c,d)=>{let p=Vu(l),g;for(const v of c){if(v._zod.def.when){if(!v._zod.def.when(l))continue}else if(p)continue;const w=l.issues.length,T=v._zod.check(l);if(T instanceof Promise&&d?.async===!1)throw new Zu;if(g||T instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await T,l.issues.length!==w&&(p||(p=Vu(l,w)))});else{if(l.issues.length===w)continue;p||(p=Vu(l,w))}}return g?g.then(()=>l):l};t._zod.run=(l,c)=>{const d=t._zod.parse(l,c);if(d instanceof Promise){if(c.async===!1)throw new Zu;return d.then(p=>a(p,i,c))}return a(d,i,c)}}t["~standard"]={validate:a=>{try{const l=M4(t,a);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return L4(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),My=le("$ZodString",(t,e)=>{Nt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??sM(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Tt=le("$ZodStringFormat",(t,e)=>{hd.init(t,e),My.init(t,e)}),TM=le("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=$4),Tt.init(t,e)}),wM=le("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=sw(i))}else e.pattern??(e.pattern=sw());Tt.init(t,e)}),AM=le("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=G4),Tt.init(t,e)}),bM=le("$ZodURL",(t,e)=>{Tt.init(t,e),t._zod.check=n=>{try{const i=n.value,a=new URL(i),l=a.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:eM.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),!i.endsWith("/")&&l.endsWith("/")?n.value=l.slice(0,-1):n.value=l;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),SM=le("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=K4()),Tt.init(t,e)}),RM=le("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=q4),Tt.init(t,e)}),IM=le("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=U4),Tt.init(t,e)}),CM=le("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=z4),Tt.init(t,e)}),DM=le("$ZodULID",(t,e)=>{e.pattern??(e.pattern=j4),Tt.init(t,e)}),NM=le("$ZodXID",(t,e)=>{e.pattern??(e.pattern=B4),Tt.init(t,e)}),OM=le("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=F4),Tt.init(t,e)}),xM=le("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=iM(e)),Tt.init(t,e)}),kM=le("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=nM),Tt.init(t,e)}),VM=le("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=rM(e)),Tt.init(t,e)}),PM=le("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=H4),Tt.init(t,e)}),MM=le("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Q4),Tt.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv4"})}),LM=le("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Y4),Tt.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),UM=le("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=X4),Tt.init(t,e)}),zM=le("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=W4),Tt.init(t,e),t._zod.check=n=>{const[i,a]=n.value.split("/");try{if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function PS(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const jM=le("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=J4),Tt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{PS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function BM(t){if(!xS.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return PS(n)}const FM=le("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=xS),Tt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{BM(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),qM=le("$ZodE164",(t,e)=>{e.pattern??(e.pattern=tM),Tt.init(t,e)});function HM(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const $M=le("$ZodJWT",(t,e)=>{Tt.init(t,e),t._zod.check=n=>{HM(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),GM=le("$ZodBoolean",(t,e)=>{Nt.init(t,e),t._zod.pattern=aM,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:t}),n}}),ZM=le("$ZodUnknown",(t,e)=>{Nt.init(t,e),t._zod.parse=n=>n}),KM=le("$ZodNever",(t,e)=>{Nt.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function aw(t,e,n){t.issues.length&&e.issues.push(...ky(n,t.issues)),e.value[n]=t.value}const QM=le("$ZodArray",(t,e)=>{Nt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const l=[];for(let c=0;c<a.length;c++){const d=a[c],p=e.element._zod.run({value:d,issues:[]},i);p instanceof Promise?l.push(p.then(g=>aw(g,n,c))):aw(p,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Zh(t,e,n){t.issues.length&&e.issues.push(...ky(n,t.issues)),e.value[n]=t.value}function ow(t,e,n,i){t.issues.length?i[n]===void 0?n in i?e.value[n]=void 0:e.value[n]=t.value:e.issues.push(...ky(n,t.issues)):t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}const YM=le("$ZodObject",(t,e)=>{Nt.init(t,e);const n=SS(()=>{const w=Object.keys(e.shape);for(const O of w)if(!(e.shape[O]instanceof Nt))throw new Error(`Invalid element at key "${O}": expected a Zod schema`);const T=S4(e.shape);return{shape:e.shape,keys:w,keySet:new Set(w),numKeys:w.length,optionalKeys:new Set(T)}});yt(t._zod,"propValues",()=>{const w=e.shape,T={};for(const O in w){const x=w[O]._zod;if(x.values){T[O]??(T[O]=new Set);for(const z of x.values)T[O].add(z)}}return T});const i=w=>{const T=new vM(["shape","payload","ctx"]),O=n.value,x=X=>{const ne=vu(X);return`shape[${ne}]._zod.run({ value: input[${ne}], issues: [] }, ctx)`};T.write("const input = payload.value;");const z=Object.create(null);let H=0;for(const X of O.keys)z[X]=`key_${H++}`;T.write("const newResult = {}");for(const X of O.keys)if(O.optionalKeys.has(X)){const ne=z[X];T.write(`const ${ne} = ${x(X)};`);const fe=vu(X);T.write(`
        if (${ne}.issues.length) {
          if (input[${fe}] === undefined) {
            if (${fe} in input) {
              newResult[${fe}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${ne}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${fe}, ...iss.path] : [${fe}],
              }))
            );
          }
        } else if (${ne}.value === undefined) {
          if (${fe} in input) newResult[${fe}] = undefined;
        } else {
          newResult[${fe}] = ${ne}.value;
        }
        `)}else{const ne=z[X];T.write(`const ${ne} = ${x(X)};`),T.write(`
          if (${ne}.issues.length) payload.issues = payload.issues.concat(${ne}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${vu(X)}, ...iss.path] : [${vu(X)}]
          })));`),T.write(`newResult[${vu(X)}] = ${ne}.value`)}T.write("payload.value = newResult;"),T.write("return payload;");const Q=T.compile();return(X,ne)=>Q(w,X,ne)};let a;const l=cg,c=!bS.jitless,p=c&&A4.value,g=e.catchall;let v;t._zod.parse=(w,T)=>{v??(v=n.value);const O=w.value;if(!l(O))return w.issues.push({expected:"object",code:"invalid_type",input:O,inst:t}),w;const x=[];if(c&&p&&T?.async===!1&&T.jitless!==!0)a||(a=i(e.shape)),w=a(w,T);else{w.value={};const ne=v.shape;for(const fe of v.keys){const ie=ne[fe],ye=ie._zod.run({value:O[fe],issues:[]},T),D=ie._zod.optin==="optional"&&ie._zod.optout==="optional";ye instanceof Promise?x.push(ye.then(S=>D?ow(S,w,fe,O):Zh(S,w,fe))):D?ow(ye,w,fe,O):Zh(ye,w,fe)}}if(!g)return x.length?Promise.all(x).then(()=>w):w;const z=[],H=v.keySet,Q=g._zod,X=Q.def.type;for(const ne of Object.keys(O)){if(H.has(ne))continue;if(X==="never"){z.push(ne);continue}const fe=Q.run({value:O[ne],issues:[]},T);fe instanceof Promise?x.push(fe.then(ie=>Zh(ie,w,ne))):Zh(fe,w,ne)}return z.length&&w.issues.push({code:"unrecognized_keys",keys:z,input:O,inst:t}),x.length?Promise.all(x).then(()=>w):w}});function lw(t,e,n,i){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>Ua(l,i,La())))}),e}const XM=le("$ZodUnion",(t,e)=>{Nt.init(t,e),yt(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),yt(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),yt(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),yt(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){const n=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>Oy(i.source)).join("|")})$`)}}),t._zod.parse=(n,i)=>{let a=!1;const l=[];for(const c of e.options){const d=c._zod.run({value:n.value,issues:[]},i);if(d instanceof Promise)l.push(d),a=!0;else{if(d.issues.length===0)return d;l.push(d)}}return a?Promise.all(l).then(c=>lw(c,n,t,i)):lw(l,n,t,i)}}),WM=le("$ZodIntersection",(t,e)=>{Nt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value,l=e.left._zod.run({value:a,issues:[]},i),c=e.right._zod.run({value:a,issues:[]},i);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([p,g])=>uw(n,p,g)):uw(n,l,c)}});function fg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(hg(t)&&hg(e)){const n=Object.keys(e),i=Object.keys(t).filter(l=>n.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=fg(t[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};a[l]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=fg(a,l);if(!c.valid)return{valid:!1,mergeErrorPath:[i,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function uw(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Vu(t))return t;const i=fg(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const JM=le("$ZodEnum",(t,e)=>{Nt.init(t,e);const n=T4(e.entries);t._zod.values=new Set(n),t._zod.pattern=new RegExp(`^(${n.filter(i=>b4.has(typeof i)).map(i=>typeof i=="string"?mc(i):i.toString()).join("|")})$`),t._zod.parse=(i,a)=>{const l=i.value;return t._zod.values.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),e6=le("$ZodLiteral",(t,e)=>{Nt.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?mc(n):n?n.toString():String(n)).join("|")})$`),t._zod.parse=(n,i)=>{const a=n.value;return t._zod.values.has(a)||n.issues.push({code:"invalid_value",values:e.values,input:a,inst:t}),n}}),t6=le("$ZodTransform",(t,e)=>{Nt.init(t,e),t._zod.parse=(n,i)=>{const a=e.transform(n.value,n);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Zu;return n.value=a,n}}),n6=le("$ZodOptional",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Oy(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(n,i):n.value===void 0?n:e.innerType._zod.run(n,i)}),r6=le("$ZodNullable",(t,e)=>{Nt.init(t,e),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Oy(n.source)}|null)$`):void 0}),yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),i6=le("$ZodDefault",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>cw(l,e)):cw(a,e)}});function cw(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const s6=le("$ZodPrefault",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),a6=le("$ZodNonOptional",(t,e)=>{Nt.init(t,e),yt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>hw(l,t)):hw(a,t)}});function hw(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const o6=le("$ZodCatch",(t,e)=>{Nt.init(t,e),t._zod.optin="optional",yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(c=>Ua(c,i,La()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Ua(l,i,La()))},input:n.value}),n.issues=[]),n)}}),l6=le("$ZodPipe",(t,e)=>{Nt.init(t,e),yt(t._zod,"values",()=>e.in._zod.values),yt(t._zod,"optin",()=>e.in._zod.optin),yt(t._zod,"optout",()=>e.out._zod.optout),yt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{const a=e.in._zod.run(n,i);return a instanceof Promise?a.then(l=>fw(l,e,i)):fw(a,e,i)}});function fw(t,e,n){return Vu(t)?t:e.out._zod.run({value:t.value,issues:t.issues},n)}const u6=le("$ZodReadonly",(t,e)=>{Nt.init(t,e),yt(t._zod,"propValues",()=>e.innerType._zod.propValues),yt(t._zod,"values",()=>e.innerType._zod.values),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(dw):dw(a)}});function dw(t){return t.value=Object.freeze(t.value),t}const c6=le("$ZodCustom",(t,e)=>{oi.init(t,e),Nt.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,a=e.fn(i);if(a instanceof Promise)return a.then(l=>mw(l,n,i,t));mw(a,n,i,t)}});function mw(t,e,n,i){if(!t){const a={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),e.issues.push(Ku(a))}}class h6{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};return delete i.id,{...i,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function f6(){return new h6}const Kh=f6();function d6(t,e){return new t({type:"string",...Ve(e)})}function m6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(e)})}function pw(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(e)})}function p6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(e)})}function g6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(e)})}function y6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(e)})}function _6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(e)})}function v6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(e)})}function E6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(e)})}function T6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(e)})}function w6(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(e)})}function A6(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(e)})}function b6(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(e)})}function S6(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(e)})}function R6(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(e)})}function I6(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(e)})}function C6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(e)})}function D6(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(e)})}function N6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(e)})}function O6(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(e)})}function x6(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(e)})}function k6(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(e)})}function V6(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(e)})}function P6(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(e)})}function M6(t,e){return new t({type:"string",format:"date",check:"string_format",...Ve(e)})}function L6(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(e)})}function U6(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ve(e)})}function z6(t,e){return new t({type:"boolean",...Ve(e)})}function j6(t){return new t({type:"unknown"})}function B6(t,e){return new t({type:"never",...Ve(e)})}function MS(t,e){return new uM({check:"max_length",...Ve(e),maximum:t})}function Vf(t,e){return new cM({check:"min_length",...Ve(e),minimum:t})}function LS(t,e){return new hM({check:"length_equals",...Ve(e),length:t})}function F6(t,e){return new fM({check:"string_format",format:"regex",...Ve(e),pattern:t})}function q6(t){return new dM({check:"string_format",format:"lowercase",...Ve(t)})}function H6(t){return new mM({check:"string_format",format:"uppercase",...Ve(t)})}function $6(t,e){return new pM({check:"string_format",format:"includes",...Ve(e),includes:t})}function G6(t,e){return new gM({check:"string_format",format:"starts_with",...Ve(e),prefix:t})}function Z6(t,e){return new yM({check:"string_format",format:"ends_with",...Ve(e),suffix:t})}function pc(t){return new _M({check:"overwrite",tx:t})}function K6(t){return pc(e=>e.normalize(t))}function Q6(){return pc(t=>t.trim())}function Y6(){return pc(t=>t.toLowerCase())}function X6(){return pc(t=>t.toUpperCase())}function W6(t,e,n){return new t({type:"array",element:e,...Ve(n)})}function J6(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ve(n)})}function gw(t,e){try{var n=t()}catch(i){return e(i)}return n&&n.then?n.then(void 0,e):n}function eL(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:a};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(w){return t.push(w)})}),e){var p=n[c].types,g=p&&p[i.code];n[c]=Iy(c,e,n,a,g?[].concat(g,i.message):i.message)}t.shift()}return n}function tL(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if(i.code==="invalid_union"){var d=i.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:a};if(i.code==="invalid_union"&&i.errors.forEach(function(v){return v.forEach(function(w){return t.push(w)})}),e){var p=n[c].types,g=p&&p[i.code];n[c]=Iy(c,e,n,a,g?[].concat(g,i.message):i.message)}t.shift()}return n}function nL(t,e,n){if(n===void 0&&(n={}),function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def}(t))return function(i,a,l){try{return Promise.resolve(gw(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(c){return l.shouldUseNativeValidation&&ug({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if(function(d){return Array.isArray(d?.issues)}(c))return{values:{},errors:rw(eL(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if(function(i){return"_zod"in i&&typeof i._zod=="object"}(t))return function(i,a,l){try{return Promise.resolve(gw(function(){return Promise.resolve((n.mode==="sync"?V4:P4)(t,i,e)).then(function(c){return l.shouldUseNativeValidation&&ug({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if(function(d){return d instanceof Py}(c))return{values:{},errors:rw(tL(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const rL=le("ZodISODateTime",(t,e)=>{xM.init(t,e),St.init(t,e)});function iL(t){return P6(rL,t)}const sL=le("ZodISODate",(t,e)=>{kM.init(t,e),St.init(t,e)});function aL(t){return M6(sL,t)}const oL=le("ZodISOTime",(t,e)=>{VM.init(t,e),St.init(t,e)});function lL(t){return L6(oL,t)}const uL=le("ZodISODuration",(t,e)=>{PM.init(t,e),St.init(t,e)});function cL(t){return U6(uL,t)}const hL=(t,e)=>{Py.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>k4(t,n)},flatten:{value:n=>x4(t,n)},addIssue:{value:n=>t.issues.push(n)},addIssues:{value:n=>t.issues.push(...n)},isEmpty:{get(){return t.issues.length===0}}})},fd=le("ZodError",hL,{Parent:Error}),fL=CS(fd),dL=DS(fd),mL=NS(fd),pL=OS(fd),$t=le("ZodType",(t,e)=>(Nt.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(n,i)=>Fa(t,n,i),t.brand=()=>t,t.register=(n,i)=>(n.add(t,i),t),t.parse=(n,i)=>fL(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>mL(t,n,i),t.parseAsync=async(n,i)=>dL(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>pL(t,n,i),t.spa=t.safeParseAsync,t.refine=(n,i)=>t.check(l3(n,i)),t.superRefine=n=>t.check(u3(n)),t.overwrite=n=>t.check(pc(n)),t.optional=()=>Ew(t),t.nullable=()=>Tw(t),t.nullish=()=>Ew(Tw(t)),t.nonoptional=n=>e3(t,n),t.array=()=>zL(t),t.or=n=>FL([t,n]),t.and=n=>HL(t,n),t.transform=n=>ww(t,KL(n)),t.default=n=>XL(t,n),t.prefault=n=>JL(t,n),t.catch=n=>n3(t,n),t.pipe=n=>ww(t,n),t.readonly=()=>s3(t),t.describe=n=>{const i=t.clone();return Kh.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return Kh.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Kh.get(t);const i=t.clone();return Kh.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),US=le("_ZodString",(t,e)=>{My.init(t,e),$t.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(F6(...i)),t.includes=(...i)=>t.check($6(...i)),t.startsWith=(...i)=>t.check(G6(...i)),t.endsWith=(...i)=>t.check(Z6(...i)),t.min=(...i)=>t.check(Vf(...i)),t.max=(...i)=>t.check(MS(...i)),t.length=(...i)=>t.check(LS(...i)),t.nonempty=(...i)=>t.check(Vf(1,...i)),t.lowercase=i=>t.check(q6(i)),t.uppercase=i=>t.check(H6(i)),t.trim=()=>t.check(Q6()),t.normalize=(...i)=>t.check(K6(...i)),t.toLowerCase=()=>t.check(Y6()),t.toUpperCase=()=>t.check(X6())}),gL=le("ZodString",(t,e)=>{My.init(t,e),US.init(t,e),t.email=n=>t.check(m6(yL,n)),t.url=n=>t.check(v6(_L,n)),t.jwt=n=>t.check(V6(kL,n)),t.emoji=n=>t.check(E6(vL,n)),t.guid=n=>t.check(pw(yw,n)),t.uuid=n=>t.check(p6(Qh,n)),t.uuidv4=n=>t.check(g6(Qh,n)),t.uuidv6=n=>t.check(y6(Qh,n)),t.uuidv7=n=>t.check(_6(Qh,n)),t.nanoid=n=>t.check(T6(EL,n)),t.guid=n=>t.check(pw(yw,n)),t.cuid=n=>t.check(w6(TL,n)),t.cuid2=n=>t.check(A6(wL,n)),t.ulid=n=>t.check(b6(AL,n)),t.base64=n=>t.check(O6(NL,n)),t.base64url=n=>t.check(x6(OL,n)),t.xid=n=>t.check(S6(bL,n)),t.ksuid=n=>t.check(R6(SL,n)),t.ipv4=n=>t.check(I6(RL,n)),t.ipv6=n=>t.check(C6(IL,n)),t.cidrv4=n=>t.check(D6(CL,n)),t.cidrv6=n=>t.check(N6(DL,n)),t.e164=n=>t.check(k6(xL,n)),t.datetime=n=>t.check(iL(n)),t.date=n=>t.check(aL(n)),t.time=n=>t.check(lL(n)),t.duration=n=>t.check(cL(n))});function on(t){return d6(gL,t)}const St=le("ZodStringFormat",(t,e)=>{Tt.init(t,e),US.init(t,e)}),yL=le("ZodEmail",(t,e)=>{AM.init(t,e),St.init(t,e)}),yw=le("ZodGUID",(t,e)=>{TM.init(t,e),St.init(t,e)}),Qh=le("ZodUUID",(t,e)=>{wM.init(t,e),St.init(t,e)}),_L=le("ZodURL",(t,e)=>{bM.init(t,e),St.init(t,e)}),vL=le("ZodEmoji",(t,e)=>{SM.init(t,e),St.init(t,e)}),EL=le("ZodNanoID",(t,e)=>{RM.init(t,e),St.init(t,e)}),TL=le("ZodCUID",(t,e)=>{IM.init(t,e),St.init(t,e)}),wL=le("ZodCUID2",(t,e)=>{CM.init(t,e),St.init(t,e)}),AL=le("ZodULID",(t,e)=>{DM.init(t,e),St.init(t,e)}),bL=le("ZodXID",(t,e)=>{NM.init(t,e),St.init(t,e)}),SL=le("ZodKSUID",(t,e)=>{OM.init(t,e),St.init(t,e)}),RL=le("ZodIPv4",(t,e)=>{MM.init(t,e),St.init(t,e)}),IL=le("ZodIPv6",(t,e)=>{LM.init(t,e),St.init(t,e)}),CL=le("ZodCIDRv4",(t,e)=>{UM.init(t,e),St.init(t,e)}),DL=le("ZodCIDRv6",(t,e)=>{zM.init(t,e),St.init(t,e)}),NL=le("ZodBase64",(t,e)=>{jM.init(t,e),St.init(t,e)}),OL=le("ZodBase64URL",(t,e)=>{FM.init(t,e),St.init(t,e)}),xL=le("ZodE164",(t,e)=>{qM.init(t,e),St.init(t,e)}),kL=le("ZodJWT",(t,e)=>{$M.init(t,e),St.init(t,e)}),VL=le("ZodBoolean",(t,e)=>{GM.init(t,e),$t.init(t,e)});function _w(t){return z6(VL,t)}const PL=le("ZodUnknown",(t,e)=>{ZM.init(t,e),$t.init(t,e)});function vw(){return j6(PL)}const ML=le("ZodNever",(t,e)=>{KM.init(t,e),$t.init(t,e)});function LL(t){return B6(ML,t)}const UL=le("ZodArray",(t,e)=>{QM.init(t,e),$t.init(t,e),t.element=e.element,t.min=(n,i)=>t.check(Vf(n,i)),t.nonempty=n=>t.check(Vf(1,n)),t.max=(n,i)=>t.check(MS(n,i)),t.length=(n,i)=>t.check(LS(n,i)),t.unwrap=()=>t.element});function zL(t,e){return W6(UL,t,e)}const jL=le("ZodObject",(t,e)=>{YM.init(t,e),$t.init(t,e),yt(t,"shape",()=>e.shape),t.keyof=()=>Xo(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:vw()}),t.loose=()=>t.clone({...t._zod.def,catchall:vw()}),t.strict=()=>t.clone({...t._zod.def,catchall:LL()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>C4(t,n),t.merge=n=>D4(t,n),t.pick=n=>R4(t,n),t.omit=n=>I4(t,n),t.partial=(...n)=>N4(zS,t,n[0]),t.required=(...n)=>O4(jS,t,n[0])});function ll(t,e){const n={type:"object",get shape(){return xy(this,"shape",{...t}),this.shape},...Ve(e)};return new jL(n)}const BL=le("ZodUnion",(t,e)=>{XM.init(t,e),$t.init(t,e),t.options=e.options});function FL(t,e){return new BL({type:"union",options:t,...Ve(e)})}const qL=le("ZodIntersection",(t,e)=>{WM.init(t,e),$t.init(t,e)});function HL(t,e){return new qL({type:"intersection",left:t,right:e})}const dg=le("ZodEnum",(t,e)=>{JM.init(t,e),$t.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,a)=>{const l={};for(const c of i)if(n.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new dg({...e,checks:[],...Ve(a),entries:l})},t.exclude=(i,a)=>{const l={...e.entries};for(const c of i)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new dg({...e,checks:[],...Ve(a),entries:l})}});function Xo(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new dg({type:"enum",entries:n,...Ve(e)})}const $L=le("ZodLiteral",(t,e)=>{e6.init(t,e),$t.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function GL(t,e){return new $L({type:"literal",values:Array.isArray(t)?t:[t],...Ve(e)})}const ZL=le("ZodTransform",(t,e)=>{t6.init(t,e),$t.init(t,e),t._zod.parse=(n,i)=>{n.addIssue=l=>{if(typeof l=="string")n.issues.push(Ku(l,n.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),c.continue??(c.continue=!0),n.issues.push(Ku(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(l=>(n.value=l,n)):(n.value=a,n)}});function KL(t){return new ZL({type:"transform",transform:t})}const zS=le("ZodOptional",(t,e)=>{n6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ew(t){return new zS({type:"optional",innerType:t})}const QL=le("ZodNullable",(t,e)=>{r6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Tw(t){return new QL({type:"nullable",innerType:t})}const YL=le("ZodDefault",(t,e)=>{i6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function XL(t,e){return new YL({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const WL=le("ZodPrefault",(t,e)=>{s6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function JL(t,e){return new WL({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const jS=le("ZodNonOptional",(t,e)=>{a6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function e3(t,e){return new jS({type:"nonoptional",innerType:t,...Ve(e)})}const t3=le("ZodCatch",(t,e)=>{o6.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function n3(t,e){return new t3({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const r3=le("ZodPipe",(t,e)=>{l6.init(t,e),$t.init(t,e),t.in=e.in,t.out=e.out});function ww(t,e){return new r3({type:"pipe",in:t,out:e})}const i3=le("ZodReadonly",(t,e)=>{u6.init(t,e),$t.init(t,e)});function s3(t){return new i3({type:"readonly",innerType:t})}const a3=le("ZodCustom",(t,e)=>{c6.init(t,e),$t.init(t,e)});function o3(t){const e=new oi({check:"custom"});return e._zod.check=t,e}function l3(t,e={}){return J6(a3,t,e)}function u3(t){const e=o3(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ku(i,n.value,e._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(Ku(a))}},t(n.value,n)));return e}const x3=ll({title:on().min(1,"Job title is required").max(100,"Job title is too long"),company:on().min(1,"Company name is required").max(100,"Company name is too long"),jobLink:on().url("Invalid URL").optional().or(GL("")),dateApplied:on().min(1,"Application date is required"),status:Xo(uP),salary:on().optional(),salaryType:Xo(cP),benefits:on().max(500,"Benefits description is too long").optional(),notes:on().max(1e3,"Notes are too long").optional(),selectionCriteria:on().max(2e3,"Selection criteria is too long").optional()});ll({date:on().min(1,"Interview date is required"),type:Xo(["phone","video","onsite","technical","behavioral","other"]),notes:on().min(1,"Interview notes are required").max(2e3,"Notes are too long"),interviewers:on().max(200,"Interviewers field is too long").optional(),nextSteps:on().max(500,"Next steps field is too long").optional()});const c3=ll({email:on().email("Invalid email address"),password:on().min(6,"Password must be at least 6 characters")}),h3=ll({email:on().email("Invalid email address"),password:on().min(6,"Password must be at least 6 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:on()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),f3=ll({email:on().email("Invalid email address")});ll({theme:Xo(["light","dark","system"]).optional(),emailNotifications:_w().optional(),defaultView:Xo(["grid","list"]).optional(),autoSave:_w().optional()});const d3=()=>{const[t,e]=W.useState("signin"),[n,i]=W.useState(!1),[a,l]=W.useState(!1),[c,d]=W.useState(!1),{signIn:p,signUp:g,signInGoogle:v,signInGuest:w,resetPassword:T,user:O,error:x,clearError:z}=Ay(),H=Lf(),X=ii().state?.from?.pathname||Cn.APPLICATIONS;W.useEffect(()=>{z(),d(!1)},[t,z]),W.useEffect(()=>{O&&H(X,{replace:!0})},[O,H,X]);const fe=v4({resolver:nL((()=>{switch(t){case"signup":return h3;case"reset":return f3;default:return c3}})())}),{register:ie,handleSubmit:ye,formState:{errors:D,isSubmitting:S},reset:I}=fe;W.useEffect(()=>{I()},[t,I]);const k=async K=>{try{switch(l(!0),z(),t){case"signin":await p(K.email,K.password);break;case"signup":await g(K.email,K.password);break;case"reset":await T(K.email),d(!0);break}}catch{}finally{l(!1)}},L=async()=>{try{l(!0),z(),await v()}catch{}finally{l(!1)}},P=async()=>{try{l(!0),z(),await w()}catch{}finally{l(!1)}},R=K=>{e(K),I(),z()},Le=()=>{switch(t){case"signup":return"Create Account";case"reset":return"Reset Password";default:return"Sign In"}},je=()=>{if(a)return F.jsx(gS,{size:"sm"});switch(t){case"signup":return"Create Account";case"reset":return"Send Reset Email";default:return"Sign In"}};return c?F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"max-w-md w-full space-y-8",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Check your email"}),F.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a password reset link to your email address."})]}),F.jsx("div",{className:"mt-8",children:F.jsx("button",{onClick:()=>R("signin"),className:"w-full btn btn-secondary",children:"Back to Sign In"})})]})}):F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"max-w-md w-full space-y-8",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"text-center text-3xl font-bold text-gray-900",children:"Job Tracker"}),F.jsx("h2",{className:"mt-6 text-center text-2xl font-extrabold text-gray-900",children:Le()}),t==="signin"&&F.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Track your job applications and interviews"})]}),x&&F.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:F.jsxs("div",{className:"flex",children:[F.jsx(DP,{className:"h-5 w-5 text-red-400"}),F.jsx("div",{className:"ml-3",children:F.jsx("p",{className:"text-sm font-medium text-red-800",children:x})})]})}),F.jsxs("form",{className:"mt-8 space-y-6",onSubmit:ye(k),children:[F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"email",className:"label",children:"Email address"}),F.jsxs("div",{className:"relative",children:[F.jsx(UP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),F.jsx("input",{...ie("email"),type:"email",autoComplete:"email",className:"input pl-10",placeholder:"Enter your email"})]}),D.email&&F.jsx("p",{className:"form-error",children:D.email.message})]}),t!=="reset"&&F.jsxs("div",{children:[F.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),F.jsxs("div",{className:"relative",children:[F.jsx(qT,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),F.jsx("input",{...ie("password"),type:n?"text":"password",autoComplete:t==="signup"?"new-password":"current-password",className:"input pl-10 pr-10",placeholder:"Enter your password"}),F.jsx("button",{type:"button",className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",onClick:()=>i(!n),children:n?F.jsx(OP,{}):F.jsx(kP,{})})]}),D.password&&F.jsx("p",{className:"form-error",children:D.password?.message})]}),t==="signup"&&F.jsxs("div",{children:[F.jsx("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"}),F.jsxs("div",{className:"relative",children:[F.jsx(qT,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),F.jsx("input",{...ie("confirmPassword"),type:n?"text":"password",autoComplete:"new-password",className:"input pl-10",placeholder:"Confirm your password"})]}),D.confirmPassword&&F.jsx("p",{className:"form-error",children:D.confirmPassword?.message})]})]}),F.jsx("div",{children:F.jsx("button",{type:"submit",disabled:S||a,className:"btn btn-primary w-full",children:je()})}),t==="signin"&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"flex items-center justify-between",children:F.jsx("button",{type:"button",onClick:()=>R("reset"),className:"text-sm text-primary-600 hover:text-primary-500",children:"Forgot password?"})}),F.jsxs("div",{className:"mt-6",children:[F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:"absolute inset-0 flex items-center",children:F.jsx("div",{className:"w-full border-t border-gray-300"})}),F.jsx("div",{className:"relative flex justify-center text-sm",children:F.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),F.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[F.jsxs("button",{type:"button",onClick:L,disabled:a,className:"btn btn-secondary flex items-center justify-center",children:[F.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[F.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),F.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),F.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),F.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),F.jsx("button",{type:"button",onClick:P,disabled:a,className:"btn btn-secondary",children:"Guest Mode"})]})]})]}),F.jsx("div",{className:"text-center",children:t==="signin"?F.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",F.jsx("button",{type:"button",onClick:()=>R("signup"),className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]}):t==="signup"?F.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",F.jsx("button",{type:"button",onClick:()=>R("signin"),className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]}):F.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",F.jsx("button",{type:"button",onClick:()=>R("signin"),className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})})]}),F.jsx("div",{className:"text-center text-xs text-gray-500",children:F.jsxs("p",{children:["By signing up, you agree to our"," ",F.jsx("a",{href:"#privacy",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})})]})})},Yh=()=>{const[t,e]=W.useState(!1),[n,i]=W.useState(!1),{user:a,appUser:l,signOut:c}=Ay(),d=Lf(),p=async()=>{try{await c(),d(Cn.LOGIN)}catch(v){console.error("Sign out error:",v)}},g=[{name:"Applications",href:Cn.APPLICATIONS},{name:"Analytics",href:Cn.STATS},{name:"Tracking",href:Cn.TRACKING}];return F.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[F.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[F.jsxs("div",{className:"flex justify-between items-center h-16",children:[F.jsx("div",{className:"flex items-center",children:F.jsxs(zo,{to:Cn.APPLICATIONS,className:"flex items-center space-x-2",children:[F.jsx(IP,{className:"h-8 w-8 text-primary-600"}),F.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Job Tracker"})]})}),F.jsx("nav",{className:"hidden md:flex space-x-8",children:g.map(v=>F.jsx(zo,{to:v.href,className:"nav-link-inactive hover:nav-link-active",children:v.name},v.name))}),F.jsxs("div",{className:"flex items-center space-x-4",children:[a&&F.jsxs("div",{className:"relative",children:[F.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100",children:[l?.photoURL?F.jsx("img",{src:l.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full"}):F.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center",children:F.jsx(KP,{className:"h-4 w-4 text-white"})}),F.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:l?.displayName||(l?.isAnonymous?"Guest User":l?.email?.split("@")[0])||"User"})]}),n&&F.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[F.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[F.jsx("p",{className:"text-sm font-medium text-gray-900",children:l?.displayName||"User"}),F.jsx("p",{className:"text-sm text-gray-500",children:l?.isAnonymous?"Guest Account":l?.email})]}),F.jsxs(zo,{to:Cn.SETTINGS,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:[F.jsx(HP,{className:"h-4 w-4 mr-2"}),"Settings"]}),F.jsxs("button",{onClick:p,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[F.jsx(MP,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]}),F.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:t?F.jsx(YP,{className:"h-6 w-6"}):F.jsx(jP,{className:"h-6 w-6"})})]})]}),t&&F.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:F.jsx("div",{className:"space-y-1",children:g.map(v=>F.jsx(zo,{to:v.href,className:"block px-3 py-2 text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md",onClick:()=>e(!1),children:v.name},v.name))})})]}),(t||n)&&F.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{e(!1),i(!1)}})]})},m3=Xt.lazy(()=>Pf(()=>import("./ApplicationsPage-CZv0tYjc.js"),__vite__mapDeps([0,1]))),p3=Xt.lazy(()=>Pf(()=>import("./StatsPage-CqD5FBRg.js"),__vite__mapDeps([2,1]))),g3=Xt.lazy(()=>Pf(()=>import("./TrackingPage-BNTKeai0.js"),[])),y3=Xt.lazy(()=>Pf(()=>import("./SettingsPage-Dh30KqVb.js"),[]));function _3(){return F.jsx(XP,{children:F.jsx(vP,{children:F.jsx(UI,{basename:"/job-tracker",children:F.jsx("div",{className:"min-h-screen bg-gray-50",children:F.jsxs(mI,{children:[F.jsx(Ns,{path:Cn.LOGIN,element:F.jsx(d3,{})}),F.jsx(Ns,{path:Cn.APPLICATIONS,element:F.jsxs($h,{children:[F.jsx(Yh,{}),F.jsx(Xt.Suspense,{fallback:F.jsx("div",{className:"flex items-center justify-center h-64",children:F.jsx("div",{className:"loading-spinner"})}),children:F.jsx(m3,{})})]})}),F.jsx(Ns,{path:Cn.STATS,element:F.jsxs($h,{children:[F.jsx(Yh,{}),F.jsx(Xt.Suspense,{fallback:F.jsx("div",{className:"flex items-center justify-center h-64",children:F.jsx("div",{className:"loading-spinner"})}),children:F.jsx(p3,{})})]})}),F.jsx(Ns,{path:Cn.TRACKING,element:F.jsxs($h,{children:[F.jsx(Yh,{}),F.jsx(Xt.Suspense,{fallback:F.jsx("div",{className:"flex items-center justify-center h-64",children:F.jsx("div",{className:"loading-spinner"})}),children:F.jsx(g3,{})})]})}),F.jsx(Ns,{path:Cn.SETTINGS,element:F.jsxs($h,{children:[F.jsx(Yh,{}),F.jsx(Xt.Suspense,{fallback:F.jsx("div",{className:"flex items-center justify-center h-64",children:F.jsx("div",{className:"loading-spinner"})}),children:F.jsx(y3,{})})]})}),F.jsx(Ns,{path:"/",element:F.jsx(xp,{to:Cn.APPLICATIONS,replace:!0})}),F.jsx(Ns,{path:"*",element:F.jsx(xp,{to:Cn.APPLICATIONS,replace:!0})})]})})})})})}TR.createRoot(document.getElementById("root")).render(F.jsx(W.StrictMode,{children:F.jsx(_3,{})}));export{uP as A,Ty as F,gS as L,cP as S,YP as X,nL as a,x3 as b,Yn as c,_R as d,mg as e,T3 as f,hR as g,D3 as h,C3 as i,F as j,id as k,R3 as l,I3 as m,O3 as n,b3 as o,S3 as p,w3 as q,W as r,N3 as s,Ey as t,v4 as u,Ay as v,A3 as w};
